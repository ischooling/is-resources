function cancelSchoolPayment(e){$("#callWireTransferModal").modal("hide")}function callTransferSubmit(e){if(""==$("#wireTransferNumber").val().trim()||null==$("#wireTransferNumber").val().trim())return showMessage(!0,"WireTransfer Number is required"),!1;$("#callWireTransferModal").modal("show")}function callSchoolPayOnline(e){callInitPayment("","SCHOOL_B2B");callCommonPaymentGateway("signupStage6","school","type=One_time_Application_Fee&userId=&payId=&paymentType=One_time_Application_Fee")}function callSigninSchoolPay(e){$("#termsAndConditionsSchool").modal("hide"),$("#callWireTransferModalDecline").modal("hide"),callForSignupSchoolSigningContractB2B("signupStage6")}function callDeclConfirmation(e){$("#declConfirmation7").is(":checked")?$("#signingSchoolPay").removeAttr("disabled"):$("#signingSchoolPay").attr("disabled",!0)}function callForSignupSchoolSigningContract(e){if(hideMessage(""),validateForSigningContract("formId"))return tabActiveStatus(6),!1;$.ajax({type:"POST",url:getURLForHTML("school","signup/stage-6"),data:encodeURI("request="+JSON.stringify(getRequestForSigningContract(e))),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var a;return"FAILED"==(a=e.split("|"))[0]||"EXCEPTION"==a[0]||"SESSIONOUT"==a[0]?"SESSIONOUT"==a[0]?redirectLoginPage():(showMessage(!0,a[1]),tabActiveStatus(6)):(showMessage(!1,"School request updated successfully."),url="/dashboard/school",goAhead(url,"")),$("#nextStep").prop("disabled",!1),!1}},error:function(e){showMessage(!0,e.responseText),$("#nextStep").prop("disabled",!1),tabActiveStatus(6)}})}function validateForSigningContract(e){return""!=$("#"+e+" #refThrough").val().trim()&&""!=$("#"+e+" #witnessName").val().trim()||(showMessage(!0,"Please Fill the mandotory field For the contract"),!1)}function callForSignupSchoolSigningContractB2B(e){hideMessage(""),$.ajax({type:"POST",url:getURLForHTML("school","signup/stage-6"),data:encodeURI("request="+JSON.stringify(getRequestForSigningContract(e))),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var a;return"FAILED"==(a=e.split("|"))[0]||"EXCEPTION"==a[0]||"SESSIONOUT"==a[0]?"SESSIONOUT"==a[0]?redirectLoginPage():(showMessage(!0,a[1]),tabActiveStatus(6)):(showMessage(!1,"School contract saved successfully."),$("#callPaymentModal").modal("show")),$("#nextStep").prop("disabled",!1),!1}},error:function(e){$("#nextStep").prop("disabled",!1),tabActiveStatus(6)}})}function getRequestForSigningContract(e){var a={},t={},o={},r={};return r.userId=$("#"+e+" #userId").val().trim(),r.contractDate=$("#"+e+" #currentDate").val().trim(),r.schoolCompAddress=escapeCharacters($("#"+e+" #regSchoolName").val().trim()),r.chairPersonName=escapeCharacters($("#"+e+" #regSchoolName").val().trim()),r.refThrough=escapeCharacters($("#"+e+" #refPersonName").val().trim()),r.designation=escapeCharacters($("#"+e+" #designationName").val().trim()),r.witnessName=escapeCharacters($("#"+e+" #witnessName").val().trim()),o.schoolSigningContractsDTO=r,t.hash=getHash(),t.schoolId=SCHOOL_ID,t.schoolUUID=SCHOOL_UUID,t.userType="SCHOOL",t.userId=$("#"+e+" #userId").val().trim(),a.authentication=t,a.requestData=o,a}function callInitPayment(e,a){hideMessage(""),$("#callPaymentModal").modal("show"),$.ajax({type:"POST",contentType:"application/json",url:getURLFor("school","signup/payment-initiated"),data:JSON.stringify(getSchoolRequestForInitPayment(e,a)),dataType:"json",cache:!1,async:!1,timeout:6e5,success:function(e){return"0"==e.status||e.status,showMessage(!0,e.message),!1},error:function(e){}})}function getSchoolRequestForInitPayment(e,a){console.log("in 11");var t={},o={},r={},n={};return $("#location").length>0?n.location=$("#location").val():n.location="",n.userType=a,n.moduleName="SCHOOL_B2B",r.commonPaymentInfoDTO=n,o.hash=getHash(),o.schoolId=SCHOOL_ID,o.schoolUUID=SCHOOL_UUID,o.userType=a,o.userId=$("#userId").val().trim(),t.authentication=o,t.requestData=r,t}function callWireTransferPayment(e,a){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLFor("school","call-wireTransferPayment"),data:JSON.stringify(getRequestForWireTransferPayment(e,a)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?showMessage(!0,e.message):(showMessage(!0,e.message),$("#callWireTransferModalInProcess").modal("show"),location.reload()),!1},error:function(e){}})}function getRequestForWireTransferPayment(e,a){var t={},o={},r={},n={userType:"SCHOOL_B2B",moduleName:"SCHOOL_B2B"};return n.referenceNumber=escapeCharacters($("#wireTransferNumber").val().trim()),n.paymentType=$("#paymentType").val().trim(),r.wireTransferInfoDTO=n,o.hash=getHash(),o.schoolId=SCHOOL_ID,o.schoolUUID=SCHOOL_UUID,o.userType="SCHOOL_B2B",o.userId=$("#userId").val().trim(),t.authentication=o,t.requestData=r,t}$(document).ready((function(){}));