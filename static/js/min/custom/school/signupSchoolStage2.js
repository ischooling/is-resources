function validateRequestForSignupSchoolBasicDetails(e){if(!validateFormAscii(e))return showMessage(!1,"Please use the English Keyboard while providing information"),!1;if(0==$("#"+e+" #countryId").val().trim()||""==$("#"+e+" #countryId").val().trim()||null==$("#"+e+" #countryId").val())return showMessage(!0,"Country is required"),!1;if(0==$("#"+e+" #stateId").val().trim()||""==$("#"+e+" #stateId").val().trim()||null==$("#"+e+" #stateId").val())return showMessage(!0,"State is required"),!1;if(0==$("#"+e+" #cityId").val().trim()||""==$("#"+e+" #cityId").val().trim()||null==$("#"+e+" #cityId").val())return showMessage(!0,"City is required"),!1;if(0==$("#"+e+" #typeOfSchool").val().trim()||""==$("#"+e+" #typeOfSchool").val().trim()||null==$("#"+e+" #typeOfSchool").val())return showMessage(!0,"Type of Institute is required"),!1;if(""==$("#"+e+" #schoolName").val().trim())return showMessage(!0,"Institute Name is required"),!1;if(0==$("#"+e+" #yearOfEstablishment").val().trim()||""==$("#"+e+" #yearOfEstablishment").val().trim()||null==$("#"+e+" #yearOfEstablishment").val())return showMessage(!0,"Year of Establishment is required"),!1;if(""==$("#"+e+" #addressAddress1").val().trim())return showMessage(!0,"Address Line 1 is required"),!1;if(""==$("#"+e+" #addressAddress2").val().trim())return showMessage(!0,"Address Line 2 is required"),!1;if(""==$("#"+e+" #pincode").val().trim())return showMessage(!0,"Zipcode is required"),!1;if(0==$("#"+e+" #countryCode").val().trim()||""==$("#"+e+" #countryCode").val().trim()||null==$("#"+e+" #countryCode").val())return showMessage(!0,"ISD code is required"),!1;if(""==$("#"+e+" #contactNumber").val().trim())return showMessage(!0,"Institute Phone No is required"),!1;if(""==$("#"+e+" #firstName").val().trim())return showMessage(!0,"First Name is required"),!1;if(""==$("#"+e+" #lastName").val().trim())return showMessage(!0,"Last Name is required"),!1;if("SCHOOL_B2B"==$("#roleType").val().trim()){if(""==$("#"+e+" #instituteHeadName").val().trim()||null==$("#"+e+" #instituteHeadName").val())return showMessage(!0,"Name of Head of Institute is required"),!1;if(""==$("#"+e+" #instituteHeadTitle").val().trim()||null==$("#"+e+" #instituteHeadTitle").val())return showMessage(!0,"Title of Head of Institute is required"),!1;if(0==$("#"+e+" #contactPersonStdCode").val().trim()||""==$("#"+e+" #contactPersonStdCode").val().trim()||null==$("#"+e+" #contactPersonStdCode").val())return showMessage(!0,"Contact Person Std code is required"),!1;if(""==$("#"+e+" #contactPersonPhoneNo").val().trim()||null==$("#"+e+" #contactPersonPhoneNo").val())return showMessage(!0,"Contact Person Phone no is required"),!1}else{if(0==$("#"+e+" #countryCodeAlternate").val().trim()||""==$("#"+e+" #countryCodeAlternate").val().trim()||null==$("#"+e+" #countryCodeAlternate").val())return showMessage(!0,"Contact ISD code is required"),!1;if(""==$("#"+e+" #contactNumberAlternate").val().trim())return showMessage(!0,"Contact Phone No is required"),!1}if(""==$("#"+e+" #communicationEmail").val().trim())return showMessage(!0,"Contact Person Email is required"),!1;if("SCHOOL"==$("#roleType").val()){if(0==$("#"+e+" #numberOfStudent").val().trim()||""==$("#"+e+" #numberOfStudent").val().trim()||null==$("#"+e+" #numberOfStudent").val())return showMessage(!0,"Number of student is required"),!1;if(0==$("#"+e+" #numberOfStaffs").val().trim()||""==$("#"+e+" #numberOfStaffs").val().trim()||null==$("#"+e+" #numberOfStaffs").val())return showMessage(!0,"Number of staffs is required"),!1;if(0==$("#"+e+" #numberOfClassrooms").val().trim()||""==$("#"+e+" #numberOfClassrooms").val().trim()||null==$("#"+e+" #numberOfClassrooms").val())return showMessage(!0,"Number of classroom is required"),!1;if(0==$("#"+e+" #totalSchoolArea").val().trim()||""==$("#"+e+" #totalSchoolArea").val().trim()||null==$("#"+e+" #totalSchoolArea").val())return showMessage(!0,"Total School Area is required"),!1}return!!$("#declConfirmation").is(":checked")||(showMessage(!0,"Please accept the declaration"),!1)}function callForSignupSchoolBasicDetails(e){if(hideMessage(""),!validateRequestForSignupSchoolBasicDetails(e))return tabActiveStatus(2),!1;$("#nextStep").prop("disabled",!0),$.ajax({type:"POST",url:getURLForHTML("school","signup/stage-2"),data:encodeURI("request="+JSON.stringify(getRequestForSchoolBasicDetails(e))),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var t;return"FAILED"==(t=e.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?"SESSIONOUT"==t[0]?redirectLoginPage():(showMessage(!0,t[1]),tabActiveStatus(2)):($("#signupStage3Content").html(e),showMessage(!1,"Basic information updated successfully."),tabActiveStatus(3)),$("#nextStep").prop("disabled",!1),!1}},error:function(e){$("#nextStep").prop("disabled",!1),tabActiveStatus(2)}})}function getRequestForSchoolBasicDetails(e){var t={},a={},r={},s={};return s.countryId=$("#"+e+" #countryId").val().trim(),s.stateId=$("#"+e+" #stateId").val().trim(),s.cityId=$("#"+e+" #cityId").val().trim(),s.typeOfSchool=$("#"+e+" #typeOfSchool").val().trim(),s.schoolName=escapeCharacters($("#"+e+" #schoolName").val().trim()),s.addressAddress1=escapeCharacters($("#"+e+" #addressAddress1").val().trim()),s.addressAddress2=escapeCharacters($("#"+e+" #addressAddress2").val().trim()),s.pincode=escapeCharacters($("#"+e+" #pincode").val().trim()),s.yearOfEstablishment=$("#"+e+" #yearOfEstablishment").val().trim(),s.website=escapeCharacters($("#"+e+" #website").val().trim()),s.email=$("#"+e+" #email").val().trim(),"SCHOOL_B2B"==$("#roleType").val().trim()&&(s.instituteHeadName=escapeCharacters($("#"+e+" #instituteHeadName").val().trim()),s.instituteHeadTitle=escapeCharacters($("#"+e+" #instituteHeadTitle").val().trim()),s.contactPersonStdCode=$.trim($("#"+e+" #contactPersonStdCode option:selected").text().split(" ")[0].replace("+","")),s.contactPersonPhoneNo=$("#"+e+" #contactPersonPhoneNo").val().trim(),s.contactPersonDesignation=escapeCharacters($("#"+e+" #contactPersonDesignation").val().trim())),s.countryCode=$.trim($("#"+e+" #countryCode option:selected").text().split(" ")[0].replace("+","")),s.contactNumber=$("#"+e+" #contactNumber").val().trim(),s.firstName=escapeCharacters($("#"+e+" #firstName").val().trim()),s.lastName=escapeCharacters($("#"+e+" #lastName").val().trim()),s.communicationEmail=escapeCharacters($("#"+e+" #communicationEmail").val().trim()),"SCHOOL"==$("#roleType").val().trim()&&(s.numberOfStudent=$("#"+e+" #numberOfStudent").val().trim(),s.countryCodeAlternate=$.trim($("#"+e+" #countryCodeAlternate option:selected").text().split(" ")[0].replace("+","")),s.contactNumberAlternate=$("#"+e+" #contactNumberAlternate").val().trim(),s.numberOfStaffs=$("#"+e+" #numberOfStaffs").val().trim(),s.numberOfClassrooms=$("#"+e+" #numberOfClassrooms").val().trim(),s.totalSchoolArea=$("#"+e+" #totalSchoolArea").val().trim(),s.contactPersonDesignation=escapeCharacters($("#"+e+" #contactPersonDesignation").val().trim())),$("#declConfirmation").is(":checked")?s.declConfirmation="Y":s.declConfirmation="N",r.signupSchoolDTO=s,a.hash=getHash(),a.schoolId=SCHOOL_ID,a.schoolUUID=SCHOOL_UUID,a.userType="SCHOOL",a.userId=$("#"+e+" #userId").val().trim(),t.authentication=a,t.requestData=r,t}$(document).ready((function(){$("select#countryId").on("change",(function(){callStates("signupStage2",this.value,"countryId"),$(".divStateSchool").removeClass("is-empty"),$(".divStateCity").removeClass("is-empty"),$(".divStdIsdCode").removeClass("is-empty")})),$("select#stateId").on("change",(function(){callCities("signupStage2",this.value,"stateId"),$(".divStateCity").removeClass("is-empty")}))}));