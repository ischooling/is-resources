var editor1,editor2,editor3,editor4,sumUnseen,BASE_TIMEZONE="Asia/Singapore",API_VERSION=CONTEXT_PATH+SCHOOL_UUID+"/api/v1/",API_VERSION_WITHOUT_UNIQUEID=CONTEXT_PATH+"api/v1/",GLOBAL_EMAIL="",GRADE_CAL_RULE={},DEFAULT_SEARCH_STATE=!0,globalEntityId="",TECHNICAL_GLITCH="Sorry for inconvenience, system has encountered technical glitch.",SERVICE_UNAVAILABLE="Temporarily Ticket Service is not available!",MAX_SIZE_LIMIT="Please upload maximum 5MB file in size.",MAX_SIZE_LIMIT_FOR_TEACHER="Please upload maximum 10 MB file in size.",pattern=/^(?=.*[!@#$%^&*(),.?":{}|<>])(?=.*[A-Z])(?=.*[a-z]).{8,20}$/,date=new Date,today=new Date(date.getFullYear(),date.getMonth(),date.getDate()),end=new Date(date.getFullYear(),date.getMonth(),date.getDate());function redirectLoginPage(){signupPage>0?window.setTimeout((function(){window.location=BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/common/login"}),1e3):$("#continueSessionForm").length>0?(callLocationAndSelectCountryNew("continueSessionForm"),$("#password").val(""),$("#captcha").val(""),$("#sessionOutPermission").modal({backdrop:"static",keyboard:!1}),refreshCaptcha("captchaImage")):window.setTimeout((function(){window.location=BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/common/login"}),1e3)}function refreshCaptcha(e){null!=e&&""!=e&&$("#"+e).length>0&&(document.images[e].src=BASE_URL+API_VERSION+"common/captcha.jpg?v="+(new Date).getTime())}function getURLForHTML(e,a){return BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/"+e+"/"+a}function getURLFor(e,a){return BASE_URL+API_VERSION+e+"/"+a}function getURLForCommon(e){return BASE_URL+API_VERSION+"common/"+e}function getURLForMeeting(e){return BASE_URL+API_VERSION+"meetings/"+e}function logout(e){var a=BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/common/logout/"+(UNIQUEUUID||"111");e&&(a+=e),goAheadGet(a,"")}function getURLForWithoutUnique(e,a){return BASE_URL+API_VERSION_WITHOUT_UNIQUEID+e+"/"+a}function getURLForSignup(e,a){var t="common";return null==a||null==a?"STUDENT"==moduleId?t="student":"TEACHER"==moduleId?t="teacher":"SCHOOL"==moduleId||"SCHOOL_B2B"==moduleId?t="school":"COMMON"==moduleId&&(t="common"):t=a.toLowerCase(),API_VERSION+t+"/"+e}function showModalMessage(e,a,t){hideModalMessage(t),e?($("#modalMessageNew").addClass("failure"),$("#modalMessageNew1").addClass("failure")):($("#modalMessageNew").addClass("success"),$("#modalMessageNew1").addClass("success")),$("#modalMessageNew").html(a),$("#modalMessageNew1").html(a)}function hideModalMessage(e){$("#modalMessageNew").html(""),$("#modalMessageNew").removeClass("success"),$("#modalMessageNew").removeClass("failure"),$("#modalMessageNew1").html(""),$("#modalMessageNew1").removeClass("success"),$("#modalMessageNew1").removeClass("failure")}function showMessage(e,a,t){window.scrollTo({top:100,left:100,behavior:"smooth"}),e?($("#errorHeading").html("Error! Be focus on work"),$("#statusMessage").addClass("danger-color"),$("#statusMessage").removeClass("success-color")):($("#errorHeading").html("Information!"),$("#statusMessage").removeClass("danger-color"),$("#statusMessage").addClass("success-color")),$("#statusMessage").html(a),$("#modalMessage").modal("show"),signupPage>0&&(setTimeout((function(){$("#modalMessage").modal("hide")}),3e3),setTimeout((function(){tabActiveStatus(signupPage)}),1))}function showMessageBankDetails(e,a,t){e?($("#errorHeading").html("Error! Be focus on work"),$("#statusMessageBD").addClass("danger-color"),$("#statusMessageBD").removeClass("success-color")):($("#errorHeading").html("Information!"),$("#statusMessageBD").removeClass("danger-color"),$("#statusMessageBD").addClass("success-color")),$("#statusMessageBD").html(a),$("#modalMessageBD").show(),$("#withdrawnRequestBankForm .modal-body").animate({scrollTop:0},"slow"),setTimeout((function(){$("#modalMessageBD").hide()}),5e3)}function hideMessage(e){$("#errorHeading").html(""),$("#statusMessage").removeClass("success-color"),$("#statusMessage").removeClass("danger-color"),$("#statusMessage").html(""),$("#modalMessage").modal("hide")}function showMessageRequestDemoPage(e,a,t,s){$("#"+t).parent().addClass("show-message"),s.length>0&&($("#"+s).addClass("highlight-field"),$("#"+s).next().find(".select2-selection__rendered").addClass("highlight-field")),$("#"+t).html(a)}function hideMessageRequestDemoPage(e,a){$("#"+e).parent().removeClass("show-message"),a.length>0&&($("#"+a).removeClass("highlight-field"),$("#"+a).next().find(".select2-selection__rendered").removeClass("highlight-field")),$("#"+e).html("")}function showMessageErrorNew(e,a,t){$("#"+t).addClass("show-errow-msg"),$("#"+t).html(a)}function hideMessageErrorNew(e){$("#"+e).removeClass("show-errow-msg"),$("#"+e).html("")}function showHideDiv(e,a){e?($("#"+a).removeClass("show"),$("#"+a).addClass("hide")):($("#"+a).removeClass("hide"),$("#"+a).addClass("show"))}function getHash(){return Math.random().toString(36)}function buildDropdown(e,a,t){a.html(""),""!=e?(a.append('<option value="0">'+t+"</option>"),$.each(e,(function(e,t){null!=t.extra&&null!=t.extra1?a.append('<option value="'+t.key+'">'+t.extra+" - "+t.extra1+"</option>"):null!=t.extra?"selected"==t.extra?a.append('<option disabled selected value="'+t.key+'">'+t.value+"</option>"):(t.extra,a.append('<option value="'+t.key+'"> '+t.value+"</option>")):a.append('<option value="'+t.key+'">'+t.value+"</option>")}))):a.append('<option value="0">'+t+"</option>")}function resetDropdown(e,a){e.html(""),e.append("<option disabled selected> </option>")}function customLoader(e){e?($("#commonloaderId").removeClass("hide"),$("#commonloaderBody").addClass("loader"),$("#commonloaderId").addClass("loader-bg"),$("#commonloaderId").show()):($("#commonloaderBody").removeClass("loader"),$("#commonloaderId").removeClass("loader-bg"),$("#commonloaderId").addClass("hide"),$("#commonloaderId").hide())}function checkonlineOfflineStatus(){return!navigator.onLine&&("theme1"==tt?showMessage(!0,"Your device is offline, please check your internet connection."):showMessageTheme2(0,"Your device is offline, please check your internet connection.","",!0),!0)}function setPagePosition(e){signupPage=e}function increasePosition(){signupPage+=1}function decresePosition(){if(console.log("signupPage: "+signupPage+" -  signupSubPage1: "+signupSubPage1),6==signupPage)$("#standardId5").val()>=11&&$("#standardId5").val()<=17?(signupSubPage1=3,signupPage-=1,tabActiveStatus(signupPage)):(1==signupSubPage1||2==signupSubPage1||($("#standardId5").val()<4?signupSubPage1=2:signupSubPage1=1),1==signupSubPage1||signupSubPage1,signupPage-=1,tabActiveStatus(signupPage));else if(5==signupPage){if(1==SCHOOL_ID)if($("#standardId5").val()>=11&&$("#standardId5").val()<=17)signupPage-=1,tabActiveStatus(signupPage);else if(4==signupSubPage1)elligibleForAPCourse?signupSubPage1=3:signupSubPage1=2;else{if(3==signupSubPage1)return signupSubPage1=4,signupPage=4,$("#signupSubPage1").val(signupSubPage1),tabActiveStatus(signupPage),!1;2==signupSubPage1?$("#standardId5").val()<4?(signupPage-=1,tabActiveStatus(signupPage)):(signupSubPage1=1,tabActiveStatus(signupPage)):1==signupSubPage1&&(signupPage-=1,tabActiveStatus(signupPage))}else signupPage-=2,tabActiveStatus(signupPage);$("#signupSubPage1").val(signupSubPage1)}else signupPage<=1?signupPage=1:2==signupPage?"Offline"!=signupType&&"Online-Flex"!=signupType||(signupPage-=1):4==signupPage?"Offline"!=signupType&&"Online-Flex"!=signupType||(signupPage-=2):(signupPage-=1,"SCHOOL_B2B"==moduleId&&$("#signupStage2 #declConfirmation").prop("checked",!1)),tabActiveStatus(signupPage);$("#signupSubPage1").val(signupSubPage1),console.log("signupPage : "+signupPage)}function tabActiveStatus(e){signupPage=e,$("#tabPosition"+e).trigger("click")}function goAheadGet(e,a){var t=$('<form action="'+e+'" method="GET"><input type="hidden" name="hash" id="hash" value="'+a+'" /></form>');$("body").append(t),$(t).submit()}function goAhead(e,a){var t=$('<form action="'+e+'" method="POST"><input type="hidden" name="hash" id="hash" value="'+a+'" /></form>');$("body").append(t),$(t).target="_blank",$(t).submit()}function callEmailCheck(e,a){return hideMessage(""),!$("#"+e+" #email").val().trim()||!!validateRequestForEmailCheck(e)&&($("#email").prop("disabled",!0),void $.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("is-user-available"),data:JSON.stringify(getRequestForEmailCheck(e,a)),dataType:"json",cache:!1,timeout:6e5,success:function(a){return"0"!=a.status&&"2"!=a.status||("0044"==a.statusCode||"0043"==a.statusCode?($("#allReadyEmail #emailNotVerify").hide(),$("#allReadyEmail #emailVerify").show(),$("#allReadyEmail #userDeclined").hide(),$("#allReadyEmail").modal("toggle")):"02"==a.statusCode?($("#allReadyEmail #emailNotVerify").hide(),$("#allReadyEmail #emailVerify").hide(),$("#allReadyEmail #userDeclined").show(),$("#allReadyEmail").modal("toggle")):showMessage(!0,a.message)),$("#"+e+" #email").prop("disabled",!1),!1},error:function(a){console.log("ERROR : ",a),$("#"+e+" #email").prop("disabled",!1)}}))}function validateRequestForEmailCheck(e){return!!validateEmail($("#"+e+" #email").val().trim())||($("#"+e+" #email").css("color","#a9a9a9"),showMessage(!1,"Email is either empty or invalid"),!1)}function getRequestForEmailCheck(e,a){var t={},s={},o={requestKey:"EMAIL-AVAILABLE"};return o.email=$("#"+e+" #email").val().trim(),s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=a,t.authentication=s,t.data=o,t}function emailCheck(e,a){var t="";return hideMessage(""),validateEmail(e)?($.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("is-user-available"),data:JSON.stringify(getCallRequestForEmailCheck(e,a)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(e){"0"==e.status||"2"==e.status?(showMessage(!0,"Email already exist"),t=!1):t=!0},error:function(e){console.log("ERROR : ",e)}}),t):(showMessage(!1,"Email is either empty or invalid"),!1)}function getCallRequestForEmailCheck(e,a,t){var s={},o={},n={requestKey:"EMAIL-AVAILABLE"};return n.requestValue=e,n.requestExtra1=t,o.hash=getHash(),o.schoolId=SCHOOL_ID,o.schoolUUID=SCHOOL_UUID,o.userType=a,s.authentication=o,s.data=n,s}function callCities(e,a,t){if(hideMessage(""),!validateRequestForMaster(e,t))return $("#"+e+" #cityId").val()&&$("#"+e+" #cityId").val().trim(0),resetDropdown($("#"+e+" #cityId"),"Select city*"),!1;$("#"+e+" #cityId").prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster("formId","CITIES-LIST",a)),dataType:"json",cache:!1,timeout:6e5,success:function(a){return"0"==a.status||"2"==a.status?showMessage(!0,a.message):buildDropdown(a.mastersData.cities,$("#"+e+" #cityId"),"Select city*"),$("#"+e+" #cityId").prop("disabled",!1),!1},error:function(a){$("#"+e+" #cityId").prop("disabled",!1)}})}function callCitiesNew(e,a,t,s){var o=!1;return hideMessage(""),validateRequestForMaster(e,t)?($("#"+e+" #"+s).prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster("formId","CITIES-LIST",a)),dataType:"json",async:!1,success:function(a){"0"==a.status||"2"==a.status?showMessage(1,a.message):buildDropdown(a.mastersData.cities,$("#"+e+" #"+s),"Select city*"),$("#"+e+" #"+s).prop("disabled",!1),o=!0},error:function(a){$("#"+e+" #"+s).prop("disabled",!1),o=!1}}),o):($("#"+e+" #"+s).val(0),resetDropdown($("#"+e+" #"+s),"Select city*"),!1)}function getCountryTimezoneByTimeZone(e,a,t){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"TIMEZONE-LIST-BY-OFFSET",a)),dataType:"json",cache:!1,timeout:6e5,success:function(a){console.log(a.status),"0"==a.status||"2"==a.status?showMessage(!0,a.message):$.each(a.mastersData.countryTimeZones,(function(a,s){$("#"+e+" #"+t).append('<option value="'+s.key+'" data-timezone="'+s.extra4+'">('+s.extra+") - "+s.extra1+"/"+s.extra3+"</option>")}))}})}function getAllCountryTimezone(e,a,t){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"TIMEZONE-LIST",a)),dataType:"json",cache:!1,timeout:6e5,success:function(a){"0"==a.status||"2"==a.status?showMessage(!0,a.message):($.each(a.mastersData.countryTimeZones,(function(a,s){$("#"+e+" #"+t).append('<option custom_timezone_id="'+s.key+'" value="'+s.value+'">('+s.extra+") - "+s.extra1+"/"+s.extra3+"</option>")})),$("#"+e+"Alternet #"+t).length&&$("#"+e+"Alternet #"+t).html($("#"+e+" #"+t).html()))}})}function callISDCode(e,a,t){$("#"+e+" #"+t).html('<option value="">Select ISD code</option>'),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"COUNTRIES-LIST",a)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(a){"0"==a.status||"2"==a.status?showMessage(!0,a.message):$.each(a.mastersData.countries,(function(a,s){$("#"+e+" #"+t).append('<option value="'+s.extra1+'">'+s.extra1+" "+s.value+"</option>")})),$("#"+e+"Alternet #"+t).length&&$("#"+e+"Alternet #"+t).html($("#"+e+" #"+t).html()),callLocationAndSelectCountryNew(e)}})}function callCountries(e,a,t){$("#"+e+" #"+t).html('<option value="">Select country*</option>'),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"COUNTRIES-LIST",a)),dataType:"json",cache:!1,timeout:6e5,success:function(a){"0"==a.status||"2"==a.status?showMessage(!0,a.message):$.each(a.mastersData.countries,(function(a,s){$("#"+e+" #"+t).append('<option value="'+s.key+'">'+s.value+"</option>")})),$("#"+e+"Alternet #"+t).length&&$("#"+e+"Alternet #"+t).html($("#"+e+" #"+t).html())}})}function callStates(e,a,t){if(hideMessage(""),console.log(a),!validateRequestForMaster(e,t))return $("#"+e+" #stateId").val(),resetDropdown($("#"+e+" #stateId"),"Select State/Province*"),$("#"+e+" #cityId").val(),resetDropdown($("#"+e+" #cityId"),"Select city*"),!1;$("#"+e+" #stateId").prop("disabled",!0),resetDropdown($("#"+e+" #cityId"),"Select city*"),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"STATES-LIST",a)),dataType:"json",cache:!1,timeout:6e5,success:function(a){"0"==a.status||"2"==a.status?showMessage(!0,a.message):(buildDropdown(a.mastersData.states,$("#"+e+" #stateId"),"Select State/Province*"),"inquiryForm"==e?$("#"+e+" #countryCode").val($("#"+e+" #countryId").val().trim()):"signupStage2"==e&&($("#"+e+" #countryCode").val($("#"+e+" #countryId option:selected").attr("dailCode")),$("#"+e+" #countryCodeStudent").val($("#"+e+" #countryId option:selected").attr("dailCode")))),$("#"+e+" #stateId").prop("disabled",!1)},error:function(a){$("#"+e+" #stateId").prop("disabled",!1)}})}function callStatesNew(e,a,t,s){return hideMessage(""),validateRequestForMaster(e,t)?($.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"STATES-LIST",a)),dataType:"json",async:!1,success:function(a){"0"==a.status||"2"==a.status?showMessage(1,a.message):buildDropdown(a.mastersData.states,$("#"+e+" #"+s),"Select State/Province*"),$("#"+e+" #"+s).prop("disabled",!1)},error:function(a){$("#"+e+" #"+s).prop("disabled",!1)}}),!0):($("#"+e+" #"+s).val(0),resetDropdown($("#"+e+" #"+s),"Select State/Province*"),$("#"+e+" #cityId").val(0),resetDropdown($("#"+e+" #cityId"),"Select city*"),!1)}function validateRequestForMaster(e,a){return null!=$("#"+e+" #"+a).val()&&!(""==$("#"+e+" #"+a).val().trim()||$("#"+e+" #"+a).val().trim()<=0)}function callForResetPassword(e,a){return hideMessage(""),""==$("#password").val().trim()&&""==$("#confirmPassword").val().trim()?(showMessage(!1,"Fields are not valid"),!1):$("#password").val().trim()!=$("#confirmPassword").val().trim()?(showMessage(!1,"Password does not match."),!1):pattern.test($("#"+e+" #password").val())?pattern.test($("#"+e+" #confirmPassword").val().trim())?void $.ajax({type:"POST",url:getURLForCommon("reset-password"),contentType:"application/json",data:JSON.stringify(getRequestForReset(e,a)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():"theme1"==tt?showMessage(!1,e.message):showMessageTheme2(0,e.message,"",!0):"S001"==e.statusCode?(showMessage(!0,e.message),setTimeout((function(){logout()}),1500)):showMessage(!0,e.message),!1}}):(showMessage(!1," Confirm password must match all requirements","",!1),!1):(showMessage(!1," New password must match all requirements","",!1),!1)}function getRequestForReset(e,a){var t={},s={},o={};return o.password=encode($("#"+e+" #password").val().trim()),o.confirmPassword=encode($("#"+e+" #confirmPassword").val().trim()),s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=a,s.userId=$("#"+e+" #userId").val().trim(),t.authentication=s,t.data=o,t}function callForEmailForgot(e,a){if(hideMessage(""),!validateForEmailForgot(e))return!1;$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("forgot-password"),data:JSON.stringify(getRequestForForgot(e,a)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?"0047"==e.statusCode?($("#allReadyEmail #emailNotVerify").html(e.message),$("#allReadyEmail #emailNotVerify").show(),$("#allReadyEmailFooter").show(),$("#allReadyEmail #emailVerify").hide(),$("#allReadyEmail #userDeclined").hide(),$("#allReadyEmail").modal("toggle")):showMessage(!0,e.message):($("#forgotPassword #emailid").val().trim(""),$("#forgotPassword").modal("hide"),showMessage(!1,e.message)),!1},error:function(e){console.log("ERROR : ",e)}})}function validateForEmailForgot(e){return!!validateEmail($("#"+e+" #emailid").val().trim())||($("#"+e+" #emailid").css("color","#a9a9a9"),showMessage(!1,"Please enter a valid email."),!1)}function getRequestForForgot(e,a){var t={},s={},o={requestKey:"FORGOT-PASSWORD"};return o.email=$("#"+e+" #emailid").val().trim(),s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=a,t.authentication=s,t.data=o,t}function callForEmailResend(e,a,t){if(hideMessage(""),!validateForEmailResend(e))return!1;$("#resendEmail").prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("resend-email-verification"),data:JSON.stringify(getRequestForEmailResend(e,a,t)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?"0022"==e.statusCode?($("#emialLimit #emailLimitText").html(e.message),$("#emialLimit").modal("toggle")):showMessage(!0,e.message):showMessage(!1,e.message),$("#resendEmail").prop("disabled",!1),!1},error:function(e){console.log("ERROR : ",e),$("#resendEmail").prop("disabled",!1)}})}function validateForEmailResend(e){return!!validateEmail(e)||(showMessage(!1,"Email is either empty or invalid"),!1)}function getRequestForEmailResend(e,a,t){var s={},o={},n={requestKey:"EMAIL-RESEND"};return n.email=e,n.sendStatus=t,o.hash=getHash(),o.schoolId=SCHOOL_ID,o.schoolUUID=SCHOOL_UUID,o.userType=a,s.authentication=o,s.data=n,s}function validateRequestForContact(e){return 0==$("#"+e+" #countryId").val().trim()||null==$("#"+e+" #countryId").val()?(showMessage(!0,"Country is required"),!1):0==$("#"+e+" #stateId").val().trim()||null==$("#"+e+" #stateId").val()?(showMessage(!0,"State is required"),!1):0==$("#"+e+" #cityId").val().trim()||null==$("#"+e+" #cityId").val()?(showMessage(!0,"City is required"),!1):""==$("#"+e+" #name").val().trim()?(showMessage(!0,"Name is required"),!1):validateEmail($("#"+e+" #email").val().trim())?0==$("#"+e+" #countryCode").val().trim()?(showMessage(!0,"Country Code is required"),!1):0==$("#"+e+" #contactNumber").val().trim()?(showMessage(!0,"Contact Number is required"),!1):0==$("#"+e+" #contactDescription").val().trim()?(showMessage(!0,"Contact Description is required"),!1):!!validateCaptcha($("#"+e+" #captcha").val().trim())||(showMessage(!1,"Either captcha is empty or invalid"),!1):(showMessage(!1,"Email is either empty or invalid"),!1)}function getRequestForContact(e,a){var t={},s={},o={},n={};return n.countryId=$("#"+e+" #countryId").val().trim(),n.stateId=$("#"+e+" #stateId").val().trim(),n.cityId=$("#"+e+" #cityId").val().trim(),n.name=$("#"+e+" #name").val().trim(),n.email=$("#"+e+" #email").val().trim(),n.isdCode=$("#"+e+" #countryCode").val().trim(),n.contactNumber=$("#"+e+" #contactNumber").val().trim(),n.contactDescription=$("#"+e+" #contactDescription").val().trim(),n.captcha=$("#"+e+" #captcha").val().trim(),o.contactUsDTO=n,s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=a,t.authentication=s,t.requestData=o,console.log("request "+t),t}function callUserContact(e,a){if(hideMessage(""),!validateRequestForContact(e))return!1;$("#login").prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("contact"),data:JSON.stringify(getRequestForContact(e,a)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?(refreshCaptcha("captchaImage"),showMessage(!0,e.message)):showMessage(!1,e.message),$("#login").prop("disabled",!1),!1},error:function(e){$("#login").prop("disabled",!1)}})}function getFinalValue(e){var a={};return a.payload=encode(JSON.stringify(e)),a}function bindFileUpload(e,a,t){var s={};s.uploadCategory=a,s.uploadUserId=t,$("#fileupload"+e).fileupload({formData:{payload:JSON.stringify(getFinalValue(s))},url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/api/upload/"+UNIQUEUUID,dataType:"json",type:"POST",enctype:"multipart/form-data",global:!1,add:function(e,a){var t=[],s=!1;if(a.originalFiles[0].type.length&&(/^image\/(png|jpe?g)$/i.test(a.originalFiles[0].type)||/^application\/pdf$/i.test(a.originalFiles[0].type))||(s=!0),s&&t.push("Please upload files in following formats (jpg, jpeg, pdf or png)."),a.originalFiles.length&&a.originalFiles[0].size>5242880&&(t.push(MAX_SIZE_LIMIT),s=!0),t.length>0)return showMessage(!0,t.join("\n")),!1;a.process().done((function(){a.submit()}))},start:function(a){customLoader(!0),$("#fileupload"+e+"Span").html(""),$("#fileupload"+e+"Progress .progress-bar").css("width","0%"),$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").removeClass("progress-bar-danger")},send:function(a,t){$("#fileupload"+e+"Progress .progress-bar").css("width","5%")},done:function(a,t){customLoader(!1),0==t.result.status||3==t.result.status?($("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").addClass("progress-bar-danger"),(t.result.message.includes("Your session has been timed out")||3==t.result.status)&&redirectLoginPage()):$.each(t.result.uploadFiles,(function(a,t){if(1==t.status){var s="";1==e?s="fa fa-user":2==e?s="fa fa-calendar":3==e?s="fa fa-home":4==e?s="fa fa-image":5==e&&(s="fa fa-graduation-cap"),$("#fileupload"+e+"Response").removeClass(s),$("#fileupload"+e+"Response").removeClass("label-error").addClass("fa fa-check-circle green"),""==$("#fileupload"+e+"Span").html()?$("#fileupload"+e+"Span").html(t.fileName):$("#fileupload"+e+"Span").html($("#fileupload"+e+"Span").html()+","+t.fileName),1==e&&$(".profile-pic").attr("src",FILE_UPLOAD_PATH+t.fileName)}}))},progressall:function(a,t){$("#fileupload"+e+"ProgressStatus").removeClass("label-error").addClass("fa fa-check-circle green"),$("#fileupload"+e+"Progress .progress-bar").css("width","100%")},fail:function(a,t){$("#fileupload"+e+"ProgressStatus").addClass("label-error"),showMessage(!0,MAX_SIZE_LIMIT)}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")}function bindFileUploadNew(e,a,t){var s={};s.uploadCategory=a,s.uploadUserId=t,$("#"+e).fileupload({formData:{payload:JSON.stringify(getFinalValue(s))},url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/api/upload/"+UNIQUEUUID,dataType:"json",type:"POST",enctype:"multipart/form-data",global:!1,add:function(e,a){var t=[],s=!1;if(a.originalFiles[0].type.length&&(/^image\/(png|jpe?g)$/i.test(a.originalFiles[0].type)||/^application\/pdf$/i.test(a.originalFiles[0].type))||(s=!0),s&&t.push("Please upload files in following formats (jpg, jpeg, pdf or png)."),a.originalFiles.length&&a.originalFiles[0].size>5242880&&(t.push(MAX_SIZE_LIMIT),s=!0),t.length>0)return showMessage(!0,t.join("\n")),!1;a.process().done((function(){a.submit()}))},start:function(a){customLoader(!0),$("#"+e).parents(".file-tab").find("span.fileName").text()},send:function(e,a){console.log("send")},done:function(a,t){customLoader(!1),0==t.result.status||3==t.result.status?(t.result.message.includes("Your session has been timed out")||3==t.result.status)&&redirectLoginPage():$.each(t.result.uploadFiles,(function(a,s){1==s.status&&(console.log("aya"),console.log("file: "+s),$("#"+e).parents(".file-tab").find("span.fileName").text(s.fileName),console.log($("#"+e).parents(".file-tab").find("span.fileName").text(s.fileName)),"application/pdf"==t.originalFiles[0].type&&$("#"+e).parents(".file-tab").find("img").attr("src",PATH_FOLDER_IMAGE+"pdf.jpg"))}))},progressall:function(e,a){console.log("progressall")},fail:function(a,t){console.log("fail"),$("#fileupload"+e+"Progress .progress-bar").css("width","100%"),$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").addClass("progress-bar-danger"),showMessage(!0,MAX_SIZE_LIMIT)}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")}function bindFileUploadNew1(e,a,t,s,o){var n={};n.uploadCategory=a,n.uploadUserId=t,n.skipSession=o,$('[data-toggle="tooltip"]').tooltip({trigger:"hover"}),$("#fileupload"+e).fileupload({formData:{payload:JSON.stringify(getFinalValue(n))},url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/api/upload/"+UNIQUEUUID,dataType:"json",type:"POST",enctype:"multipart/form-data",global:!1,add:function(e,a){var t=[],s=!1;if(a.originalFiles[0].type.length&&(/^image\/(png|jpe?g)$/i.test(a.originalFiles[0].type)||/^application\/pdf$/i.test(a.originalFiles[0].type))||(s=!0),s&&t.push("Please upload files in following formats (jpg, jpeg, pdf or png)."),("TEACHER"!=USER_ROLE&&a.originalFiles.length&&a.originalFiles[0].size>5242880||"TEACHER"==USER_ROLE&&a.originalFiles.length&&a.originalFiles[0].size>10485760)&&("TEACHER"==USER_ROLE?t.push(MAX_SIZE_LIMIT_FOR_TEACHER):t.push(MAX_SIZE_LIMIT),s=!0),t.length>0)return showMessage(!0,t.join("\n")),!1;a.process().done((function(){a.submit()}))},start:function(a){customLoader(!0),1==s?($("#fileupload"+e+"Span").html(""),$("#fileupload"+e+"Progress .progress-bar").css("width","0%"),$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").removeClass("progress-bar-danger")):2==s?$("#fileupload"+e).parents(".file-tab").find("span.fileName").text():3==s&&($("#fileupload"+e).parents(".file-tab").find("span.fileName").text(),$("#fileupload"+e).parent("span").parent("p").parent("div").find("i").removeClass("fa-check-circle-o"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("i").removeClass("fa-close"))},send:function(a,t){1==s&&$("#fileupload"+e+"Progress .progress-bar").css("width","5%")},done:function(t,o){customLoader(!1),0==o.result.status||3==o.result.status?(1==s?($("#fileupload"+e+"Progress .progress-bar").css("width","100%"),$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").addClass("progress-bar-danger")):2==s?$("#fileupload"+e).parents(".file-tab").find("span.fileName").text():3==s?($("#fileupload"+e).parent("span").parent("p").parent("div").find("i").removeClass("fa-check-circle-o"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("i").removeClass("fa-close"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("i").addClass("fa fa-close"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("h1").attr("style","color:red"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("span.fileName").html(""),$("#fileupload"+e).parent("span").parent("p").find("a.view").next("a.remove").attr("style","display:none;"),$("#fileupload"+e).parent("span").parent("p").find("a.view").attr("style","display:none;")):4==s&&($("#fileName"+e).html(""),$("#divdeleteDocument"+e).attr("style","display:none;"),$("#divshowDocument"+e).attr("style","display:none;")),(o.result.message.includes("Your session has been timed out")||3==o.result.status)&&redirectLoginPage()):$.each(o.result.uploadFiles,(function(t,n){if(1==n.status)if(console.log("file: "+n),1==s){var r="";if(1==e?r="fa fa-user":2==e?r="fa fa-calendar":3==e?r="fa fa-home":4==e?r="fa fa-image":5==e&&(r="fa fa-graduation-cap"),$("#fileupload"+e+"Response").removeClass(r),$("#fileupload"+e+"Response").removeClass("label-error").addClass("fa fa-check-circle green"),""==$("#fileupload"+e+"Span").html()?$("#fileupload"+e+"Span").html(n.fileName):$("#fileupload"+e+"Span").html($("#fileupload"+e+"Span").html()+","+n.fileName),1==e&&($(".profile-pic").attr("src",FILE_UPLOAD_PATH+n.fileName),"application/pdf"==o.originalFiles[0].type))return showMessage(!0,"Please upload files in following formats (jpg, jpeg or png)."),!1}else 2==s?($("#fileupload"+e).parents(".file-tab").find("span.fileName").text(n.fileName),console.log($("#fileupload"+e).parents(".file-tab").find("span.fileName").text(n.fileName)),"application/pdf"==o.originalFiles[0].type&&$("#fileupload"+e).parents(".file-tab").find("img").attr("src",PATH_FOLDER_IMAGE+"pdf.jpg"),34==a&&hideMessageErrorNew("fileupload1Error","fileupload1")):3==s?($("#fileupload"+e).parent("span").parent("p").parent("div").find("i").addClass("fa fa-check-circle-o"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("h1").attr("style","color:green"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("span.fileName").html(n.fileName),$("#fileupload"+e).parent("span").parent("p").find("a.view").next("a.remove").attr("href",'javascript:removeDocument("'+e+'","'+s+'");'),$("#fileupload"+e).parent("span").parent("p").find("a.view").next("a.remove").attr("style","display:block;"),$("#fileupload"+e).parent("span").parent("p").find("a.view").attr("style","display:block;"),"application/pdf"==o.originalFiles[0].type?($("#fileupload"+e).parent("span").parent("p").find("a.view").attr("target","_blank"),$("#fileupload"+e).parent("span").parent("p").find("a.view").attr("href",FILE_UPLOAD_PATH+n.fileName)):($("#fileupload"+e).parent("span").parent("p").find("a.view").attr("target","_self"),$("#fileupload"+e).parent("span").parent("p").find("a.view").attr("href",'javascript:showDocument("'+FILE_UPLOAD_PATH+n.fileName+'");'))):4==s?($("#fileName"+e).html(n.fileName),$("#deleteDocument"+e).attr("href",'javascript:removeDocument("'+e+'","'+s+'");'),$("#divdeleteDocument"+e).attr("style","display:block;"),$("#divshowDocument"+e).attr("style","display:block;"),"application/pdf"==o.originalFiles[0].type?($("#showDocument"+e).attr("target","_blank"),$("#showDocument"+e).attr("href",FILE_UPLOAD_PATH+n.fileName)):($("#showDocument"+e).attr("target","_self"),$("#showDocument"+e).attr("href",'javascript:showDocument("'+FILE_UPLOAD_PATH+n.fileName+'");'))):5==s?($("#fileupload"+e+"img").attr("fileName",n.fileName),$("#fileupload"+e+"img").attr("href",'javascript:removeDocument("'+e+'","'+s+'");'),"application/pdf"==o.originalFiles[0].type?($("#fileupload"+e+"img").addClass("full mt-1"),$("#fileupload"+e+"img").attr("target","_blank"),$("#fileupload"+e+"img").attr("href",FILE_UPLOAD_PATH+n.fileName),setTimeout((function(){$("#fileupload"+e+"imgIcon").attr("src",PATH_FOLDER_IMAGE+"pdf.jpg")}),3e3)):($("#fileupload"+e+"img").addClass("full mt-1"),$("#fileupload"+e+"img").attr("target","_self"),$("#fileupload"+e+"img").attr("href",'javascript:showDocument("'+FILE_UPLOAD_PATH+n.fileName+'");'),setTimeout((function(){$("#fileupload"+e+"imgIcon").attr("src",FILE_UPLOAD_PATH+n.fileName)}),3e3))):6==s&&$("#fileupload"+e+"Span").html(n.fileName)}))},progressall:function(a,t){console.log("progressall"),1==s&&($("#fileupload"+e+"ProgressStatus").removeClass("label-error").addClass("fa fa-check-circle green"),$("#fileupload"+e+"Progress .progress-bar").css("width","100%"))},fail:function(a,t){console.log("fail"),1==s?($("#fileupload"+e+"ProgressStatus").addClass("label-error"),showMessage(!0,MAX_SIZE_LIMIT)):2==s?($("#fileupload"+e+"Progress .progress-bar").css("width","100%"),$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").addClass("progress-bar-danger")):3==s&&($("#fileupload"+e).parent("span").parent("p").parent("div").find("i").addClass("fa fa-close"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("h1").attr("style","color:red"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("span.fileName").html(""),$("#fileupload"+e).parent("span").parent("p").find("a.view").next("a.remove").attr("style","display:none;"),$("#fileupload"+e).parent("span").parent("p").find("a.view").attr("style","display:none;")),showMessage(!0,MAX_SIZE_LIMIT)}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")}function bindFileUploadForCSV(e,a,t){var s={};s.uploadStudentId=a,s.uploadStandardId=t,$("#fileupload"+e).fileupload({formData:{payload:JSON.stringify(getFinalValue(s))},url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/api/upload-csv/"+UNIQUEUUID,dataType:"json",type:"POST",enctype:"multipart/form-data",global:!1,add:function(e,a){var t=[],s=!1;if(console.log("bindFileUploadForCSV type: "+a.originalFiles[0].type),a.originalFiles[0].type.length&&(/^application\/vnd.ms-excel$/i.test(a.originalFiles[0].type)||/^text\/csv$/i.test(a.originalFiles[0].type))||(s=!0),s&&t.push("Please upload files in following formats csv."),a.originalFiles.length&&a.originalFiles[0].size>10485760&&(t.push("Please upload maximum 10MB file in size."),s=!0),t.length>0)return showMessage(!0,t.join("\n")),!1;a.process().done((function(){a.submit()}))},start:function(a){customLoader(!0),$("#fileupload"+e+"Span").html(""),$("#fileupload"+e+"Progress .progress-bar").css("width","0%"),$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").removeClass("progress-bar-danger")},send:function(a,t){$("#fileupload"+e+"Progress .progress-bar").css("width","5%")},done:function(a,t){customLoader(!1),0==t.result.status?$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").addClass("progress-bar-danger"):$.each(t.result.uploadFiles,(function(a,t){if(1==t.status){$("#fileupload"+e+"ChoosenFile").html(t.fileName),$("#fileupload"+e+"Hash").val(t.hash),fileupload1Hash,$("#fileupload"+e+"Response").removeClass(""),$("#fileupload"+e+"Response").removeClass("label-error").addClass("fa fa-check-circle green"),""==$("#fileupload"+e+"Span").html()?$("#fileupload"+e+"Span").html(t.fileName):$("#fileupload"+e+"Span").html($("#fileupload"+e+"Span").html()+","+t.fileName)}}))},progressall:function(a,t){$("#fileupload"+e+"ProgressStatus").removeClass("label-error").addClass("fa fa-check-circle green"),$("#fileupload"+e+"Progress .progress-bar").css("width","100%")},fail:function(a,t){$("#fileupload"+e+"ProgressStatus").addClass("label-error"),showMessage(!0,MAX_SIZE_LIMIT)}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")}function bindFileUploadForPDF(e,a){var t={};t.uploadUserId=a,$("#fileupload"+e).fileupload({formData:{payload:JSON.stringify(getFinalValue(t))},url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/api/upload/"+UNIQUEUUID,dataType:"json",type:"POST",enctype:"multipart/form-data",global:!1,add:function(e,a){var t=[],s=!1;if(a.originalFiles[0].type.length&&/^application\/pdf$/i.test(a.originalFiles[0].type)||(s=!0),s&&t.push("Please upload files in pdf format."),console.log("originalFiles size"+a.originalFiles[0].size),a.originalFiles.length&&a.originalFiles[0].size>5242880&&(t.push(MAX_SIZE_LIMIT),s=!0),t.length>0)return s=!0,showMessage(!0,t.join("\n")),!1;a.process().done((function(){a.submit()}))},start:function(a){customLoader(!0),$("#fileupload"+e+"Span").html(""),$("#fileupload"+e+"Progress .progress-bar").css("width","0%"),$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").removeClass("progress-bar-danger")},send:function(a,t){$("#fileupload"+e+"Progress .progress-bar").css("width","5%")},done:function(a,t){customLoader(!1),0==t.result.status||3==t.result.status?($("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").addClass("progress-bar-danger"),(t.result.message.includes("Your session has been timed out")||3==t.result.status)&&redirectLoginPage()):$.each(t.result.uploadFiles,(function(a,t){if(1==t.status){$("#fileupload"+e+"ChoosenFile").html(t.fileName),$("#fileupload"+e+"Hash").val(t.hash),$("#fileupload"+e+"Response").removeClass(""),$("#fileupload"+e+"Response").removeClass("label-error").addClass("fa fa-check-circle green"),""==$("#fileupload"+e+"Span").html()?$("#fileupload"+e+"Span").html(t.fileName):$("#fileupload"+e+"Span").html($("#fileupload"+e+"Span").html()+","+t.fileName)}}))},progressall:function(a,t){$("#fileupload"+e+"ProgressStatus").removeClass("label-error").addClass("fa fa-check-circle green"),$("#fileupload"+e+"Progress .progress-bar").css("width","100%")},fail:function(a,t){$("#fileupload"+e+"ProgressStatus").addClass("label-error"),showMessage(!0,MAX_SIZE_LIMIT)}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")}function removeDocument(e,a){console.log(e),1==a||2==a||(3==a?($("#fileupload"+e).parent("span").parent("p").find("a.view").hide(),$("#fileupload"+e).parent("span").parent("p").find("a.view").next("a.remove").hide(),$("#fileupload"+e).parent("span").parent("p").parent("div").find("span.fileName").html(""),$("#fileupload"+e).parent("span").parent("p").parent("div").find("i").removeClass("fa-check-circle-o"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("i").removeClass("fa-close"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("h1").removeAttr("style"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("a.view").attr("href",""),$("#fileupload"+e).parent("span").parent("p").parent("div").find("a.remove").attr("href",""),console.log("delete docs"+$("#fileupload"+e).parent("span").parent("p").parent("div").find("a.remove").attr("href",""))):4==a&&($("#fileName"+e).html(""),$("#divdeleteDocument"+e).attr("style","display:none;"),$("#divshowDocument"+e).attr("style","display:none;")))}function getJSONRequest(e,a){$(".disabledFields").each((function(){$(this).removeAttr("disabled")}));var t=decodeURIComponent($("#"+e).serialize());console.log("serializedString "+t),$(".disabledFields").each((function(){$(this).attr("disabled","disabled")}));var s=(t=t.replace(/\+/g,"%20")).split("&"),o={};if($.each(s,(function(e,a){var t=a.split("=");if(""!=t[1]){var s=t[0],n=escapeCharacters(t[1]);console.log("name "+s),console.log(" value "+n),console.log("original Value "+t[1]),o[s]=n}})),null!=a){var n=decodeURIComponent("teacherSubjectIds");if("null"!=$("#teacherSubjectIds").val().trim()&&null!=$("#teacherSubjectIds").val().trim()&&""!=$("#teacherSubjectIds").val().trim())var r=decodeURIComponent($("#teacherSubjectIds").val().trim());o[n]=r;var i=decodeURIComponent("teacherPlacementSubjectIds");if("null"!=$("#teacherPlacementSubjectIds").val().trim()&&null!=$("#teacherPlacementSubjectIds").val().trim()&&""!=$("#teacherPlacementSubjectIds").val().trim())var l=decodeURIComponent($("#teacherPlacementSubjectIds").val().trim());o[i]=l}return console.log("requestObj "+o),o}function callSubjectsByGradeId(e,a,t,s,o,n,r){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"SUBJECT-LIST-BY-GRADE",a,o,n,r)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(a){"0"==a.status||"2"==a.status?showMessage(!0,a.message):buildDropdown(a.mastersData.subject,$("#"+e+" #"+s),"Select course")},error:function(e){console.log(e)}})}function callBothSubjectAndPlacementSubjectsByGrade(e,a,t,s,o,n){if(hideMessage(""),resetDropdown($("#"+e+" #"+s),"Select course"),!validateRequestForMasterGrade(e,t))return $("#"+e+" #"+t).val().trim(0),!1;console.log("Subject Id : "+o),console.log("Placement Subject Id : "+n),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"BOTH-SUBJECT-AND-PLACEMENT-SUBJECT",a,o,n)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(a){"0"==a.status||"2"==a.status?showMessage(!0,a.message):(console.log("Response Data  "+a),$("#"+e+" #"+s).html('<option value="">Select Course</option>'),$.each(a.mastersData.subject,(function(a,t){$("#"+e+" #"+s).append('<option courseType="'+t.extra+'" value="'+t.key+'">'+t.value+"</option>")})))},error:function(a){$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)}})}function callTeacherSubjectsByGradeId(e,a,t,s,o){if(hideMessage(""),resetDropdown($("#"+e+" #"+s),"Select course"),!validateRequestForMasterGrade(e,t))return $("#"+e+" #"+t).val(0),!1;$("#"+e+" #pastTaughtSubjectId").prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"TEACHER_SUBJECT-LIST-BY-GRADE",a,o)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(a){"0"==a.status||"2"==a.status?showMessage(!0,a.message):(buildDropdown(a.mastersData.teacherSubject,$("#"+e+" #"+s),"Select course"),$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)),$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)},error:function(a){$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)}})}function callTeacherTaughtSubjects(e,a,t,s){hideMessage(""),$.ajax({global:s,type:"POST",url:getURLForHTML("dashboard","teacher-subject-List"),data:"value="+a+"&elementId="+t,dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var a;"FAILED"==(a=e.split("|"))[0]||"EXCEPTION"==a[0]||"SESSIONOUT"==a[0]?showMessage(!0,a[1]):$("#teacherTaughtSubjectContent").html(e)}},error:function(e){return!1}})}function callTeacherPreferredSubjects(e,a,t,s){hideMessage(""),$.ajax({global:s,type:"POST",url:getURLForHTML("dashboard","teacher-preferred-subject-List"),data:"value="+a+"&elementId="+t,dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var a;"FAILED"==(a=e.split("|"))[0]||"EXCEPTION"==a[0]||"SESSIONOUT"==a[0]?showMessage(!0,a[1]):$("#teacherPreferredSubjectsContent").html(e)}},error:function(e){return!1}})}function validateRequestForMasterGrade(e,a,t){return console.log("element=>"+$("#"+e+" #"+a).val().trim()),null!=$("#"+e+" #"+a).val()&&""!=$("#"+e+" #"+a).val().trim()&&0!=$("#"+e+" #"+a).val().trim()}function callTeacherEventSubjectsByGradeId(e,a,t,s){hideMessage(""),resetDropdown($("#"+e+" #"+t),"Select course"),$("#"+e+" #pastTaughtSubjectId").prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"TEACHER_EVENT_SUBJECT-LIST",a,s)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(a){"0"==a.status||"2"==a.status?showMessage(!0,a.message):(buildDropdown(a.mastersData.teacherEventSubject,$("#"+e+" #"+t),"Select course"),$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)),$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)},error:function(a){$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)}})}function getRequestForMaster(e,a,t,s,o){var n={},r={},i={};return i.requestKey=a,i.requestValue=t,null!=s&&(i.requestExtra=s),null!=o&&(i.requestExtra1=o),r.hash=getHash(),r.schoolId=SCHOOL_ID,r.schoolUUID=SCHOOL_UUID,r.userType="COMMON",n.authentication=r,n.requestData=i,n}function getRequestForMaster(e,a,t,s,o,n,r,i,l){var d={},c={},u={};return u.requestKey=a,u.requestValue=t,null!=s&&(u.requestExtra1=s),null!=o&&(u.requestExtra2=o),null!=n&&(u.requestExtra3=n),null==r&&""==r||("recurringClass"==e?u.requestExtraTime=r:u.requestExtraRemarks=r),null==i&&""==i||(u.requestExtra4=i),null==l&&""==l||(u.requestExtra=l),c.hash=getHash(),c.schoolId=SCHOOL_ID,c.schoolUUID=SCHOOL_UUID,c.userType="COMMON",d.authentication=c,d.requestData=u,d}function customLoaderPreview(e){e?($("#commonloaderId1").removeClass("hide"),$("#commonloaderBody1").addClass("loader"),$("#commonloaderId1").addClass("loader-bg"),$("#commonloaderId1").show()):($("#commonloaderBody1").removeClass("loader"),$("#commonloaderId1").removeClass("loader-bg"),$("#commonloaderId1").addClass("hide"),$("#commonloaderId1").hide())}function showDocument(e){customLoaderPreview(!0),$("#documentPreview").attr("src",""),$("#documentPreview").attr("src",e),$("#documentPreviewModal").modal("show"),window.setTimeout((function(){customLoaderPreview(!1)}),1e3)}function showSubjectCatalog(e,a){$.ajax({type:"POST",url:getURLForHTML("student","course-catalog"),data:"subjectId="+e+"&courseType="+a,dataType:"html",cache:!1,async:!1,timeout:6e5,success:function(e){if(""!=e){var a;"FAILED"==(a=e.split("|"))[0]||"EXCEPTION"==a[0]?showMessage(!0,a[1]):($("#subjectCatalogModalContent").html(e),$("#subjectCatalogModal").modal("show"))}return!1},error:function(e){}})}function showWarningMessage(e,a){""==a?($("#resetDeleteErrorWarningYes").hide(),$("#resetDeleteErrorWarningNo").hide(),$("#resetDeleteErrorWarningCancel*").show()):($("#resetDeleteErrorWarningYes").show(),$("#resetDeleteErrorWarningNo").show(),$("#resetDeleteErrorWarningCancel*").hide()),a="$('#remarksresetDelete').modal('hide');"+a+";",$("#warningMessage").html(e),$("#resetDeleteErrorWarningYes").attr("onclick",a),$("#remarksresetDelete").modal("show")}function sendAnnouncementWarning(e,a){$("#resetDeleteErrorWarningYes1").show(),$("#resetDeleteErrorWarningNo1").show(),$("#resetDeleteErrorWarningCancel1").hide(),$("#remarksresetDelete1Icon").removeAttr("class"),$("#remarksresetDelete1Icon").attr("class","fa fa-envelope fa-4x"),a="$('#remarksresetDelete1').modal('hide');"+a+";",$("#warningMessage1").html(e),$("#resetDeleteErrorWarningYes1").attr("onclick",a),$("#remarksresetDelete1").modal("show")}function sendHolidayActivWarning(e,a){$("#resetDeleteErrorWarningYes1").show(),$("#resetDeleteErrorWarningNo1").show(),$("#resetDeleteErrorWarningCancel1").hide(),$("#remarksresetDelete1Icon").removeAttr("class"),$("#remarksresetDelete1Icon").attr("class","fa fa-ban fa-4x"),a="$('#remarksresetDelete1').modal('hide');"+a+";",$("#warningMessage1").html(e),$("#resetDeleteErrorWarningYes1").attr("onclick",a),$("#remarksresetDelete1").modal("show")}function showWarningMessageShow(e,a,t){if(""==a?($("#resetDeleteErrorWarningYes1").hide(),$("#resetDeleteErrorWarningNo1").hide(),$("#resetDeleteErrorWarningCancel1").show()):($("#resetDeleteErrorWarningYes1").show(),$("#resetDeleteErrorWarningNo1").show(),$("#resetDeleteErrorWarningCancel1").hide()),a="$('#remarksresetDelete1').modal('hide');"+a+";",$("#warningMessage1").html(e),t){$(".withdraw").html("Please note that any recurring class created for this student will be deactivated after the student is withdrawn. If for any reason the class is not deactivated, kindly do the same from the Recurring Class menu")}else $(".withdraw").html('<i class="fa fa-refresh fa-4x" style="color:#337ab7 !important;"></i>');$("#resetDeleteErrorWarningYes1").attr("onclick",a),$("#remarksresetDelete1").modal("show")}function selectSubjectNew(e,a,t,s){if(a)if($(e).hasClass("greenDiv"))$(e).removeClass("greenDiv");else{$(e).addClass("greenDiv");var o="";$("."+t).each((function(){$(this).hasClass("greenDiv")&&(o=o+","+$(this).attr("id"))})),(o=o.substr(1)).split(",").length<=parseInt(s)||($(e).removeClass("greenDiv"),showMessage(!0,"You cannot select more than "+s+" courses."))}}function isJson(e){try{JSON.parse(e)}catch(e){return!1}return!0}function getISDCodeByCityAndCountry(e,a,t,s){var o={};o.cityName=e,o.countryName=a,$.ajax({type:"POST",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/get-isdcode-by-city-and-country",data:JSON.stringify(getFinalValue(o)),dataType:"json",async:!1,success:function(e){var o=e+" "+a;return""!=t&&chooseValueByElement(t,o),""!=s&&chooseValueByElement(s,o),chooseValueByElement("countryId",a),e}})}function chooseValueByElement(e,a){$("#"+e).length&&$("#"+e+" option").map((function(){var e=$(this).text();if((e=e.substr(e.indexOf(" ")+1))===a)return this})).attr("selected","selected")}function chooseTimezoneValueByElement(e,a){$("#"+e).length&&$("#"+e+" option").map((function(){var e=$(this).text();if((e=(e=e.substr(e.indexOf("- ")+1)).substr(0,e.indexOf("/"))).trim()===a)return this})).attr("selected","selected")}function chooseCountryElement(e,a){$("#"+e).length&&($("#"+e+" option").map((function(){if($(this).text()===a)return this})).attr("selected","selected"),$("#"+e).trigger("change"))}function showPassWord(e,a){var t=document.getElementById(e),s=document.getElementById(a);if(t.disabled)return!1;"password"===t.type?(t.type="text",s.classList.remove("fa-eye-slash"),s.classList.add("fa-eye")):(t.type="password",s.classList.remove("fa-eye"),s.classList.add("fa-eye-slash"))}function copyToClipboardNew(e){$("#hiddenForCopy").attr("disabled",!1);var a=document.getElementById("hiddenForCopy");a.value=e,$(a).attr("type","text").select(),a.setSelectionRange(0,99999),document.execCommand("copy"),$(a).attr("type","hidden")}function copyToClipboardText(e){var a=$("<input>");$("body").append(a),a.val(e).select(),document.execCommand("copy"),a.remove()}function copyToClipboard(e,a){$("#"+e).attr("disabled",!1);var t=document.getElementById(e);t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.queryCommandSupported("copy")?($("#"+a).show(),showMessage(1,"Copy Successfully")):alert("Copying is not supported in your browser.")}function copyToClipboardNew(e,a){$("#"+e).attr("disabled",!1);var t=document.getElementById(e);if(t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.queryCommandSupported("copy")){var s=$("#"+a);s.text("Copied successfully!"),s.css("display","inline"),s.fadeIn(300).delay(3e3).fadeOut(300)}else alert("Copying is not supported in your browser.")}function daysInMonth(e,a){return new Date(a,e,0).getDate()}function getDateList(e,a,t){var s=$("#"+e).val(),o=$("#"+a).val(),n=($("#"+t).val(),daysInMonth(o,s));for($("#"+t).html('<option value="0">DD</option>'),i=1;i<=n;i++)$("#"+t).append('<option value="'+i+'">'+i+"</option>")}function createSelect2Element(e,a){$("#"+e+" #"+a).hasClass("select2-hidden-accessible")&&$("#"+e+" #"+a).select2("destroy"),$("#"+e+" #"+a).select2()}function validationOfDate(e,a){return e=e.split("-"),a=a.split("-"),startTime=new Date(e[2],e[0]-1,e[1]).getTime(),endTime=new Date(a[2],a[0]-1,a[1]).getTime(),startTime>endTime?(mesg="Report start date must be less than Report end date.",mesg):""}function toTitleCase(e){return e.toLowerCase().replace(/(?:^|\s)\w/g,(function(e){return e.toUpperCase()}))}function toSentenceCase(e){e=e.split(". ");for(var a=0;a<e.length;a++)e[a]=e[a].charAt(0).toUpperCase()+e[a].slice(1);return e.join(". ")}function changeDateFormat(e,a){return"mm-dd-yyyy"==a?(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>9?e.getDate():"0"+e.getDate())+"-"+e.getFullYear():"yyyy-mm-dd"==a?e.getFullYear()+"-"+(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>9?e.getDate():"0"+e.getDate()):"yyyy-mm-dd hh:mm:ss"==a?e.getFullYear()+"-"+(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>9?e.getDate():"0"+e.getDate())+" "+(e.getHours()>9?e.getHours():"0"+e.getHours())+":"+(e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes())+":"+(e.getSeconds()>9?e.getSeconds():"0"+e.getSeconds()):"MMM-dd-yyyy hh:mm:ss"==a?M.months[e.getMonth()]+" "+(e.getDate()>9?e.getDate():"0"+e.getDate())+", "+e.getFullYear()+" "+(e.getHours()>9?e.getHours():"0"+e.getHours())+":"+(e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes())+":"+(e.getSeconds()>9?e.getSeconds():"0"+e.getSeconds()):"dd-mm-yyyy"==a?(e.getDate()>9?e.getDate():"0"+e.getDate())+"-"+(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+e.getFullYear():"MMM-dd-yyyy"==a?M.months[e.getMonth()]+" "+(e.getDate()>9?e.getDate():"0"+e.getDate())+", "+e.getFullYear():e.getFullYear()+"-"+(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>9?e.getDate():"0"+e.getDate())}function getDateInDateFormat(e){e=(e=e.replace(",","")).split(" ");var a=M.months.indexOf(e[0]);return new Date(e[2],a>9?a:"0"+a,e[1])}function callBatchesByMulltipleGradeId(e,a,t,s,o,n,r,i){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"BATCH-NAME-LIST-BASED-ON-MULTIPLE-STANDARD",a,o,n,r,i)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(a){"0"==a.status||"2"==a.status?showMessage(!0,a.message):buildDropdown(a.mastersData.subject,$("#"+e+" #"+s),"Select class")},error:function(e){console.log(e)}})}function callStudentBatchesByGradeId(e,a,t,s,o,n,r,i,l,d){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"MULTIPLE-STUDENT-LIST",a,o,n,r,i,l,d)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(a){"0"==a.status||"2"==a.status?showMessage(!0,a.message):a.mastersData.studentList.length>0?("extraActivityForm"==e&&showMessage(!0,"User list fetched successfully"),buildDropdown(a.mastersData.studentList,$("#"+e+" #"+s),"Select")):"extraActivityForm"==e&&showMessage(!0,"User not found")},error:function(a){$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)}})}function validEndInvalidField(e,a){e?($("#"+a).closest(".valid-field").addClass("true"),$("#"+a).closest(".valid-field").removeClass("false")):null==e?($("#"+a).closest(".valid-field").removeClass("false"),$("#"+a).closest(".valid-field").removeClass("true")):($("#"+a).closest(".valid-field").addClass("false"),$("#"+a).closest(".valid-field").removeClass("true"))}function convertTZ(e,a){return new Date(("string"==typeof e?new Date(e):e).toLocaleString("en-US",{timeZone:a}))}function getDatepickerChangeVal(e){var a=$(e).val().split(/(\d{4})/).filter(Boolean);for(let e=1;e<a.length;e+=2)a[e-1]+=a[e],a.splice(e,1);$(e).val(a[0])}function formValdate(e,a,t){for(var s=0;s<a.length;s++){var o=$("#"+e+" #"+a[s]).attr("type"),n=$("#"+e+" #"+a[s]).val();""!=(n=null!=n&&null!=n?n.trim():"")&&"checkbox"!=o&&"tel"!=o?validEndInvalidField(!0,a[s]):"checkbox"==o?$("#"+e+" #"+a[s]).is(":checked")?validEndInvalidField(!0,"pcModeWhatsapp"):validEndInvalidField(null,a[s]):"tel"==o?0==$("#"+e+" #"+a[s]).val().length?validEndInvalidField(null,a[s]):$("#"+e+" #"+a[s]).val().length<3&&$("#"+e+" #"+a[s]).val().length>0?validEndInvalidField(!1,a[s]):validEndInvalidField(!0,a[s]):validEndInvalidField(null==o&&null,a[s])}for(var r=0;r<t.length;r++){var i=$("#"+e+" #"+t[r]).attr("type"),l=$("#"+e+" #"+t[r]).val();""!=(l=null!=l&&null!=l?l.trim():"")&&"checkbox"!=i&&"tel"!=i?validEndInvalidField(!0,t[r]):"checkbox"==i?$("#"+e+" #"+t[r]).is(":checked")?validEndInvalidField(!0,t[r]):validEndInvalidField(null,t[r]):"tel"==i?0==$("#"+e+" #"+t[r]).val().length?validEndInvalidField(null,t[r]):$("#"+e+" #"+t[r]).val().length<3&&$("#"+e+" #"+t[r]).val().length>0?validEndInvalidField(!1,t[r]):validEndInvalidField(!0,t[r]):validEndInvalidField(null,t[r])}}function checkCSCValidation(e,a,t){if(""==e||null==e||null==e)return validEndInvalidField(null,a),!1;validEndInvalidField(!0,a)}function pCheckCSCValidation(e,a,t){if(""==e||null==e||null==e)return validEndInvalidField(null,a),!1;validEndInvalidField(!0,a)}function getNumberWithPrecision(e,a){return Number.parseFloat(e).toFixed(a)}function getVauleAsNumber(e){var a=$("#"+e).val();return $.isNumeric(a)?a:0}function validateSelectedDateWithMinandMaxDate(e,a,t){var s=new Date,o=new Date,n=e.split("-");return e=new Date(n[2]+"-"+n[0]+"-"+n[1]),s.setMonth(s.getMonth()-a),o.setMonth(o.getMonth()+t),e>=s&&e<=o}function convertMsToTime(e){let a=Math.floor(e/1e3),t=Math.floor(a/60),s=Math.floor(t/60);return a%=60,t%=60,s%=24,`${padTo2Digits(s)}h ${padTo2Digits(t)}m ${padTo2Digits(a)}s`}function padTo2Digits(e){return e.toString().padStart(2,"0")}function getTrimmedValue(e,a){$("#"+e+" #"+a).val($("#"+e+" #"+a).val().trim())}function checkTextBox(e){var a=$("#"+e);$("#"+e+" input").length>0&&(a.find(":text").each((function(){getTrimmedValue(e,this.id)})),a.find("input[type='email']").each((function(){getTrimmedValue(e,this.id)})))}function getSystemTimezone(){var e="";try{e=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){console.log("getSystemTimezone: "+e.message)}return e}function hidePassWordSuggession(e){$(e).parent().find(".password-sugession").hide()}function checkPasswordStrength(e,a,t,s,o){var n='<div class="password-sugession"><h6 class="password-sugession-title"><b>Password must include at least:</b></h6>\t<p class="password-sugession-type password-uppercase-letter"><span class="ps-valid"><i class="fa fa-check"></i></span><span class="ps-invalid"><i class="fa fa-times"></i></span> <span class="ps-dot">.</span> 1 uppercase letter</p><p class="password-sugession-type password-lowercase-letter"><span class="ps-valid"><i class="fa fa-check"></i></span><span class="ps-invalid"><i class="fa fa-times"></i></span> <span class="ps-dot">.</span> 1 lowercase letter</p><p class="password-sugession-type password-special-letter"><span class="ps-valid"><i class="fa fa-check"></i></span><span class="ps-invalid"><i class="fa fa-times"></i></span> <span class="ps-dot">.</span> 1 special character</p><p class="password-sugession-type password-number"><span class="ps-valid"><i class="fa fa-check"></i></span><span class="ps-invalid"><i class="fa fa-times"></i></span> <span class="ps-dot">.</span> 1 number</p><p class="password-sugession-type password-length"><span class="ps-valid"><i class="fa fa-check"></i></span><span class="ps-invalid"><i class="fa fa-times"></i></span> <span class="ps-dot">.</span> min 8 characters & max 20 characters</p>';if("CP"==s&&(n+='<p class="password-sugession-type comfirm-password"><span class="ps-valid"><i class="fa fa-check"></i></span><span class="ps-invalid"><i class="fa fa-times"></i></span> <span class="ps-dot">.</span> password and confirm password should be same</p>'),$("#"+a+" #"+t).parent().css({position:"relative"}),$("#"+a+" #"+t).parent().find(".password-sugession").length<1&&$("#"+a+" #"+t).parent().append(n),$(e).parent().find(".password-sugession").show(),"P"==s)var r=$("#"+t).val();else{r=$("#"+t).val();var i=$("#"+o).val()}var l=/^(?=.*[a-z])/.test(r),d=/^(?=.*[A-Z])/.test(r),c=/^(?=.*\d)/.test(r),u=/^(?=.*[@$!%*?&#])/.test(r);0==r.length?($(".ps-dot").show(),$(".ps-valid").hide(),$(".ps-invalid").hide(),$(".password-length").css({color:"inherit"}),$(".password-lowercase-letter").css({color:"inherit"}),$(".password-uppercase-letter").css({color:"inherit"}),$(".password-number").css({color:"inherit"}),$(".password-special-letter").css({color:"inherit"})):(r.length<8&&r.length<=20?($(".password-length .ps-valid").hide(),$(".password-length .ps-invalid").show(),$(".password-length .ps-dot").hide(),$(".password-length").css({color:"red"})):($(".password-length .ps-valid").show(),$(".password-length .ps-invalid").hide(),$(".password-length .ps-dot").hide(),$(".password-length").css({color:"green"})),l?($(".password-lowercase-letter .ps-valid").show(),$(".password-lowercase-letter .ps-invalid").hide(),$(".password-lowercase-letter .ps-dot").hide(),$(".password-lowercase-letter").css({color:"green"})):($(".password-lowercase-letter .ps-valid").hide(),$(".password-lowercase-letter .ps-invalid").show(),$(".password-lowercase-letter .ps-dot").hide(),$(".password-lowercase-letter").css({color:"red"})),d?($(".password-uppercase-letter .ps-valid").show(),$(".password-uppercase-letter .ps-invalid").hide(),$(".password-uppercase-letter .ps-dot").hide(),$(".password-uppercase-letter").css({color:"green"})):($(".password-uppercase-letter .ps-valid").hide(),$(".password-uppercase-letter .ps-invalid").show(),$(".password-uppercase-letter .ps-dot").hide(),$(".password-uppercase-letter").css({color:"red"})),c?($(".password-number .ps-valid").show(),$(".password-number .ps-invalid").hide(),$(".password-number .ps-dot").hide(),$(".password-number").css({color:"green"})):($(".password-number .ps-valid").hide(),$(".password-number .ps-invalid").show(),$(".password-number .ps-dot").hide(),$(".password-number").css({color:"red"})),u?($(".password-special-letter .ps-valid").show(),$(".password-special-letter .ps-invalid").hide(),$(".password-special-letter .ps-dot").hide(),$(".password-special-letter").css({color:"green"})):($(".password-special-letter .ps-valid").hide(),$(".password-special-letter .ps-invalid").show(),$(".password-special-letter .ps-dot").hide(),$(".password-special-letter").css({color:"red"})),r!=i?($(".comfirm-password .ps-valid").hide(),$(".comfirm-password .ps-invalid").show(),$(".comfirm-password .ps-dot").hide(),$(".comfirm-password").css({color:"red"})):($(".comfirm-password .ps-valid").show(),$(".comfirm-password .ps-invalid").hide(),$(".comfirm-password .ps-dot").hide(),$(".comfirm-password").css({color:"green"})))}function parseUrlToJson(e){var a={};a.userId=USER_ID;var t=e.split("?");if(t.length>1){var s=t[1].split("&"),o=[];for(index=0;index<s.length;index++){var n=s[index].split("=");"sessionId"==n[0]?(o.push(n[1]),a[n[0]]=o):a[n[0]]=n[1]}}return a}function getAsPost(e,a){console.log("getAsPost1 "+e);var t=JSON.stringify(parseUrlToJson(e));t=encode(t),console.log("getAsPost2 "+e);var s=BASE_URL+CONTEXT_PATH+SCHOOL_UUID+e.split("?")[0]+"/"+UNIQUEUUID+"?payload="+t;null==a||null==a||""==a?window.open(s):window.open(s,"_self"),customLoader(!1)}function getAsPostWithoutUniqueID(e){var a=BASE_URL+CONTEXT_PATH+SCHOOL_UUID+e;window.open(a),customLoader(!1)}function encode(e){return window.btoa(encodeURI(e))}function decode(e){return window.atob(e)}function disablePastTimes(e,a,t){var s=t.getHours(),o=t.getMinutes();$("#"+e).timepicker({format:"HH:mm",minTime:s+":"+o})}function getSettingRequest(e){var a={};return a.schoolId=e,a}async function getSchoolSettingsTechnical(e){try{var a=await getDesiredObject("sst"+e);return"object"!=typeof a||a.ntc?(a=await getDataBasedUrlAndPayload("technical",getSettingRequest(e)),localStorage.setItem("sst"+e,JSON.stringify(a)),a):a}catch(e){showMessage(!0,e)}}async function getSchoolSettingsLinks(e){try{var a=await getDesiredObject("sslink"+e);return"object"!=typeof a||a.ntc?(a=await getDataBasedUrlAndPayload("links",getSettingRequest(e)),localStorage.setItem("sslink"+e,JSON.stringify(a)),a):a}catch(e){showMessage(!0,e)}}async function getSchoolSettingsOffice(e){try{var a=await getDesiredObject("ssoffice"+e);return"object"!=typeof a||a.ntc?(a=await getDataBasedUrlAndPayload("office",getSettingRequest(e)),localStorage.setItem("ssoffice"+e,JSON.stringify(a)),a):a}catch(e){showMessage(!0,e)}}async function getCommonCustomScript(e,a){try{var t=await getDesiredObject("commonscript"+a);if("object"==typeof t&&!t.ntc)return t;var s={};return s.userId=e,t=await getDataBasedUrlAndPayload("common-script-variables",s),localStorage.setItem("commonscript"+a,JSON.stringify(t)),t}catch(e){showMessage(!0,e)}}function getSettingsByTypeAndKey(e,a){var t={};return $.ajax({url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+`/api/v1/get-setting?metaType=${e}&metaKey=${a}`,method:"GET",contentType:"application/json",async:!1,success:function(e){t=e},error:function(e){console.error("Error fetching settings")}}),t}function getPlaneFormattedPhone(e){return null==e||null==e||""==e?"":e.replaceAll("(","").replaceAll(")","").replaceAll("-","").replaceAll(" ","")}function copyURL(e,a,t){const s=$("#"+e).val();if(null==t&&(t="Copied!"),s&&s.length>0)if(navigator.clipboard&&navigator.clipboard.writeText)try{navigator.clipboard.writeText(s).then((()=>{showCopyMessage(a,t,!0)})).catch((e=>{console.error("Clipboard API failed:",e),fallbackCopyText(s,a)}))}catch(e){console.error("Clipboard API error:",e),fallbackCopyText(s,a)}else fallbackCopyText(s,a);else console.error("No valid URL found to copy."),showCopyMessage(a,"Invalid URL",!1)}function fallbackCopyText(e,a){console.log("Using fallback copy method (execCommand).");const t=document.createElement("input");t.type="text",t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);try{document.execCommand("copy")?(console.log("Copied successfully using execCommand."),showCopyMessage(a,"Copied!",!0)):(console.error("execCommand failed."),showCopyMessage(a,"Copy failed",!1))}catch(e){console.error("execCommand error:",e),showCopyMessage(a,"Copy failed",!1)}document.body.removeChild(t)}function showCopyMessage(e,a,t){const s=$("."+e);s.removeClass("text-success text-danger").addClass(t?"text-success":"text-danger").text(a),setTimeout((()=>{s.text("")}),3e3)}function convertTo24Hour(e){let[a,t]=e.split(" "),[s,o]=a.split(":");return"12"===s&&(s="00"),"PM"===t&&(s=parseInt(s,10)+12),`${s.toString().padStart(2,"0")}:${o}`}function inputNumberValidation(e){e.target.value=e.target.value.replace(/\D/g,"")}function getTimePlusInterval(e,a){var t=new Date(e),s=new Date(t.getTime()+60*a*1e3),o=s.getHours().toString().padStart(2,"0"),n=s.getMinutes().toString().padStart(2,"0"),r=(s.getSeconds().toString().padStart(2,"0"),o>=12?"PM":"AM");return(o=(o%=12)||12).toString().padStart(2,"0")+":"+n+" "+r}function getSession(){var e=!1;return $.ajax({type:"GET",url:getURLForCommon("check-session"),async:!1,global:!1,success:function(a){e=a},error:function(e){checkonlineOfflineStatus()||showMessage(!0,e.responseText)}}),e}function callWithSession(e,a){getSession()?a?goAheadGet(e):window.open(e):redirectLoginPage()}function callWithSessionWithGetAsPost(e,a){getSession()?getAsPost(e,a):redirectLoginPage()}window.addEventListener("offline",(e=>{"theme1"==tt?showMessage(!0,"Your device is offline, please check your internet connection."):showMessageTheme2(0,"Your device is offline, please check your internet connection.","",!0)})),window.addEventListener("online",(e=>{"theme1"==tt?showMessage(!1,"You are back online"):showMessageTheme2(1,"You are back online","",!0)})),$(document).ready((function(){function e(e){$(e.target).prev(".panel-heading").find(".more-less").toggleClass("glyphicon-plus glyphicon-minus")}$('[data-toggle="tooltip"]').length>0&&$('[data-toggle="tooltip"]').tooltip(),$("#login-btn").click((function(e){e.preventDefault(),$("#signupDiv").css("margin-left","100%").css("width","100%").css("transition","0.3s"),$("#loginDiv").fadeIn(100),$("#loginDiv").css("margin-left","0px").css("width","100%").css("transition","0.3s"),$("#moduleNme").html("Student Login")})),$("#signup-btn").click((function(e){e.preventDefault(),$("#loginDiv").css("margin-left","-100%").css("width","100%").css("transition","0.3s"),$("#signupDiv").fadeIn(100),$("#signupDiv").css("margin-left","0px").css("width","100%").css("transition","0.3s"),$("#moduleNme").html("Student Enrollment")})),$(".panel-heading a").click((function(){$(".panel-heading").removeClass("active"),$(this).closest(".panel").find(".panel-collapse").hasClass("in")||$(this).parents(".panel-heading").addClass("active")})),$(".panel-group").on("hidden.bs.collapse",e),$(".panel-group").on("shown.bs.collapse",e),$(".datepicker").on("change",(function(){var e=$(this).val().split(/(\d{4})/).filter(Boolean);for(let a=1;a<e.length;a+=2)e[a-1]+=e[a],e.splice(a,1);$(this).val(e[0])}))})),$.ajaxSetup({beforeSend:function(e,a){if(null!=a.data&&"application/json"==a.contentType){var t={};t.payload=encode(a.data),a.data=JSON.stringify(t)}e.setRequestHeader("UNIQUEUUID",UNIQUEUUID)}}),$(document).ajaxStart((function(){customLoader(!0)})),$(document).ajaxSuccess((function(){customLoader(!1)})),$(document).ajaxError((function(e,a,t,s){if(console.log("event is"+e+"jqxhr is"+a+"settings"+t+"exception is"+s),customLoader(!1),isJson(a.responseText)){var o=JSON.parse(a.responseText);console.log("parse Response is:"+a.status),showMessage(!0,o.hasOwnProperty("message")?o.message:TECHNICAL_GLITCH)}else showMessage(!0,TECHNICAL_GLITCH)})),$(document).ajaxError((function(e,a,t,s){if(console.log("event is"+e+"jqxhr is"+a+"settings"+t+"exception is"+s),customLoader(!1),!checkonlineOfflineStatus())if(isJson(a.responseText)){var o=JSON.parse(a.responseText);console.log("parse Response is:"+a.status),showMessage(!0,o.hasOwnProperty("message")?o.message:TECHNICAL_GLITCH)}else showMessage(!0,TECHNICAL_GLITCH)})),$(document).ajaxStop((function(){customLoader(!1)})),window.onload=function(){if("function"==typeof history.pushState)history.pushState("jibberish",null,null),window.onpopstate=function(){history.pushState("newjibberish",null,null)};else{var e=!0;window.onhashchange=function(){e?e=!1:(e=!0,window.location.hash=Math.random())}}},history.pushState(null,null,location.href),window.onpopstate=function(){history.go(1)},$(document).on("show.bs.modal",".modal",(function(e){var a=e.target.id;if($("#"+a).hasClass("modal")){const e=1040+10*$(".modal-backdrop").length;$(this).css({"z-index":e}),setTimeout((()=>$(".modal-backdrop").not(".modal-stack").css("z-index",e-1).addClass("modal-stack")))}else{if(!$("#"+a).datepicker("getDatePicker").is(":visible")&&$("#"+a).data("datepicker")){$("#"+a).datepicker("destroy");const e=1040+10*$(".modal-backdrop").length;$(this).css({"z-index":e}),setTimeout((()=>$(".modal-backdrop").not(".modal-stack").css("z-index",e-1).addClass("modal-stack")))}}})),$(document).on("hidden.bs.modal",(function(){$(".modal.show").length<1&&($(".modal-backdrop").remove(),$(".navbar-toggler").css("margin-right","0px"))})),$(document).on("hidden.bs.modal",".modal",(function(e){0==$(".modal.fade.show").length?$(".modal-backdrop").remove():$("body").addClass("modal-open")})),$(".show-password").on("click",(function(){var e=$("#passwordType");""!=e.val()&&("password"==e.attr("type")?e.attr("type","text"):e.attr("type","password"),$(this).find("i").toggleClass("fa-eye fa-eye-slash"))})),$(document).ready((function(){$("#captcha").keyup((function(){$(this).val($(this).val().toUpperCase())})),$("#marqueeDiv").css({color:"red"})}));var debouncing=function(e,a){var t;return function(...s){clearTimeout(t),t=setTimeout((()=>{e(...s)}),a)}};function getTimeDifference(e,a){return moment.duration(moment(a,"HH:mm:ss a").diff(moment(e,"HH:mm:ss a")))}function getTimeWithFormat(e){var a=e/6e4;return`${Math.floor(a/60)}h ${a%60}m`}function getTimeFormat(e){return`${parseInt(e.split(":")[0])}h ${parseInt(e.split(":")[1])}m`}function getTimeFormatByMiliSecond(e){var a=e/6e4,t=Math.floor(a/60);t<10&&(t="0"+t);var s=a%60;return s<10&&(s="0"+s),t+":"+s}function autodiposeModel(e){window.setTimeout((function(){$("#"+e).modal("hide")}),1e4)}function detectBrave(){if(navigator.brave&&navigator.brave.isBrave)navigator.brave.isBrave().then((function(e){e?$(".cookie-consent").hide():isShowcookie&&$(".cookie-consent").show()}));else{if(navigator.userAgent.includes("Chrome")){new Error("Test Error").stack.includes("chrome-extension://")?$(".cookie-consent").hide():isShowcookie&&$(".cookie-consent").show()}}}function getActualData(){var e={};return"true"==LOCATION_SERVICE_BYPASS?e=JSON.parse(DEFAULT_LOCATION):$.ajax({global:!1,type:"GET",url:PRO_IP_API_URL,async:!1,success:function(a){e=a}}),e}function getCurrentTimeFromDateAsString(e){return getCurrentTimeFromDate(new Date(e))}function getCurrentTimeOnly(){return getCurrentTimeFromDate(new Date)}function getCurrentTimeFromDate(e){return(e.getHours()>9?e.getHours():"0"+e.getHours())+":"+(e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes())+":"+(e.getSeconds()>9?e.getSeconds():"0"+e.getSeconds())}function getBeforeAndAfterDate(e,a){var t=new Date(e);return new Date(t.getTime()+60*a*60*1e3)}function getDataBasedUrlAndPayload(e,a){return new Promise((function(t,s){$.ajax({type:"POST",contentType:"application/json",url:getURLFor(e,""),data:JSON.stringify(a),dataType:"json",global:!1,success:function(e){t(e)},error:function(e,a,t){s(t),"theme1"==tt?showMessage(!0,TECHNICAL_GLITCH):showMessageTheme2(0,TECHNICAL_GLITCH,"",!0)}})}))}function getNeedToCall(){return{ntc:!0}}async function getFreshValue(e,a){const t={metaType:a,metaKey:await getSettingsByTypeAndKey(e,a)};localStorage.setItem(a,JSON.stringify(t))}function getDesiredObject(e){var a="SCRIPT_VERSION";return new Promise(((t,s)=>{null==localStorage.getItem(a)?getFreshValue("CONFIGURATION",a).then((()=>{checkAndReturn(e,t)})).catch(s):checkAndReturn(e,t)}))}function checkAndReturn(e,a){var t=JSON.parse(localStorage.getItem("SCRIPT_VERSION"));JSON.parse(t.metaKey).data.metaValue!=SCRIPT_VERSION?(localStorage.clear(),a(getNeedToCall())):null==localStorage.getItem(e)?a(getNeedToCall()):a(JSON.parse(localStorage.getItem(e)))}function getPrimaryColor(){return ROOTCSS.split(":#")[1].split(";")[0]}function showMessageTheme2(e,a,t,s,o){if(null!=o&&null!=o&&""!=o||(o=6e3),""==a)return!1;hideMessageTheme2(t),$("#msgTheme2").removeClass("error"),$("#msgTheme2").removeClass("success"),$("#msgTheme2").removeClass("notification"),0==e?($("#msgTheme2").addClass("error"),$("#msgTheme2").html('<i class="fa fa-exclamation-triangle"></i>&nbsp;'+a)):1==e?($("#msgTheme2").addClass("success"),$("#msgTheme2").html('<i class="fa fa-check"></i>&nbsp;'+a)):2==e&&($("#msgTheme2").addClass("notification"),$("#msgTheme2").html('<i class="fa fa-info"></i>&nbsp;'+a)),$(".server-message").addClass("show"),s?setTimeout((function(){$("#msgTheme2").html(""),$(".server-message").removeClass("show")}),o):setTimeout((function(){$(".server-message").removeClass("show")}),o)}function showMessageTheme2Content(){return'<div class="server-message">\n\t\t<span class="msg" id="msgTheme2"></span>\n\t</div>'}function hideMessageTheme2(e){$("#msgTheme2").html(""),$(".server-message").removeClass("show")}function getWelcomeMessage(){var e=(new Date).getHours();return e>=0&&e<12?"Good morning":e>=12&&e<16?"Good afternoon":e>=16&&e<21||e>=21&&e<24?"Good evening":void 0}$(document).ready((function(){detectBrave()})),$("#msgTheme2").click((function(){$(".server-message").removeClass("show")}));