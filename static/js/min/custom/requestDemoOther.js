function validateRequestForRequestDemo(e){return""==$("#"+e+" #username").val()||null==$("#"+e+" #username").val()?(showMessage(!0,"Name is required"),!1):null==$("#"+e+" #grade").val()||""==$("#"+e+" #grade").val()?(showMessage(!0,"Please select a grade"),!1):""==$("#"+e+" #parentEmail").val()||null==$("#"+e+" #parentEmail").val()?(showMessage(!0,"Parent/Student Email is required"),!1):""==$("#"+e+" #userphone").val()||null==$("#"+e+" #userphone").val()?(showMessage(!0,"Phone Number is required"),!1):""==$("#"+e+" #wtspNumber").val()?(showMessage(!0,"Whats app number is required"),!1):null==$("#"+e+" #countryTimezoneId").val()||0==$("#"+e+" #countryTimezoneId").val()?(showMessage(!0,"Please select a Time Zone"),!1):null==$("#"+e+" #newDateslected").val()||""==$("#"+e+" #newDateslected").val()?(showMessage(!0,"Please select a date"),!1):null!=$("input[name='slotTime']:checked").val()||(showMessage(!0,"Please select any one Slot."),!1)}function callForRequestDemoForm(e,t){if(hideMessage(""),!validateRequestForRequestDemo(e))return!1;$("#inquiry").prop("disabled",!0),$.ajax({type:"POST",url:getURLForHTML("common","reqeust-demo-content"),contentType:"application/json",data:JSON.stringify(getRequestForRequestDemo(e,t)),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var t;return"FAILED"==(t=e.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?(showMessage(!0,t[1]),"CONTACTUS DATA OBJECT IS NOT AVAILABLE IN REQUEST BODY"==t[1]&&goAhead(CONTEXT_PATH+"common/appointment/booking/%20","")):($("#sendRequest").prop("disabled",!0),"Request-demo"==$("#campaingnType").val()?goAhead(CONTEXT_PATH+"common/request-demo-thank-you",""):"Book-a-demo"==$("#campaingnType").val()?goAhead(CONTEXT_PATH+"common/book-a-demo-thank-you",""):goAhead(CONTEXT_PATH+"common/book-meeting-thank-you","")),!1}return!1},error:function(e){$("#sendRequest").prop("disabled",!1)}})}function getRequestForRequestDemo(e,t){var o={},a={},s={},n={};return n.encryptedRequestDemoId=$("#"+e+" #encryptedRequestDemoId").val(),n.parentEmail=$("#"+e+" #parentEmail").val(),n.name=$("#"+e+" #username").val(),n.grade=$("#"+e+" #grade").val(),n.isdCode=$("#"+e+" #isdCodeMobileNo").val(),n.contactNumber=$("#"+e+" #userphone").val(),n.isdCodeWtsp=$("#"+e+" #isdCodeWhatsupNo").val(),n.wtspNumber=$("#"+e+" #wtspNumber").val(),n.contactDescription=escapeCharacters($("#"+e+" #description").val()),n.location=$("#"+e+" #location").val(),n.campaignName=$("#"+e+" #campaingnType").val(),n.countryTimezoneId=$("#countryTimezoneId option:selected").attr("custom_timezone_id"),n.timeZone=$("#"+e+" #countryTimezoneId").val(),n.studentTimeZone=$("#"+e+" #countryTimezoneId option:selected").text(),n.meetingDate=$("input[name='slotTime']:checked").attr("slotDateAttr"),n.meetingSlotId=$("input[name='slotTime']:checked").attr("slotidattr"),n.meetingSlotTime=$("input[name='slotTime']:checked").val(),n.moduleName=t,null!=$("#counselorUserId").val()&&null!=$("#counselorUserId").val()&&0!=$("#counselorUserId").val()&&(n.counselorUserId=$("#counselorUserId").val()),n.countryId=$("#"+e+" #countryId option:selected").attr("custom_country_value").trim(),n.countryName=$("#"+e+" #countryId option:selected").text().trim(),n.IsdCodeApiStatus=$("#"+e+" #IsdCodeApiStatus").val(),s.requestDemoDTO=n,a.hash=getHash(),a.schoolId=SCHOOL_ID,a.schoolUUID=SCHOOL_UUID,a.userType=t,o.authentication=a,o.requestData=s,o}function callRequestDemoFreeSlots(e,t){var o="/get-request-demo-free-slots?"+t;$.ajax({type:"POST",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+o.split("?")[0],data:JSON.stringify(parseUrlToJson(o)),dataType:"html",success:function(e){if(""!=e){var t;return"FAILED"==(t=e.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?showMessage(!0,t[1]):$("#freeSlotList").html(e),!1}return!1},error:function(e){showMessage(!0,e.responseText)}})}function emptyDateAndSlots(){$("#chooseDate").val(""),$("#freeSlotList").html("")}function validateRequestDemo(e,t,o){hideMessageRequestDemoPage("chooseDateError","newDateslected"),hideMessageRequestDemoPage("countryTimezoneIdError","countryTimezoneId"),hideMessageRequestDemoPage("freeSlotListError","viewFreeSlot");var a=$("#"+e+" #newDateslected").val();if("admin"==o){if(""==a||null==a)return $("#freeSlotList").html(""),showMessageRequestDemoPage(!0,"Please select a date","chooseDateError","newDateslected"),!1}else if(""==a||null==a)return $("#freeSlotList").html(""),showMessageRequestDemoPage(!0,"Please select a date","chooseDateError","newDateslected"),!1;var s=$("#"+e+" #countryTimezoneId").val();if(null==s||0==s)return $("#freeSlotList").html(""),showMessageRequestDemoPage(!0,"Please select a Time Zone","countryTimezoneIdError","countryTimezoneId"),!1;freeslotsList(e,t,o),$("#bookMeetingslot").removeClass("active")}function freeslotsList(e,t,o){var a=$("#"+e+" #newDateslected").val(),s=$("#countryTimezoneId").val(),n="",l="",r="",i="";if(t&&""!=$("#location").val()){var u=JSON.parse($("#location").val());l=u.lat,r=u.lon}"admin"==o?(n="REQUESTDEMO",i="Y"):"counselor"==o&&(n="COUNSELORMEET",i="N"),callRequestDemoFreeSlots("#requestDemo","date="+a+"&countryTimezoneId="+s+"&lat="+l+"&lon="+r+"&requestType="+n+"&book="+i+"&schoolId="+$("#"+e+" #schoolId").val())}$(document).ready((function(){}));