function callForDashboardData(e,a,t){if(customLoader(!0),!validateRequestForDashboardData(e))return!1;var s=!0;"section-linebox"==t&&(s=!1),$.ajax({global:s,type:"POST",contentType:"application/json",url:getURLForHTML("dashboard",a.split("?")[0]),data:JSON.stringify(parseUrlToJson(a)),dataType:"html",async:!0,success:function(e){if(""!=e){var s=[];return"FAILED"==(s=e.split("|"))[0]||"EXCEPTION"==s[0]||"SESSIONOUT"==s[0]?("SESSIONOUT"==s[0]?redirectLoginPage():showMessage(!0,s[1]),customLoader(!1)):"SUCCESS"==s[0]?(closeMenu(),showMessage(!0,s[1]),-1!=s[1].indexOf("Counselor")&&callDashboardPageSchool("mc30"),customLoader(!1)):(closeMenu(),null==t||""==t?($("#dashboardContentInHTML").html(e),a.startsWith("add-to-cart-request-data")&&getCartDetails(USER_ID)):"section-linebox"==t?($("#teacherAgreementModal").modal("show"),$("#"+t).html(e),customLoader(!1)):"subject-plan"==t?($("#bookSessionPaymentModal").modal("show"),$("#"+t).html(e)):"changePasswordContent"==t?($("#changePasswordModal").modal({backdrop:"static",keyboard:!1}),$("#"+t).html(e)):"select-parent-student-id"==t?window.location.reload():setTimeout((function(){$("#"+t).html(e)}),1e3),customLoader(!1)),customLoader(!1),!1}},error:function(e){return!1}})}function callForDashboardDataForPasswordChange(e,a,t,s){if(!validateRequestForDashboardData(e))return!1;var o=!0;"section-linebox"==t&&(o=!1),$.ajax({global:o,type:"POST",url:getURLForHTML("dashboard",a),data:"showChancle="+s,dataType:"html",cache:!1,timeout:6e5,async:!1,success:function(e){if(""!=e){var s=[];return"FAILED"==(s=e.split("|"))[0]||"EXCEPTION"==s[0]||"SESSIONOUT"==s[0]?"SESSIONOUT"==s[0]?redirectLoginPage():showMessage(!0,s[1]):"SUCCESS"==s[0]?(showMessage(!0,s[1]),-1!=s[1].indexOf("Counselor")&&callDashboardPageSchool("mc30")):null==t||""==t?($("#dashboardContentInHTML").html(e),a.startsWith("add-to-cart-request-data")&&getCartDetails(USER_ID)):"section-linebox"==t?($("#teacherAgreementModal").modal("show"),$("#"+t).html(e),customLoader(!1)):"subject-plan"==t?($("#bookSessionPaymentModal").modal("show"),$("#"+t).html(e)):"changePasswordContent"==t?($("#changePasswordModal").modal({backdrop:"static",keyboard:!1}),$("#"+t).html(e)):"select-parent-student-id"==t?window.location.reload():setTimeout((function(){$("#"+t).html(e)}),1e3),!1}},error:function(e){return!1}})}function getRequestForStudentCourse(e){return""}function validateRequestForDashboardData(e){return!0}function callDashboardMenu(e){customLoader(!0),"1"==e?callForDashboardData("formIdIfAny","profile-view-content/"+SCHOOL_UUID+"?userId="):"2"==e||("3"==e?callForDashboardData("formIdIfAny","common/logout"):"4"==e||"5c"==e||"5d"==e||"5e"==e||"6a"==e||"6b"==e||"7b"==e||"3"==e||"13"==e||("14"==e?callForDashboardData("formIdIfAny","changed-password-request","changePasswordContent"):"01compose"==e?callForDashboardData("formIdIfAny","email-compose-content?emailType=&emailId=0&schoolId="+SCHOOL_ID):"01inbox"==e?callForDashboardData("formIdIfAny","email-inbox-content?schoolId="+SCHOOL_ID):"01sent"==e?callForDashboardData("formIdIfAny","email-sent-content?schoolId="+SCHOOL_ID):"01draft"==e?callForDashboardData("formIdIfAny","email-draft-content?schoolId="+SCHOOL_ID):"01read"==e?callForDashboardData("formIdIfAny","email-inbox-read-content?readType=read&schoolId="+SCHOOL_ID):"01unread"==e&&callForDashboardData("formIdIfAny","email-inbox-read-content?readType=unread&schoolId="+SCHOOL_ID)))}function callCommonDashboardPage(e){"1"==e&&callForDashboardData("formIdIfAny","edit-profile-content?userId=")}function callCommonDashboardPageForPasswordChange(e,a){callForDashboardDataForPasswordChange("formIdIfAny","changed-password-request","changePasswordContent","No"==a?"No":"Yes")}function callInneraction(e,a){customLoader(!0),"1ta"==e?callForDashboardData("formIdIfAny","teacher-action?actionType=approve&ids="+a):"1td"==e?callForDashboardData("formIdIfAny","teacher-action?actionType=decline&ids="+a):"3a"==e?callForDashboardData("formIdIfAny","view-task-content?taskname=class_work&subjectid="+a):"3b"==e?callForDashboardData("formIdIfAny","view-task-content?taskname=home_work&subjectid="+a):"inbox"==e||"sent"==e?callForDashboardData("formIdIfAny","email-detail-content?emailType="+e+"&emailId="+a+"&schoolId="+SCHOOL_ID):"reply"==e||"forward"==e||"draft"==e?callForDashboardData("formIdIfAny","email-compose-content?emailType="+e+"&emailId="+a+"&schoolId="+SCHOOL_ID):"attendance"==e?callForDashboardData("formIdIfAny","attendance-content"+a):"1a"==e?callForDashboardData("formIdIfAny","profile-view-content?userId="+a+"&actionType="+e):"1StudentAdmin"==e?callForDashboardData("formIdIfAny","student-profile-view-content?userId="+a):"1StudentLogin"==e?callForDashboardData("formIdIfAny","login-student-profile-view-content?userId="+a):"1teacherAdmin"==e?callForDashboardData("formIdIfAny","teacher-profile-view-content?userId="+a):"1ApproveTeacherAdmin"==e?callForDashboardData("formIdIfAny","approve-teacher-profile-view-content?userId="+a):"1RejectTeacherAdmin"==e?callForDashboardData("formIdIfAny","reject-teacher-profile-view-content?userId="+a):"1b"==e?callForDashboardData("formIdIfAny","edit-profile-content?userId="+a):"schoolProfileView"==e?callForDashboardData("formIdIfAny","new-school-profile-view-content?userId="+a):"rejectSchoolProfileView"==e&&callForDashboardData("formIdIfAny","reject-school-profile-view-content?userId="+a)}function validateChangePassword(e){return null==$("#"+e+" #oldpassword").val().trim()||""==$("#"+e+" #oldpassword").val().trim()?(showModalMessage(!1," Old password is required.","",!1),!1):null==$("#"+e+" #newpassword").val().trim()||""==$("#"+e+" #newpassword").val().trim()?(showModalMessage(!1," New password is required.","",!1),!1):null==$("#"+e+" #confirmpassword").val().trim()||""==$("#"+e+" #confirmpassword").val().trim()?(showModalMessage(!1," Confirm new password is required.","",!1),!1):$("#"+e+" #newpassword").val().trim()!=$("#"+e+" #confirmpassword").val().trim()?(showModalMessage(!1," New password and confirm password mismatch.","",!1),!1):pattern.test($("#"+e+" #newpassword").val())?!!pattern.test($("#"+e+" #confirmpassword").val().trim())||(showModalMessage(!1," Confirm password must match all requirements","",!1),!1):(showModalMessage(!1," New password must match all requirements","",!1),!1)}function changePassword(e){$(".disabledFields").each((function(){$(this).removeAttr("disabled")}));var a={};if(a.oldpassword=encode($("#oldpassword").val()),a.newpassword=encode($("#newpassword").val()),a.confirmpassword=encode($("#confirmpassword").val()),$(".disabledFields").each((function(){$(this).attr("disabled","disabled")})),!validateChangePassword("passwordForm"))return!1;$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","changed-password-content"),data:JSON.stringify(a),dataType:"json",success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():showModalMessage(!1,e.message,"",!0):($("#changePasswordModal").modal("hide"),showModalMessage(!1,e.message,"",!0))}})}function inquiryReplyData(e){if(""==$("#enquiryForm #emailMsg").val()||null==$("#enquiryForm #emailMsg").val())return showMessage(!0,"Please enter description"),!1;var a={eqid:$("#eqid").val(),toId:$("#toId").val(),emailMsg:escapeCharacters($("#emailMsg").val())};$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("common","inquiry-reply"),data:JSON.stringify(a),dataType:"html",cache:!1,timeout:6e5,success:function(a){if(""!=a){var t;return"FAILED"==(t=a.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?"SESSIONOUT"==t[0]?redirectLoginPage():showMessage(!0,t[1]):($("#queriesModel").modal("hide"),setTimeout((function(){callDashboardPageSchool(e,"inquiries")}),1e3)),!1}},error:function(e){return!1}})}function getRequestForUpdateProfileNew(e,a){var t={},s={};return"STUDENT"==a||"STUDENT_SCHOOL"==a?t.updateProfileStudentDTO=updateProfileStudentDTO():"TEACHER"==a?t.updateProfileTeacherDTO=updateTeacherProfileDTO():"PARENT"==a?t.updateProfileParentDTO=updateProfileParentDTO():"SCHOOL_ADMIN"==a?t.updateProfileSchoolAdminDTO=updateProfileSchoolAdminDTO():"AUDITOR"==a?t.updateProfileAuditorDTO=getJSONRequest(e):t.addCounselorListDTO="COUNSELOR"==a?updateCounselorProfile(e,a):updateCommanProfile(e,a),s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=a,s.userId=$("#"+e+" #userId").val(),t.authentication=s,t}function callForUpdateProfile(e,a,t,s,o){var r=$("#"+e+" #userId").val();if("STUDENT"==a){if(!$("#checkParentDetails").is(":checked")&&"Y"==$("#checkForParentDetails").val()&&!emailCheck($("#guardianEmail").val(),a))return showMessage(!0,"Email already exist"),!1}else if("TEACHER"==a){if(""==$("#"+e+" #nationalityId").val()||null==$("#"+e+" #nationalityId").val())return showMessage(!0,"Nationality is required"),!1;if(""!=$("#"+e+" #officialEmailId").val()&&!validateEmail($("#"+e+" #officialEmailId").val()))return showMessage(!0,"Official Email is invalid"),!1;if(""==$("#"+e+" #employeeType").val())return showMessage(!0,"Please select employee type"),!1;if(""==$("#"+e+" #typeOfTeacher").val())return showMessage(!0,"Please select type of teacher"),!1;if(""==$("#"+e+" #countryZoneId").val())return showMessage(!0,"Please select country timezone"),!1;var n=$("#"+e+" #accountType").val();if(""==$("#"+e+" #accountPersonName").val()&&""==$("#"+e+" #bankName").val()&&""==$("#"+e+" #bankBranchName").val()&&""==$("#"+e+" #bankBranchAddress").val()&&""==$("#"+e+" #accountNo").val());else{if(""==$("#"+e+" #accountPersonName").val()||null==$("#"+e+" #accountPersonName").val())return showMessage(!0,"Account Holder Name is required"),!1;if(""==$("#"+e+" #bankName").val()||null==$("#"+e+" #bankName").val())return showMessage(!0,"Bank Name is required"),!1;if(""==$("#"+e+" #bankBranchName").val()||null==$("#"+e+" #bankBranchName").val())return showMessage(!0,"Bank Branch Name is required"),!1;if(""==$("#"+e+" #bankBranchAddress").val()||null==$("#"+e+" #bankBranchAddress").val())return showMessage(!0,"Bank Branch Address is required"),!1;if(""==$("#"+e+" #accountNo").val()||null==$("#"+e+" #accountNo").val())return showMessage(!0,"Account Number is required"),!1}if("BANK_ACCOUNT"==n);else if(!validateEmail($("#"+e+" #payPalEmail").val()))return showMessage(!0,"PayPal Emaild ID is invalid"),!1;if(""!=$("#"+e+" #payPalIsdCode").val()&&null!=$("#"+e+" #payPalIsdCode").val()||""!=$("#"+e+" #payPalMobile").val()){if(""==$("#"+e+" #payPalIsdCode").val()||null==$("#"+e+" #payPalIsdCode").val())return showMessage(!1,"Please choose PayPal ISD Code"),!1;if(""==$("#"+e+" #payPalMobile").val()||$("#"+e+" #payPalMobile").val().length<4||$("#"+e+" #payPalMobile").val().length>15)return showMessage(!0,"PayPal Mobile Number is required"),!1}else;}hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","update-profile-content"),data:JSON.stringify(getRequestForUpdateProfileNew(e,a)),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var a;return"FAILED"==(a=e.split("|"))[0]||"EXCEPTION"==a[0]||"SESSIONOUT"==a[0]?"SESSIONOUT"==a[0]?redirectLoginPage():showMessage(!0,a[1]):(showMessage(!1,"Profile has been updated successfully"),"2"==a[1]?setTimeout((function(){callDashboardPageSchool(s,"manage-user-list","","&schoolId="+o+"&userClickFrom=list&registrationType=ONE_TO_ONE&themeType=")}),2e3):setTimeout((function(){callSchoolInneraction("1a",r,"",s)}),1e3)),!1}return!1},error:function(e){$("#nextStep").prop("disabled",!1),tabActiveStatus(3)}})}function updateTeacherProfileDTO(){var e={};return e.nationalityId=$("#nationalityId").val(),e.altEmailId=escapeCharacters($("#altEmailId").val()),e.altPhoneCodeNo=$("#altPhoneCodeNo").val(),e.altPhoneNo=$("#altPhoneNo").val(),e.graduationSubjects=escapeCharacters($("#graduationSubjects").val()),e.postGraduationSubjects=escapeCharacters($("#postGraduationSubjects").val()),e.otherProfessionalCourse=escapeCharacters($("#otherProfessionalCourse").val()),e.otherSpecialization=escapeCharacters($("#otherSpecialization").val()),e.otherSkills=escapeCharacters($("#otherSkills").val()),e.anyOtherLanguages=escapeCharacters($("#anyOtherLanguages").val()),e.references1=escapeCharacters($("#references1").val()),e.references2=escapeCharacters($("#references2").val()),e.describeYourself=escapeCharacters($("#describeYourself").val()),e.accountPersonName=escapeCharacters($("#accountPersonName").val()),e.bankName=escapeCharacters($("#bankName").val()),e.bankBranchName=escapeCharacters($("#bankBranchName").val()),e.bankBranchAddress=escapeCharacters($("#bankBranchAddress").val()),e.accountNo=$("#accountNo").val(),e.swiftCode=$("#swiftCode").val(),e.routeNo=$("#routeNo").val(),e.accountType=$("#accountType").val(),e.payPalEmail=escapeCharacters($("#payPalEmail").val()),e.payPalIsdCode=$("#payPalIsdCode").val(),e.payPalMobile=$("#payPalMobile").val(),e.payPalAccountHolderName=escapeCharacters($("#payPalAccountHolderName").val()),e.teacherSubjectIds=$("#teacherSubjectIds").val(),e.teacherPlacementSubjectIds=$("#teacherPlacementSubjectIds").val(),e.officialEmailId=escapeCharacters($("#officialEmailId").val()),e.providerId=$("#courseProvider").val(),e.employeeType=$("#employeeType").val(),e.typeOfTeacher=$("#typeOfTeacher").val(),e.timeZoneId=$("#countryTimezoneId").val(),e}function updateProfileSchoolAdminDTO(){var e={};return e.roomCount=$("#roomCount").val(),e.staffCount=$("#staffCount").val(),e.noOfStudentsMiddleSchool=$("#noOfStudentsMiddleSchool").val(),e.noOfStudentsHighSchool=$("#noOfStudentsHighSchool").val(),e.noOfStudentsPostSecondry=$("#noOfStudentsPostSecondry").val(),e.noOfStudentsUnderGraduate=$("#noOfStudentsUnderGraduate").val(),e.noOfStudentsPostGraduate=$("#noOfStudentsPostGraduate").val(),e.numberOfStudentsVocationalSkillDev=$("#numberOfStudentsVocationalSkillDev").val(),e.totalSchoolArea=$("#totalSchoolArea").val(),e.washroomCount=$("#washroomCount").val(),e.aboutSchool=escapeCharacters($("#aboutSchool").val()),e}function updateProfileStudentDTO(){var e={};return e.altPhoneCode=$("#altPhoneCode").val(),e.altPhoneNo=$("#altPhoneNo").val(),e.birthPlace=escapeCharacters($("#birthPlace").val()),e.hobbies=escapeCharacters($("#hobbies").val()),e.nationality=$("#nationality").val(),e.bloodGroup=$("#bloodGroup").val(),e.guardianEmail=escapeCharacters($("#guardianEmail").val()),e.guardianWorkCodeNo=$("#guardianWorkCodeNo").val(),e.guardianWorkContactNo=$("#guardianWorkContactNo").val(),e.timeZoneId=$("#countryTimezoneId").val(),e}function updateProfileParentDTO(){var e={};return"0"!=$("#workStdCode option:selected").val()&&(e.workStdCode=escapeCharacters($("#workStdCode option:selected").text())),e.workPhoneNo=$("#workPhoneNo").val(),e.occupation=escapeCharacters($("#occupation").val()),e}function updateCounselorProfile(e,a){var t={};return t.id=$("#"+e+" #counselerId").val(),t.userId=$("#"+e+" #userId").val(),t.firstName=$("#"+e+" #firstName").val(),t.middleName=$("#"+e+" #middleName").val(),t.lastName=$("#"+e+" #lastName").val(),t.dob=$("#"+e+" #dob").val(),t.gender=$("#"+e+" #gender").val(),t.address=escapeCharacters($("#"+e+" #address").val()),t.countryId=$("#"+e+" #countryId").val(),t.stateId=$("#"+e+" #stateId").val(),t.cityId=$("#"+e+" #cityId").val(),t.pincode=$("#"+e+" #pincode").val(),t.emailId=$("#"+e+" #email").val(),t.altEmailId=$("#"+e+" #altEmailId").val(),t.isdCode=$("#"+e+" #isdCode").val(),t.phoneNo=$("#"+e+" #phoneNo").val(),t.altIsdCode=$("#"+e+" #altIsdCode").val(),t.altPhoneNo=$("#"+e+" #altPhoneNo").val(),t.status=1,t}function updateCommanProfile(e,a){var t={};return t.userId=$("#"+e+" #userId").val(),t.firstName=$("#"+e+" #firstName").val(),t.middleName=$("#"+e+" #middleName").val(),t.lastName=$("#"+e+" #lastName").val(),t.gender=$("#"+e+" #gender").val(),t.countryId=$("#"+e+" #countryId").val(),t.stateId=$("#"+e+" #stateId").val(),t.cityId=$("#"+e+" #cityId").val(),t.emailId=$("#"+e+" #email").val(),t.countryTimezone=$("#"+e+" #countryTimezoneId option:selected").attr("data-timezone"),t.countryTimezoneId=$("#"+e+" #countryTimezoneId").val(),t.status=1,t}function callCommonAction(e,a,t,s,o,r,n,l){console.log("formId=>"+e+", actionUrl=>"+a+", module=>"+t+", actionType=>"+s+", userId=>"+o),$.ajax({type:"POST",contentType:"application/json",url:getURLFor(t,a),data:JSON.stringify(getRequestForAction(e,t,s,o,r,n,l)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?showMessage(!0,e.message):(showMessage(!1,e.message),"approve"==s?$("#approvedRequest"+o).text("Approved"):"decline"==s?$("#approvedRequest"+o).text("Declined"):"non-qualified"==s?($("#interviewApprovalModal").modal("hide"),$("#approvedRequest"+o).text("Rejected"),setTimeout((function(){callDashboardPageSchool(l,"pending-interview-remarks")}),1e3)):"qualified"==s?($("#approvedRequest"+o).text("Qualified"),setTimeout((function(){callDashboardPageSchool(l,"pending-interview-remarks")}),1e3)):"re-active"==s&&$("#profileId_"+o).remove()),!1},error:function(e){"pending-approve-school-visit"==a&&$("#PendingRemarkModal").modal("show")}})}function getRequestForAction(e,a,t,s,o,r,n){var l={},i={};return i.hash=getHash(),i.schoolId=SCHOOL_ID,i.schoolUUID=SCHOOL_UUID,i.userType=a,i.userId=s,l.authentication=i,l.requestKey=t,l.requestValue=t,l.requestExtra=o,l.requestExtra1=r,null!=n&&""!=n&&(l.requestExtra2=n),l}function createSchoolEvent(){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","create-event"),data:JSON.stringify(getRequestForCreateEvent()),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?showMessage(!0,e.message):(showMessage(!1,e.message),$("#eventModal").modal("toggle"),"TEACHER"==$("#dashboardFor").val()?setTimeout((function(){callDashboardPageTeacher("5")}),1e3):setTimeout((function(){callDashboardPageSchool("4")}),1e3)),!1},error:function(e){return!1}})}function getRequestForCreateEvent(){var e={},a={},t={},s={};return s.eventTitle=$("#eventTitle").val(),s.subjectEventId=$("#subjectEventId").val(),0!=$("#standardId").val()&&null!=$("#standardId").val()&&(s.standardId=$("#standardId").val()),0!=$("#placementStandardId").val()&&null!=$("#placementStandardId").val()&&(s.standardId=$("#placementStandardId").val()),0!=$("#subjectId").val()&&null!=$("#subjectId").val()&&(s.subjectId=$("#subjectId").val()),s.startEndDate=$("#startEndDate").val(),t.createEventDTO=s,a.hash=getHash(),a.schoolId=SCHOOL_ID,a.schoolUUID=SCHOOL_UUID,a.userId=$("#userId").val(),e.authentication=a,e.requestData=t,e}function submitSendEmailSubmit(e,a,t){if(hideMessage(""),!validateRequestForSendEmail(e,a))return!1;$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","compose-email-submit"),data:JSON.stringify(getRequestForsendEmail(e,a,t)),dataType:"json",cache:!1,timeout:6e5,success:function(a){return"0"==a.status||"2"==a.status?showMessage(!0,a.message):(showMessage(!1,a.message),$("#"+e)[0].reset()),!1},error:function(e){return!1}})}function getRequestForsendEmail(e,a,t){var s={},o={},r={},n={},l=$("#"+e+" #draftid").val(),i=$("#"+e+" #toId").val(),c=$("#"+e+" #subject").val(),d=$("#"+e+" #fromId").val();return n.emailId=l,n.label=t,n.emailType="email",n.toId=i,n.fromId=d,null!=editor1&&(n.msg=escapeCharacters(editor1.getData())),n.subject=c,n.draftStatus="normal"==t?"1":"0",r.emailListDTO=n,o.hash=getHash(),o.schoolId=SCHOOL_ID,o.schoolUUID=SCHOOL_UUID,o.userType=a,o.userId=$("#"+e+" #userId").val(),s.authentication=o,s.requestData=r,s}function validateRequestForSendEmail(e,a){return!0}function callForUserSignUp(e){return hideMessage(""),""==$("#roleUser").val()||0==$("#roleUser").val()?(showMessage(!0,"Role Type is required."),!1):""==$("#emailId").val()?(showMessage(!0,"Email is required."),!1):("3"==$("#roleUser").val()?moduleId="TEACHER":moduleId="STUDENT",$("#signup").prop("disabled",!0),void $.ajax({type:"POST",contentType:"application/json",url:getURLForSignup("enrollment/stage-1",moduleId),data:JSON.stringify(getRequestForSignup(e,moduleId)),dataType:"json",cache:!1,timeout:6e5,success:function(a){return"0"==a.status||"2"==a.status?("0001"==a.statusCode&&$("#allReadyEmail #emailVerify").show(),showMessage(!0,a.message),showHideDiv(!1,"signupShortForm"),showHideDiv(!0,"accountConfirmation")):(showHideDiv(!0,"signupShortForm"),showHideDiv(!1,"accountConfirmation"),$("#emailId").html($("#"+e+" #email").val()),showMessage(!0,a.message)),$("#signup").prop("disabled",!1),!1},error:function(e){console.log("ERROR : ",e),$("#signup").prop("disabled",!1)}}))}function getRequestForSignup(e,a){var t={},s={},o={};return o.email=$("#"+e+" #emailId").val(),o.confirmEmail=$("#"+e+" #emailId").val(),o.password="1234567",o.confirmPassword="1234567",o.schoolId=SCHOOL_ID,o.schoolUUID=SCHOOL_UUID,null!=$("#"+e+" #captcha").val()&&(o.captcha=$("#"+e+" #captcha").val()),o.signupType="Offline",o.isAdminCreateUser="AdminCreateUser",o.userType=a,s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=a,t.authentication=s,t.data=o,t}function getTeacherList(e,a,t){createClassButtonHide(),$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","teacher-mapping-list"),data:JSON.stringify(getRequestTeacherForStudent(e,a)),dataType:"json",cache:!1,timeout:6e5,success:function(e){if("0"==e.status||"2"==e.status)showMessage(!0,e.message);else{var a=e.dashboardDTO.studentTeacherMappingDTOList;tBodyRow='<select id="teachername" name="teachername">',tBodyRow+="<option value=0>--Select Teacher--</option>",$.each(a,(function(e,a){var s="",o=a.teacherName+"  "+a.subjectName;o==t&&(s="selected"),tBodyRow+="<option value="+a.teacherId+" "+s+">"+o+"</option>"})),tBodyRow+="</select>",$(".teacherselect").html(tBodyRow)}return!1},error:function(e){return!1}})}function getRequestTeacherForStudent(e,a){var t={},s={},o={},r=$("#"+e+" #subjectid").val(),n=$("#"+e+" #placementSubjectid").val();return o.requestKey="subject",""!=r&&0!=r&&(o.requestValue=r),o.requestExtra="placementSubject",""!=n&&0!=n&&(o.requestExtra1=n),s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=a,s.userId=$("#"+e+" #userId").val(),t.authentication=s,t.requestData=o,t}function submitStudentTeacherMapp(e,a){if(hideMessage(""),!validateRequestStudentTeacherMapp(e,a))return!1;$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","student-teacher-mapping-submit"),data:JSON.stringify(getRequestForStudentTeacherMapp(e,a)),dataType:"json",cache:!1,timeout:6e5,success:function(a){return"0"==a.status||"2"==a.status?showMessage(!0,a.message):(showMessage(!1,a.message),$("#"+e)[0].reset(),setTimeout((function(){callDashboardPageSchool("3")}),1e3)),!1},error:function(e){return!1}})}function getRequestForStudentTeacherMapp(e,a){var t={},s={},o={},r={},n=$("#"+e+" #mapid").val(),l=$("#"+e+" #studentid").val(),i=$("#"+e+" #subjectid").val(),c=$("#"+e+" #teachername option:selected").val(),d=$("#"+e+" #placementSubjectid").val();return r.mappingId=n,r.teacherId=c,r.studentId=l,r.subjectId=i,r.placementSubjectId=d,o.studentTeacherMappingDTO=r,s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=a,s.userId=$("#"+e+" #userId").val(),t.authentication=s,t.requestData=o,t}function validateRequestStudentTeacherMapp(e,a){return!0}function emailCheckForMail(e,a){var t="";return hideMessage(""),-1!=e.indexOf(",")||validateEmail(e)?($.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("is-user-available"),data:JSON.stringify(getCallRequestForEmailCheckForMail(e,a)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(e){"0"==e.status||"2"==e.status?t=!0:(showMessage(!0,"Email doesn't exist"),t=!1)},error:function(e){console.log("ERROR : ",e)}}),t):(showMessage(!1,"Email is either empty or invalid"),!1)}function getCallRequestForEmailCheckForMail(e,a){var t={},s={},o={requestKey:"EMAIL-AVAILABLE"};return o.email=e,s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=a,t.authentication=s,t.data=o,t}function callCommonWireTransferPayment(e,a){if(!validateCharacters($("#wireTransferNumber").val()))return showMessage(!1,"Please use the English Keyboard while providing information"),!1;hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLFor("school","call-wireTransferPayment"),data:JSON.stringify(getRequestForCommonWireTransferPayment(e,a)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?showMessage(!0,e.message):(showMessage(!0,e.message),$("#callPaymentModal").modal("hide"),$("#callWireTransferModal").modal("hide"),location.reload()),!1},error:function(e){}})}function getRequestForCommonWireTransferPayment(e,a){console.log("getRequestForCommonWireTransferPayment");var t={},s={},o={},r={userType:"SCHOOL_B2B",moduleName:"SCHOOL_B2B"};return r.referenceNumber=escapeCharacters($("#wireTransferNumber").val()),r.paymentType=$("#paymentType").val(),"SCHOOL-STUDENT-FEE"==$("#paymentType").val()&&(r.attachment=$("#fileupload3").parent("span").parent("p").parent("div").find("span.fileName").html()),"One_time_Application_Fee"==$("#paymentType").val()&&(r.attachment=$("#fileupload8").parent("span").parent("p").parent("div").find("span.fileName").html()),"Annual_Dues"==$("#paymentType").val()&&(r.attachment=$("#fileupload2").parent("span").parent("p").parent("div").find("span.fileName").html()),"One_time_Partnership_Fee"==$("#paymentType").val()&&(r.attachment=$("#fileupload2").parent("span").parent("p").parent("div").find("span.fileName").html()),null!=$("#totalCount").val()&&""!=$("#totalCount").val()&&(r.totalCount=$("#totalCount").val()),null!=$("#currentGradeId").val()&&""!=$("#currentGradeId").val()&&(r.gradeId=$("#currentGradeId").val()),null!=$("#schoolId").val()&&""!=$("#schoolId").val()&&(r.schoolId=$("#schoolId").val()),null!=$("#totalStudentIds").val()&&""!=$("#totalStudentIds").val()&&(r.studentId=$("#totalStudentIds").val()),o.wireTransferInfoDTO=r,s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType="SCHOOL_B2B",s.userId=$("#userId").val(),t.authentication=s,t.requestData=o,t}function disabledBankDeatils(e){$("#accountPersonName").prop("disabled",e),$("#bankName").prop("disabled",e),$("#bankBranchName").prop("disabled",e),$("#bankBranchAddress").prop("disabled",e),$("#accountNo").prop("disabled",e),$("#swiftCode").prop("disabled",e),$("#routeNo").prop("disabled",e)}function changeSchool(e){var a={};a.schoolId=e,a.userId=USER_ID,actionUrl="select-school",$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard",actionUrl),data:JSON.stringify(a),dataType:"html",cache:!1,timeout:6e5,async:!1,success:function(e){if(""!=e){var a;return"FAILED"==(a=e.split("|"))[0]||"EXCEPTION"==a[0]||"SESSIONOUT"==a[0]?"SESSIONOUT"==a[0]?redirectLoginPage():showMessage(!0,a[1]):"SUCCESS"==a[0]&&(showMessage(!0,a[1]),window.location.reload()),!1}}})}function callStudentRedirectToDashboard(e,a,t){var s={};s.userId=e,s.userPaymentDetailsId=a,s.sendMailStatus=t,$.ajax({type:"POST",url:getURLForHTML("dashboard","send-to-dashboard"),contentType:"application/json",data:JSON.stringify(s),dataType:"html",cache:!1,timeout:6e5,async:!1,success:function(e){if(""!=e){var a;return("FAILED"!=(a=e.split("|"))[0]&&"EXCEPTION"!=a[0]&&"SESSIONOUT"!=a[0]||"SESSIONOUT"!=a[0])&&(showMessage(!0,a[1]),DEFAULT_SEARCH_STATE=!0,callDashboardPageSchool("2b","studentTab","","&schoolId="+SCHOOL_ID),!1)}},error:function(e){showMessage(!0,e.responseText)}})}function callForServerDownMessage(e){if(null==$("#message").val()||null==$("#message").val()||""==$("#message").val())return showMessage(!1,"Maintenance message is mandatory"),!1;$.ajax({type:"POST",url:getURLForHTML("dashboard","maintenance-down-message-activity"),contentType:"application/json",data:JSON.stringify(getRequestForServerDownMessage()),dataType:"html",success:function(a){if(""!=a){var t=JSON.parse(a);return"FAILED"==t.statusResponse.status||"EXCEPTION"==t.statusResponse.status||"SESSIONOUT"==t.statusResponse.status?"SESSIONOUT"==t.statusResponse.status?redirectLoginPage():showMessage(!0,t.statusResponse.message):"SUCCESS"==t.statusResponse.status&&(showMessage(!0,t.statusResponse.message),setTimeout((function(){callDashboardPageSchool(e,"maintenance-down-message")}),1e3)),!1}},error:function(e){console.log(!0,e.responseText)}})}function getRequestForServerDownMessage(){var e={},a={};return"N"==$("#forAllSchool").val()&&(a.schoolId=SCHOOL_ID),a.message=$("#message").val(),a.userId=USER_ID,e.maintenanceDownTimeDTO=a,e.controlType="ADD",e.uniqueId=UNIQUEUUID,e}function callForServerDownMessageEmail(e,a){$.ajax({type:"POST",url:getURLForHTML("dashboard","maintenance-down-message-activity"),contentType:"application/json",data:JSON.stringify(getRequestForServerDownMessageEmail(e)),dataType:"html",success:function(e){if(""!=e){var t=JSON.parse(e);return"FAILED"==t.statusResponse.status||"EXCEPTION"==t.statusResponse.status||"SESSIONOUT"==t.statusResponse.status?"SESSIONOUT"==t.statusResponse.status?redirectLoginPage():showMessage(!0,t.statusResponse.message):"SUCCESS"==t.statusResponse.status&&(showMessage(!0,t.statusResponse.message),setTimeout((function(){callDashboardPageSchool(a,"maintenance-down-message")}),1e3)),!1}},error:function(e){console.log(!0,e.responseText)}})}function getRequestForServerDownMessageEmail(e){var a={},t={};return t.maintenanceId=e,a.maintenanceDownTimeDTO=t,a.controlType="EMAIL",a.id=e,a}function callForServerDownMessageMarquee(e,a){$.ajax({type:"POST",url:getURLForHTML("dashboard","maintenance-down-message-activity"),contentType:"application/json",data:JSON.stringify(getRequestForServerDownMessageMarquee(e)),dataType:"html",success:function(e){if(""!=e){var t=JSON.parse(e);return"FAILED"==t.statusResponse.status||"EXCEPTION"==t.statusResponse.status||"SESSIONOUT"==t.statusResponse.status?"SESSIONOUT"==t.statusResponse.status?redirectLoginPage():showMessage(!0,t.statusResponse.message):"SUCCESS"==t.statusResponse.status&&(showMessage(!0,t.statusResponse.message),setTimeout((function(){callDashboardPageSchool(a,"maintenance-down-message")}),1e3)),!1}},error:function(e){console.log(!0,e.responseText)}})}function getRequestForServerDownMessageMarquee(e){var a={},t={};return t.maintenanceId=e,a.maintenanceDownTimeDTO=t,a.controlType="MARQUEE",a.id=e,a}function showAssignedSubjectToTeacher(e){showAssignedSubjectToTeacherContent(e,1,""),showAssignedSubjectToTeacherContent(e,31,""),showAssignedSubjectToTeacherContent(e,2,"Yes"),showAssignedSubjectToTeacherContent(e,2,"No"),$("#assignSubjects").modal({backdrop:"static",keyboard:!1}),showAssignedSubjectOnProviderId()}function showAssignedSubjectOnProviderId(){var e=$("#courseProvider").val(),a=$("#flaxStatus").val();$(".teacherAddCourseSelectionlist").hide(),"1"==e?$("#teacherAddCourseSelectionlist1").show():"31"==e?$("#teacherAddCourseSelectionlist31").show():"36"==e?$("#teacherAddCourseSelectionlist36").show():"2"==e&&"No"==a?$("#teacherAddCourseSelectionlist2").show():"2"==e&&"Yes"==a&&$("#teacherAddCourseSelectionlist3").show()}function cancelTotalSubjectSelected(){if($("#teacherAddCourseSelectionlist").html(""),$(".subjectIds").each((function(){$(this).hasClass("greenDiv")&&$(this).removeClass("greenDiv")})),$(".placementSubjectIds").each((function(){$(this).hasClass("greenDiv")&&$(this).removeClass("greenDiv")})),null!=PRESERVE_CURRENT_SUBJECTS)for(var e=PRESERVE_CURRENT_SUBJECTS.split(","),a=0;a<e.length;a++)$("#subjectId-"+e[a]).addClass("greenDiv");if(null!=PRESERVE_CURRENT_PLACEMENT_SUBJECTS)for(e=PRESERVE_CURRENT_PLACEMENT_SUBJECTS.split(","),a=0;a<e.length;a++)$("#subjectPlacementId-"+e[a]).addClass("greenDiv");$("#assignSubjects").modal("hide")}function calculateTotalSubjectSelected(){var e="",a="";if($(".subjectIds").each((function(){$(this).hasClass("greenDiv")&&(e=e+","+$(this).attr("data-placement"))})),$(".placementSubjectIds").each((function(){$(this).hasClass("greenDiv")&&(a=a+","+$(this).attr("data-placement"))})),CURRENT_SUBJECTS=e.substr(1),CURRENT_PLACEMENT_SUBJECTS=a.substr(1),""==CURRENT_SUBJECTS&&""==CURRENT_PLACEMENT_SUBJECTS)return showMessage(!0,"Please select at least one subject to proceed."),!1;CURRENT_SUBJECTS.split(",").length,CURRENT_PLACEMENT_SUBJECTS.split(",").length;return $("#assignSubjects").modal("hide"),$("#teacherSubjectIds").val(CURRENT_SUBJECTS),$("#teacherPlacementSubjectIds").val(CURRENT_PLACEMENT_SUBJECTS),PRESERVE_CURRENT_SUBJECTS=CURRENT_SUBJECTS,PRESERVE_CURRENT_PLACEMENT_SUBJECTS=CURRENT_PLACEMENT_SUBJECTS,console.log("CURRENT_SUBJECTS: "+CURRENT_SUBJECTS),console.log("PRESERVE_CURRENT_SUBJECTS: "+PRESERVE_CURRENT_SUBJECTS),console.log("CURRENT_PLACEMENT_SUBJECTS: "+CURRENT_PLACEMENT_SUBJECTS),console.log("PRESERVE_CURRENT_PLACEMENT_SUBJECTS: "+PRESERVE_CURRENT_PLACEMENT_SUBJECTS),CURRENT_SUBJECTS+","+CURRENT_PLACEMENT_SUBJECTS}function showAssignedSubjectToTeacherContent(e,a,t){hideMessage(""),$.ajax({type:"POST",url:getURLForHTML("dashboard","assigned-subject-to-teacher-content"),data:"userId="+e+"&providerId="+a+"&flaxStatus="+t,dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var s;return"FAILED"==(s=e.split("|"))[0]||"EXCEPTION"==s[0]||"SESSIONOUT"==s[0]?showMessage(!0,s[1]):1==a&&""==t?$("#teacherAddCourseSelectionlist1").html(e):31==a&&""==t?$("#teacherAddCourseSelectionlist31").html(e):36!=a&&37!=a&&38!=a||""!=t?2==a&&"No"==t?$("#teacherAddCourseSelectionlist2").html(e):2==a&&"Yes"==t&&$("#teacherAddCourseSelectionlist3").html(e):$("#teacherAddCourseSelectionlist36").html(e),!1}},error:function(e){return console.log(e),!1}})}function submitForTeacherInterviewSlots(e,a,t,s){if(hideMessage(""),"ADDURL"==t&&(""==$("#interviewLink").val()||null==$("#interviewLink").val()))return showMessage(!0,"Interview Link is required"),!1;$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","meetingslots-submit"),data:JSON.stringify(getRequestForsubmitForTeacherInterviewSlots(e,a,t)),dataType:"json",cache:!1,timeout:6e5,success:function(a){return"0"==a.status||"2"==a.status?showMessage(!0,a.message):(showMessage(!1,a.message),"ADDURL"==t?($("#interviewLinkModal").modal("toggle"),$("#"+e)[0].reset(),setTimeout((function(){callDashboardPageSchool(s,"pending-interview-remarks")}),1e3)):"SENDMAIL"==t&&($("#sendMailInterViewModel").modal("toggle"),$("#"+e)[0].reset(),setTimeout((function(){callDashboardPageSchool(s,"pending-interview-remarks")}),1e3))),!1},error:function(e){return!1}})}function getRequestForsubmitForTeacherInterviewSlots(e,a,t){var s={},o={},r={};return"ADDURL"==t?(r.controllType=t,r.meetingType="INTERVIEW",r.meetingId=$("#"+e+" #meetingId").val(),r.meetingUrl=$("#"+e+" #interviewLink").val()):"SENDMAIL"==t&&(r.controllType=t,r.meetingType="INTERVIEW",r.meetingId=$("#"+e+" #meetingId").val()),o.hash=getHash(),o.schoolId=SCHOOL_ID,o.schoolUUID=SCHOOL_UUID,o.userType=a,o.userId=$("#"+e+" #userId").val(),s.authentication=o,s.meetingSlotDTO=r,s}function notificationContentListingWithQueries(e,a){$("#"+e).DataTable({processing:!0,serverSide:!0,searching:!0,pagingType:"full",pageLength:10,ajax:{url:CONTEXT_PATH+UNIQUEUUID+"/dashboard/notifications-1"+a,data:function(e){}},fnRowCallback:function(e,a,t,s){},columns:[{data:"sno",name:"sno",title:"S.No"},{data:"notificationTitle",name:"notificationTitle",title:"Title"},{data:"notificationDescription",name:"notificationDescription",title:"Description"},{data:"createdAt",name:"createdAt",title:"Date"},{data:"action",name:"action",title:""}]}),$("#"+e).dataTable().fnSetFilteringEnterPress()}function getBookSessionPayment(e){if(hideMessage(""),""==$("#"+e+" #planId").val())return showMessage(!0,"Please select a plan"),alert("Please select a plan"),!1;var a={};a.userId=USER_ID,a.subjectId=$("#"+e+" #subjectId").val(),a.amount=$("#"+e+" #amount").val(),a.planId=$("#"+e+" #planId").val(),a.planAmount=$("#"+e+" #planAmount").val(),a.studentSessionId=$("#"+e+" #studentSessionId").val(),a.subjectBookStatus=$("#"+e+" #subjectBookStatus").val(),$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","booksession-plan-content"),data:JSON.stringify(a),dataType:"html",success:function(e){if(""!=e){var a;return"FAILED"==(a=e.split("|"))[0]||"EXCEPTION"==a[0]||"SESSIONOUT"==a[0]?"SESSIONOUT"==a[0]?redirectLoginPage():showMessage(!0,a[1]):($("#bookSessionPaymentModal").modal("hide"),$("#payTabBookingSessionModal").modal("show"),$("#bookSessionTermModal").html(e)),!1}},error:function(e){return!1}})}function getAssignedSubjectToTeacher(e){hideMessage(""),$("#assignSubjectsTeacher").modal({backdrop:"static",keyboard:!1}),$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","subject-list-teacher"),data:JSON.stringify(getSearchSubject(e)),dataType:"html",cache:!1,timeout:6e5,success:function(a){if(""!=a){var t;return"FAILED"==(t=a.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?showMessage(!0,t[1]):($("#userId").val(e),$("#teacherAssignedCourse").html(a),getSubjectListToTeacher(e)),!1}},error:function(e){return console.log(e),!1}})}function getSubjectListToTeacher(e){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","assigned-subject-teacher"),data:JSON.stringify(getSearchSubject(e)),dataType:"html",cache:!1,timeout:6e5,success:function(a){if(""!=a){var t;return"FAILED"==(t=a.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?showMessage(!0,t[1]):($("#userId").val(e),$("#teacherAddCourseSelectionlist").html(a)),!1}},error:function(e){return!1}})}function getSearchSubject(e){var a={};return a.subjectName=$.trim($("#courseName").val()),a.standardId=$("#standardId").val(),a.courseType=$("#courseType").val(),a.providerId=$("#courseProvider").val(),a.flaxStatus=$("#flaxStatus").val(),a.userId=e,a}function getSelectedSubject(){var e=!0;$(".subjectIds").each((function(){var a=$(this).attr("id").split("-")[1];if($(".allSelectedSubject").each((function(){var t=$(this).attr("data-subjectid");a==t&&(e=!1)})),e&&$("#subjectId-"+a).hasClass("greenDiv")){var t=$("#subjectStartDate-"+a).val().split("-")[2]+"-"+$("#subjectStartDate-"+a).val().split("-")[0]+"-"+$("#subjectStartDate-"+a).val().split("-")[1],s='<div class="col-md-12 block allSelectedSubject" id=\'selectedSubject-'+a+"' data-subjectid=\""+a+'">';s=(s=(s=(s=(s=(s=s+'<input type="hidden" name="selectSubjectId" id="selectSubjectId-'+a+'" value="'+a+'"/>')+'<div class="col-md-6">'+$("#subjectName-"+a).text()+"</div>")+'<div class="col-md-2" id="selectSubjectDate-'+a+'">'+t+"</div>")+'<div class="col-md-2" id="selectSubjectDate-'+a+'">'+t+"</div>")+'<div class="col-md-2" id="selectSubjectEndDate-'+a+'">2999-12-31</div>')+'<div class="col-md-2 text-center"><a href="javascript:void(0);" class="click-to-catalog" onclick="return removeLi(\''+a+'\');" style="font-size:14px;color:red;"><i class="fa fa-times"></i></a></div></div>',$(".selectedSubject").append(s)}}))}function callForUpdateCourseFee(e,a){$("#userId").val();if(hideMessage(""),!validateUpdateCourseTeacherDTO())return!1;$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","update-teacher-course"),data:JSON.stringify(getRequestForCourseTeacher()),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var a;return"FAILED"==(a=e.split("|"))[0]||"EXCEPTION"==a[0]||"SESSIONOUT"==a[0]?"SESSIONOUT"==a[0]?redirectLoginPage():showMessage(!0,a[1]):(showMessage(!1,"Courses Updated"),$("#assignSubjectsTeacher").modal("hide")),!1}return!1},error:function(e){$("#nextStep").prop("disabled",!1),tabActiveStatus(3)}})}function getRequestForCourseTeacher(){var e={},a={};return e.updateProfileTeacherDTO=updateCourseTeacherDTO(),a.hash=getHash(),a.schoolId=SCHOOL_ID,a.schoolUUID=SCHOOL_UUID,a.userType=moduleId,a.userId=$("#userId").val(),e.authentication=a,e}function updateCourseTeacherDTO(){var e={},a=[],t="";if($(".allSelectedSubject").each((function(){subjectDTO={};var e=$(this).attr("data-subjectid"),s=$(this).attr("data-lmssubjectid"),o=$(this).attr("data-selectid");if(null==o&&(o=0),t=t+","+e,subjectDTO.subjectId=e,subjectDTO.lmsSubjectId=s,subjectDTO.selectId=o,""==$("#selectSubjectDate-"+e).val())return showMessage(!0,"Please choose start date of "+$("#selectSubjectName-"+e).text()),!1;subjectDTO.startDate=$(this).find(".selectSubjectDate").val(),subjectDTO.endDate=$(this).find(".selectSubjectEndDate").val(),subjectDTO.subjectStatus=$(this).find(".subjectStatus").val(),subjectDTO.statusDate=$(this).find(".subjectStatusDateCl").val(),a.push(subjectDTO)})),CURRENT_SUBJECTS=t.substr(1),""==CURRENT_SUBJECTS)return showMessage(!0,"Please select at least one subject to proceed."),!1;CURRENT_SUBJECTS.split(",").length;return $("#teacherSubjectIds").val(CURRENT_SUBJECTS),e.teacherSubjectIds=$("#teacherSubjectIds").val(),e.providerId=$("#courseProvider").val(),e.subjectDTO=a,console.log("updateProfileTeacherDTO=>",JSON.stringify(e)),e}function validateUpdateCourseTeacherDTO(){var e=[],a="";return $(".allSelectedSubject").each((function(){subjectDTO={};var t=$(this).attr("data-subjectid");if(a=a+","+t,subjectDTO.subjectId=t,""==$("#selectSubjectDate-"+t).val())return showMessage(!0,"Please choose start date of "+$("#selectSubjectName-"+t).text()),!1;subjectDTO.startDate=$("#selectSubjectDate-"+t).val(),e.push(subjectDTO)})),CURRENT_SUBJECTS=a.substr(1),""!=CURRENT_SUBJECTS||(showMessage(!0,"Please select at least one subject to proceed."),!1)}function getTeacherSubjectList(e){hideMessage(""),$("#teacherAssignSubjectModal").modal({backdrop:"static",keyboard:!1}),$.ajax({type:"POST",url:getURLForHTML("dashboard","teacher-subject-list"),data:encodeURI("request="+JSON.stringify(getTeacherSearchSubject(e))),dataType:"html",cache:!1,timeout:6e5,success:function(a){if(""!=a){var t;return"FAILED"==(t=a.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?showMessage(!0,t[1]):($("#userId").val(e),$("#assignSubjectToTeacher").html(a)),!1}},error:function(e){return console.log(e),!1}})}function getTeacherSearchSubject(e){var a={};return a.userId=e,a}function showOtherReason(e){"Other"==$("#reasonEnrollEnd"+e).val()?$("#otherReason"+e).show():($("#otherReason"+e).val(""),$("#otherReason"+e).hide())}function changeTeacher(e,a,t){var s=new Date;$("#steachEnrollStartDate"+e).attr("value",""),$("#steachEnrollStartDate"+e).val(""),$("#steachEnrollStartDate"+e).datepicker("remove"),$("#steachEnrollStartDate"+e).datepicker({autoclose:!0,format:"mm-dd-yyyy",startDate,setDate:s}),$("#steachEnrollEndDate"+e).val(""),$("#reasonEnrollEnd"+e).val(""),$("#otherReason"+e).val("")}function subjectBasedTeacherList(e){hideMessage(""),resetDropdown($("#teacherId"),"Select Teacher"),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster("formId","TEACHER-LIST-FOR-BATCH-BY-SUBJECT_ID",e)),dataType:"json",cache:!1,timeout:6e5,success:function(e){if("0"==e.status||"2"==e.status)showMessage(!0,e.message);else{var a=e.mastersData.teacherList,t=$("#teacherId");t.html(""),t.append('<option value="0">Select teacher</option>'),$.each(a,(function(e,a){t.append('<option value="'+a.teacherId+'">'+a.teacherName+"("+a.emailId+") </option>")}))}},error:function(e){$("#"+formId+" #courseId").prop("disabled",!1)}})}function closeMenu(){$("#cssmenu > ul  li:not(.has-sub) a").click((function(){$("html").hasClass("nav-open")&&$(".close-layer").trigger("click")}))}function IpAddressFlush(){$.ajax({type:"GET",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/api/v1/release-user?payload=",cache:!1,timeout:6e5,async:!1,success:function(e){showMessage(!0,e.message)}})}$(document).ready((function(){}));