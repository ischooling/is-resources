function meetingSlotModal(){null!=$("#autoCountryTimeZoneId").val()&&""!=$("#autoCountryTimeZoneId").val()&&($("#teacherMeetingSlotsForm #countryTimezoneId").select2({}),$("#teacherMeetingSlotsForm #countryTimezoneId").val($("#autoCountryTimeZoneId").val()).trigger("change")),$("#standardDiv").show(),$("#course").show(),$("#teacherMeetingSlotsModal").modal("show"),$("#listSlotsResponse").html(""),$("#listSlots").show(),$(".meetingGetSlotSave").show(),$(".meetingSave").hide(),$("#back").hide(),$("#meetingCategory2").prop("checked",!0),$("#inActDate").val(""),$("#timeHrsFrom").val(0),$("#timeHrsTo").val(0),$("#timeMinFrom").val(0),$("#timeMinTo").val(0),$("#weekCount").val(1),$(".arrowBtn").show(),$("#nextVisitMonth").show(),$("#calendarWeek").show();var e=new Date;calendarDateMeeting("calendarWeek",e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),"Week","Create Manage Class"),$("#monthYear").html("1 Week(s) Selected"),$("#monthYear").show()}function meetingSlotModalBack(){$("#teacherMeetingSlotsModal").modal("show"),$("#listSlotsResponse").html(""),$("#listSlots").show(),$(".meetingGetSlotSave").show(),$(".meetingSave").hide(),$("#back").hide()}function bookingSlotModal(){$("#course").show(),$("#studentBookingSlotsModal").modal("show")}function meetingUrlModalAdmin(e,t,a,n,s){$("#meetingUrlForm #meetingUrl").attr("disabled",!1),$("#meetingUrlForm #remarks").attr("disabled",!1),$("#meetingUrlForm #saveMeetingUrl").show(),$("#meetingUrlForm #note").hide(),$("#meetingUrlModal").modal("show"),$("#meetingUrlForm #meetingId").val(e).trim(),$("#meetingUrlForm #userId").val(t).trim(),$("#meetingUrlForm #meetingUrl").val(a).trim(),$("#meetingUrlForm #remarks").val(s).trim(),$("#meetingUrlForm #mailSendStatus").val(n).trim(),"Y"==n&&($("#meetingUrlForm #meetingUrl").attr("disabled",!0),$("#meetingUrlForm #remarks").attr("disabled",!0),$("#meetingUrlForm #saveMeetingUrl").hide(),$("#meetingUrlForm #note").hide())}function sendMailModel(e,t,a,n){if(""==a||null==a)return showMessage(!0,"Add Meeting Link before Sending Mail"),!1;$("#sendMailModal").modal("show"),$("#sendMailForm #meetingId").val(e),$("#sendMailForm #userId").val(t)}function publishRecording(e,t,a,n){$("#publishRecordModal").modal("show"),$("#publishRecordForm #meetingId").val(e),$("#publishRecordForm #userId").val(t),$("#publishRecordForm #meetingStrId").val(a),$("#publishRecordForm #publishId").html(1==n?"Publish":"Unpublish"),$("#publishRecordForm #publishHeadId").html(1==n?"Publish":"Unpublish")}function revokeMeeting(e,t,a,n){$("#revokeModal").modal("show"),$("#revokeForm #meetingId").val(e),$("#revokeForm #userId").val(t),$("#revokeForm #meetingStrId").val(a)}function validateStudentSlots(e){var t="",a="",n="",s="",o="";if(null==$("#countryTimezoneId option:selected").val().trim()||"0"==$("#countryTimezoneId option:selected").val().trim())return $("#studentfreeSlotList").html(""),showMessage(!0,"Please select a Time Zone"),!1;if(t=$("#countryTimezoneId option:selected").val(),0==$("#subjectId").val()||null==$("#subjectId").val())return $("#studentfreeSlotList").html(""),showMessage(!0,"Course is required"),!1;a=$("#"+e+" #subjectId").val(),n=$("#"+e+" #subjectId option:selected").attr("data-teacherId"),s=$("#"+e+" #subjectId option:selected").attr("data-providerId"),o=$("#"+e+" #subjectId option:selected").attr("data-standardId");var r={};r.userId=USER_ID,r.subjectId=a,r.teacherId=n,r.timeZone=t,r.providerId=s,r.standardId=o,callStudentFreeSlots("#studentBookingSlotsForm",r)}function callStudentFreeSlots(e,t){$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","get-student-free-slots"),data:JSON.stringify(t),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var t;return"FAILED"==(t=e.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?showMessage(!0,t[1]):$("#studentfreeSlotList").html(e),!1}return!1},error:function(e){showMessage(!0,e.responseText)}})}function validateRequestForStudentBookSessionSlots(e,t){return 0==$("#countryTimezoneId").val()||null==$("#countryTimezoneId").val()?(showMessage(!0,"Time-Zone is required"),!1):0==$("#subjectId").val()||null==$("#subjectId").val()?(showMessage(!0,"Course is required"),!1):null!=$("input[name='slotTime']:checked").val()||(showMessage(!0,"Please select any one Slot."),!1)}function callForStudentBookSessionSlots(e,t,a){if(getSession()||redirectLoginPage(),hideMessage(""),!validateRequestForStudentBookSessionSlots(e))return!1;$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","student-book-session-slots-submit"),data:JSON.stringify(getRequestForStudentBookSessionSlots(e,t)),dataType:"json",cache:!1,timeout:6e5,success:function(t){return"0"==t.status||"2"==t.status?showMessage(!0,t.message):(showMessage(!1,t.message),$("#studentBookingSlotsModal").modal("toggle"),$("#"+e)[0].reset(),setTimeout((function(){callSchoolInneraction("subjectsession",t.subjectId,"",a)}),1e3)),!1},error:function(e){return!1}})}function getRequestForStudentBookSessionSlots(e,t){var a={},n={},s={};return s.meetingPersoneId=$("#userId").val(),s.meetingId=$("input[name='slotTime']:checked").attr("slotIdAttr"),s.meetingDate=$("input[name='slotTime']:checked").attr("slotMeetDate"),s.startTime=$("input[name='slotTime']:checked").attr("slotstTime"),s.endTime=$("input[name='slotTime']:checked").attr("slotedTime"),s.timezone=$("#countryTimezoneId option:selected").attr("custom_timezone_id"),s.timeZoneCheck=$("#countryTimezoneId").val(),s.meetingType="STUDENT_DOUBT_SESSION",s.subjectId=$("#subjectId").val(),s.standardId=$("#"+e+" #subjectId option:selected").attr("data-standardId"),s.studentStandardId=$("#"+e+" #subjectId option:selected").attr("data-studentStandardId"),s.studentSessionId=$("#"+e+" #subjectId option:selected").attr("data-studentSessionId"),s.teachUserId=$("#"+e+" #subjectId option:selected").attr("data-teacherid"),s.providerId=$("#"+e+" #subjectId option:selected").attr("data-providerId"),s.planId=$("#"+e+" #subjectId option:selected").attr("data-planid"),n.hash=getHash(),n.schoolId=SCHOOL_ID,n.schoolUUID=SCHOOL_UUID,n.userType=t,n.userId=$("#userId").val().trim(),a.authentication=n,a.meetingSlotDTO=s,a}function weekCount(e,t){var a=new Date(e,t-1,1),n=new Date(2020,t,0),s=a.getDay()+n.getDate();return Math.ceil(s/7)}function callSubjectByGradeAndTeacherId(e,t,a,n,s){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"SUBJECT-LIST-BY-GRADE-TEACHER-ID",t,s)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(t){"0"==t.status||"2"==t.status?showMessage(!0,t.message):(console.log("Response Data  "+t),buildDropdown(t.mastersData.subject,$("#"+e+" #"+n),"Select course"))},error:function(e){console.log(e)}})}function validateRequestForRequestDemoMeetingSlots(e,t){return""==$("#weekCount").val().trim()||null==$("#weekCount").val().trim()?(showMessage(!0,"Session Type is required"),!1):0==$("#countryTimezoneId").val().trim()||null==$("#countryTimezoneId").val().trim()?(showMessage(!0,"Country Timezone is required"),!1):""==$("#dateCategory").val().trim()||null==$("#dateCategory").val().trim()?(showMessage(!0,"Session Type  is required"),!1):""==$("#meetingDateFrom").val().trim()||null==$("#meetingDateFrom").val().trim()?(showMessage(!0,"Session Date From is required"),!1):""==$("#meetingDateTo").val().trim()||null==$("#meetingDateTo").val().trim()?(showMessage(!0,"Session Date to is required"),!1):new Date($("#meetingDateFrom").val().trim())>new Date($("#meetingDateTo").val().trim())?(showMessage(!0,"From date is less than To date"),!1):""==$("#timeHrsFrom").val().trim()||null==$("#timeHrsFrom").val().trim()||""==$("#timeMinFrom").val().trim()||null==$("#timeMinFrom").val().trim()||""==$("#timeHrsTo").val().trim()||null==$("#timeHrsTo").val().trim()||""==$("#timeMinTo").val().trim()||null==$("#timeMinTo").val().trim()?(showMessage(!0,"Session time is required"),!1):0!=$("#timeInterval").val().trim()&&null!=$("#timeInterval").val().trim()||(showMessage(!0,"Time Interval is required"),!1)}function getRequestForRequestDemoMeetingSlots(e,t){var a={},n={},s={};return s.weekCount=$("#"+e+" #weekCount").val().trim(),s.inActDate=$("#"+e+" #inActDate").val().trim(),s.timezone=$("#"+e+" #countryTimezoneId option:selected").attr("custom_timezone_id"),s.timeZoneCheck=$("#"+e+" #countryTimezoneId option:selected").val().trim(),s.dateCategory=$("#"+e+" #dateCategory").val().trim(),s.startDate=$("#"+e+" #meetingDateFrom").val().trim(),s.endDate=$("#"+e+" #meetingDateTo").val().trim(),s.timeHrsFrom=$("#"+e+" #timeHrsFrom").val().trim(),s.timeMinFrom=$("#"+e+" #timeMinFrom").val().trim(),s.timeHrsTo=$("#"+e+" #timeHrsTo").val().trim(),s.timeMinTo=$("#"+e+" #timeMinTo").val().trim(),s.timeInterval=$("#"+e+" #timeInterval").val().trim(),s.userId=$("#"+e+" #userId").val().trim(),s.meetingType=t,s.timeIntervalValue=$("#"+e+" #sessionbuffer").val(),n.hash=getHash(),n.schoolId=SCHOOL_ID,n.schoolUUID=SCHOOL_UUID,n.userType="SCHOOL",n.userId=$("#"+e+" #userId").val().trim(),a.authentication=n,a.request=s,a}function calendarRequestMeetingSlots(e,t,a,n,s){if(hideMessage(""),!validateRequestForRequestDemoMeetingSlots(e,t))return!1;$.ajax({type:"POST",url:getURLForHTML("dashboard","meeting-dates-slots"),contentType:"application/json",data:JSON.stringify(getRequestForRequestDemoMeetingSlots(e,s)),dataType:"html",cache:!1,async:!1,timeout:6e5,success:function(e){if(""!=e){var t;return"FAILED"==(t=e.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?"SESSIONOUT"==t[0]?redirectLoginPage():showMessage(!0,t[1]):($("#listSlots").hide(),$(".meetingGetSlotSave").hide(),$(".meetingSave").show(),$("#back").show(),$("#"+n).html(e)),!1}},error:function(e){return!1}})}function createDate(e,t,a,n){$("#"+e+" #"+t).datepicker({autoclose:!0,format:"mm-dd-yyyy",todayHighlight:!0,startDate:a,endDate:n})}function createDateNew(e,t,a){console.log("seltDate=> ",a),$("#"+e+" #"+t).datepicker({startDate:a,autoclose:!0,format:"mm-dd-yyyy",todayHighlight:!0}),$("#"+e+" #"+t).datepicker().datepicker("setDate",a)}function setStudentTecherSessionDate(e,t,a){var n=$("#"+e+" #weekPickerId option:selected").attr("custom_startDate"),s=$("#"+e+" #weekPickerId option:selected").attr("custom_endDate"),o=n.split("-"),r=s.split("-"),i=new Date(o[0],o[1]-1,o[2]),l=new Date;createDate(e,a,i.getTime()>l.getTime()?i:l,new Date(r[0],r[1]-1,r[2]))}function callAssignStudentTeacher(e,t,a,n,s,o){hideMessage("");var r={};r.studentId=t,r.viewAssignStudentTeacher=a,r.assignStudentTeacher=n,r.viewAssignPastStudentTeacher=s,r.standardId=o,r.userId=USER_ID,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","assign-student-teacher"),data:JSON.stringify(r),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var t;return"FAILED"==(t=e.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?showMessage(!0,t[1]):$("#studentAssighnTeacherSupportContent").html(e),!1}},error:function(e){return console.log(e),!1}})}function calendarDateMeeting(e,t,a){var n={startDate:t,slotType:a,disabledDate:$("#inActDate").val().trim()};$.ajax({type:"POST",url:getURLForHTML("dashboard","meeting-dates"),contentType:"application/json",data:JSON.stringify(n),dataType:"html",cache:!1,async:!1,timeout:6e5,success:function(t){if(""!=t){var a;return"FAILED"==(a=t.split("|"))[0]||"EXCEPTION"==a[0]||"SESSIONOUT"==a[0]?"SESSIONOUT"==a[0]?redirectLoginPage():showMessage(!0,a[1]):($("#monthYear").html(""),$("#"+e).html(t)),!1}},error:function(e){return!1}})}function callAssignStudentTeacherContent(e){var t=$("#studentTeacherMappingModalLabel #studentId").html(),a=($("#studentTeacherMappingModalLabel #studentName").html(),$("#studentTeacherMappingModalLabel #standardId").html());if($("#viewStudentTeacherTab").removeClass("active"),$("#viewStudentTeacherTab").removeClass("inactive-tab"),$("#assignStudentTeacherTab").removeClass("active"),$("#assignStudentTeacherTab").removeClass("inactive-tab"),$("#viewPastStudentTeacherTab").removeClass("active"),$("#viewPastStudentTeacherTab").removeClass("inactive-tab"),"view-assignStudentTeacher"==e){var n="new";$("#viewStudentTeacherTab").addClass("active"),$("#assignStudentTeacherTab").addClass("inactive-tab"),$("#viewPastStudentTeacherTab").addClass("inactive-tab"),callForDashboardData("formIdIfAny","student-teacher-linking-content?studentId="+t+"&callFor="+e+"&standardId="+a+"&controllType="+n,"studentTeacherLinkingContent")}else if("assignStudentTeacher"==e){n="new";$("#viewStudentTeacherTab").addClass("inactive-tab"),$("#assignStudentTeacherTab").addClass("active"),$("#viewPastStudentTeacherTab").addClass("inactive-tab"),callForDashboardData("formIdIfAny","student-teacher-linking-content?studentId="+t+"&callFor="+e+"&standardId="+a+"&controllType="+n,"studentTeacherLinkingContent")}else if("view-assignPastStudentTeacher"==e){n="old";$("#viewStudentTeacherTab").addClass("inactive-tab"),$("#assignStudentTeacherTab").addClass("inactive-tab"),$("#viewPastStudentTeacherTab").addClass("active"),callForDashboardData("formIdIfAny","student-teacher-linking-content?studentId="+t+"&callFor="+e+"&standardId="+a+"&controllType="+n,"studentTeacherLinkingContent")}}function viewStudentTeacherMappingsLogs(e,t,a){hideMessage("");var n={};n.studentId=e,n.subjectId=t,n.studentTeacherMappingId=a,n.userId=USER_ID,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","student-teacher-mapping-log-content"),data:JSON.stringify(n),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var t;return"FAILED"==(t=e.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?showMessage(!0,t[1]):$("#studentTeacherMappingLogContent").html(e),!1}},error:function(e){return console.log(e),!1}})}function submitStudentTeacherAssign(e,t,a,n,s,o,r,i){if(i&&("Teacher Replaced"==$("#reasonEnrollEnd"+a).val().trim()||"Teacher Withdrawn"==$("#reasonEnrollEnd"+a).val().trim()||"Student Withdrawn"==$("#reasonEnrollEnd"+a).val().trim())){var l=$("#teacherId"+a+" option:selected").text().trim().split("(")[0],d=$("#studentNameWarning").val().trim(),u=$("#subjectName"+a).text().trim().split("- ")[1].split("(")[0];return showWarningMessageShow("You are about to end mapping between "+d+" and "+l+" for "+u+". Please note that any recurring class created for this mapping will be deactivated after the enrollment end date. If for any reason the class is not deactivated, kindly do the same from the Recurring Class menu","submitStudentTeacherAssign('teacherForm','"+t+"',"+a+","+n+","+s+","+o+",'"+r+"',false)",!1),!1}if(hideMessage(""),!validateRequestStudentTeacherAssign(e,t,a))return $("#modalMessage").click((function(){setTimeout((function(){$("body").addClass("modal-open")}),1e3)})),!1;var c=$(this);if(c.data("requestRunning"))return!1;c.data("requestRunning",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","student-teacher-assign-submit"),data:JSON.stringify(getRequestForStudentTeacherAssign(e,t,a,n,s,o,r)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return c.data("requestRunning",!1),"0"==e.status||"2"==e.status?showMessage(!0,e.message):showMessage(!0,"Student-teacher enrollment updated successfully."),!1},error:function(e){return c.data("requestRunning",!1),!1}})}function getRequestForStudentTeacherAssign(e,t,a,n,s,o,r){var i={},l={},d={},u=$("#teacherId"+a).val().trim();if(d.subjectId=a,d.teacherId=u,d.standardId=n,d.stdEnrollDate=$("#stdEnrollDate"+a).val(),d.steachEnrollStartDate=$("#steachEnrollStartDate"+a).val(),d.steachEnrollEndDate=$("#steachEnrollEndDate"+a).val(),null==$("#steachAmount"+a).val()?d.amount=0:d.amount=$("#steachAmount"+a).val(),""!=$("#steachEnrollEndDate"+a).val().trim()){if(""==$("#reasonEnrollEnd"+a).val().trim())return showMessage(!0,"Reason for ending enrollment is required."),!1;if(d.reasonEnrollEnd=$("#reasonEnrollEnd"+a).val(),"Other"==$("#reasonEnrollEnd"+a).val().trim()){if(""==$("#otherReason"+a).val().trim())return showMessage(!0,"Reason for ending enrollment is required"),!1;d.otherReason=$("#otherReason"+a).val().trim()}}return d.studentId=s,d.oldTeacherId=o,d.courseType=r,[].push(d),i.studentTeacherSavedMappingDTO=d,l.hash=getHash(),l.schoolId=SCHOOL_ID,l.schoolUUID=SCHOOL_UUID,l.userType=t,l.sessionUserId=USER_ID,i.authentication=l,i}function validateRequestStudentTeacherAssign(e,t,a){var n=0;if(0!=$("#teacherId"+a).val().trim())if(""==$("#stdEnrollDate"+a).val().trim()&&(n=1),""==$("#steachEnrollStartDate"+a).val().trim()&&(n=2),""!=$("#steachEnrollEndDate"+a).val().trim()&&(""==$("#reasonEnrollEnd"+a).val().trim()&&(n=3),"Other"==$("#reasonEnrollEnd"+a).val().trim()&&""==$("#otherReason"+a).val().trim()&&(n=4)),""!=$("#steachEnrollStartDate"+a).val().trim()&&""!=$("#steachEnrollEndDate"+a).val().trim()){var s=$("#steachEnrollStartDate"+a).val().trim().split("-"),o=$("#steachEnrollEndDate"+a).val().trim().split("-");new Date(s[2],s[0]-1,s[1]).getTime()>new Date(o[2],o[0]-1,o[1]).getTime()&&(n=5)}else""==$("#steachEnrollEndDate"+a).val().trim()&&""!=$("#reasonEnrollEnd"+a).val().trim()&&(n=6);return 1==n?(showMessage(!0,"Student enroll date is required"),!1):2==n?(showMessage(!0,"Student-Teacher enroll start date is required"),!1):3==n||4==n?(showMessage(!0,"Reason for ending enrollment is required."),!1):5==n?(showMessage(!0,"Student-Teacher enrollment start date must be less than Student-Teacher enrollment end date."),!1):6!=n||(showMessage(!0,"Student-Teacher enrollment end date is required."),!1)}function validateRequestForSubmitMeetingSlots(e,t,a){if("ADD"==a){if(0==$("#countryTimezoneId").val().trim()||null==$("#countryTimezoneId").val().trim())return showMessage(!0,"Time-Zone is required"),!1;if(0==$("#weekPickerId").val().trim()||null==$("#weekPickerId").val().trim())return showMessage(!0,"Meeting week is required"),!1;if(""==$("#meetingDate").val().trim()||null==$("#meetingDate").val().trim())return showMessage(!0,"Meeting Date is required"),!1;if(""==$("#startTime").val().trim()||null==$("#startTime").val().trim())return showMessage(!0,"Start Time is required"),!1;if(0==$("#timeInterval").val().trim()||null==$("#timeInterval").val().trim())return showMessage(!0,"Time Interval is required"),!1}else if("UPDATE"==a){if(""==$("#meetingResult").val().trim()||null==$("#meetingResult").val().trim())return showMessage(!0,"Meeting Result is required"),!1}else if("ADDURL"==a&&(""==$("#meetingUrl").val().trim()||null==$("#meetingUrl").val().trim()))return showMessage(!0,"Meeting Link is required"),!1;return!0}function submitMeetingForSlots(e,t,a){hideMessage("");var n={};n.moduleId=t,n.controllType=a,n.userId=USER_ID,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","student-teacher-mapping-log-content"),data:JSON.stringify(n),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var t;return"FAILED"==(t=e.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?showMessage(!0,t[1]):$("#studentTeacherMappingLogContent").html(e),!1}},error:function(e){return console.log(e),!1}})}function getRequestForSubmitMeetingSlots(e,t,a){var n={},s={},o={},r={};if("ADD"==a){r.meetingType="STUDENT_DOUBT_SESSION",r.timezone=$("#countryTimezoneId option:selected").attr("custom_timezone_id"),r.timeZoneCheck=$("#countryTimezoneId").val().trim(),r.slotType=$("#meetingCategory1").val().trim();var i=$("#"+e+" #meetingDate").val().trim();i=i.split("-"),meetingDate=i[2]+"-"+i[0]+"-"+i[1],r.meetingDate=meetingDate,r.weekID=$("#"+e+" #weekPickerId").val().trim();var l=$("#"+e+" #startTime").val().trim();r.startTime=l;var d=$("#"+e+" #timeInterval option:selected").val().trim(),u=new Date("2016/09/12 "+l+":00");u.setMinutes(u.getMinutes()+parseInt(d)),u=u.getHours()+":"+u.getMinutes(),r.endTime=u,r.subject="STUDENT_DOUBT_SESSION",r.status="0"}else"UPDATE"==a?(r.controllType=a,r.meetingType="STUDENT_DOUBT_SESSION",r.meetingId=$("#"+e+" #meetingId").val().trim(),r.meetingResult=$("#"+e+" #meetingResult option:selected").val().trim()):"ADDURL"==a?(r.controllType=a,r.meetingType="STUDENT_DOUBT_SESSION",r.meetingId=$("#"+e+" #meetingId").val().trim(),r.meetingUrl=$("#"+e+" #meetingUrl").val().trim()):"SENDMAIL"==a&&(r.controllType=a,r.meetingType="STUDENT_DOUBT_SESSION",r.meetingId=$("#"+e+" #meetingId").val().trim());return o.meetingSlotDTO=r,s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=t,s.userId=$("#"+e+" #userId").val().trim(),n.authentication=s,n.requestData=o,n}function viewStudentTeacherMappingsSendMail(e){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","student-teacher-assign-send-mail"),data:JSON.stringify(getRequestForStudentTeacherMailSend(e)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?showMessage(!0,e.message):(showMessage(!1,e.message),callAssignStudentTeacherContent("view-assignStudentTeacher"),$("#modalMessage").click((function(){setTimeout((function(){$("body").addClass("modal-open")}),1e3)}))),!1},error:function(e){return!1}})}function getRequestForStudentTeacherMailSend(e){var t={},a={};return t.studentTeacherMappingId=e,a.hash=getHash(),a.schoolId=SCHOOL_ID,a.schoolUUID=SCHOOL_UUID,a.userType="STUDENT",a.userId=USER_ID,t.authentication=a,t}function getTeacherCompensationStandard(e,t,a,n){$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster("formId","TEACHER-COMPENSATION-LIST",a,n)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(e){if("0"==e.status||"2"==e.status)showMessage(!0,e.message);else{e=e.mastersData.teacherCompensationDTO;if(console.log("teacherCompensationDTO main: "+e.amountInr),null==e.amountInr&&null==e.amountUsd)return void showMessage(!0,"Please set teacher salary");0==e.amountInr&&$("#"+t).val(e.amountUsd).trim(),0==e.amountUsd&&$("#"+t).val(e.amountInr).trim()}return!1},error:function(e){}})}function lmsLockUnlockMail(e,t,a){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","student-teacher-lms-lock-unlock-mail"),data:JSON.stringify(getRequestForLmsLockUnlockMail(t,a)),dataType:"json",cache:!1,timeout:6e5,success:function(t){return"0"==t.status||"2"==t.status?showMessage(!0,t.message):(showMessage(!1,t.message),"stop"==a?$(".sendLockLmsMail"+e).html("Resend Mail"):$(".sendUnlockLmsMail"+e).html("Resend Mail"),$("#modalMessage").click((function(){setTimeout((function(){$("body").addClass("modal-open")}),1e3)}))),!1},error:function(e){return!1}})}function enrollmentShuffleSendMail(e,t,a,n,s,o,r,i){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","student-teacher-enrollment-shuffle-mail"),data:JSON.stringify(getRequestForStudentTeacherEnrollmentShuffleMailSend(e,t,a,n,s,o,i)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?showMessage(!0,e.message):(showMessage(!1,e.message),$(".sendMail"+r).html("Resend Mail"),$("#modalMessage").click((function(){setTimeout((function(){$("body").addClass("modal-open")}),1e3)}))),!1},error:function(e){return!1}})}function getRequestForLmsLockUnlockMail(e,t){var a={},n={},s={};return s.studentMappingLogId=e,s.callFor=t,a.studentTeacherMappingDTO=s,n.hash=getHash(),n.schoolId=SCHOOL_ID,n.schoolUUID=SCHOOL_UUID,n.userType="STUDENT",n.userId=USER_ID,a.authentication=n,a}function getRequestForStudentTeacherEnrollmentShuffleMailSend(e,t,a,n,s,o,r){var i={},l={},d={};return d.emailId=t,d.studentName=n,d.teacherName=e,d.subjectName=a,d.gradeName=s,d.teacherSchoolId=o,d.stmlId=r,i.batchTeacherMapping=d,l.hash=getHash(),l.schoolId=SCHOOL_ID,l.schoolUUID=SCHOOL_UUID,l.userType="STUDENT",l.userId=USER_ID,i.authentication=l,i}function validateRequestForRemoveMeetingsForStudentSessionSlots(e){var t=[];return $(".slotDate").each((function(){$(".slotTime"+$(this).attr("id")).each((function(){t.push($(this).attr("data-slotId"))}))})),0!=t.length||(showMessage(!0,"No slots available for delete."),!1)}function removeMeetingsForStudentSessionSlots(e,t,a){if($(".confirmDeleteSlots").prop("disabled",!0),hideMessage(""),!validateRequestForRemoveMeetingsForStudentSessionSlots(e))return $(".confirmDeleteSlots").prop("disabled",!0),!0;$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","meetingslots-remove-submit"),data:JSON.stringify(getRemoveMeetingsForStudentSessionSlots(e,t)),dataType:"json",success:function(e){return"0"==e.status||"2"==e.status?($(".meetingSave").prop("disabled",!1),showMessage(!0,e.message)):(showMessage(!1,e.message),$("#deleteTeacherMeetingSlotsModal").modal("toggle"),setTimeout((function(){callDashboardPageSchool(a,"create-manage-sessions")}),1e3),$("body").removeClass("modal-open")),!1}})}function getRemoveMeetingsForStudentSessionSlots(e,t){var a={},n={},s=[];return $("#"+e+" .slotDate").each((function(){$("#"+e+" .slotTime"+$(this).attr("id")).each((function(){s.push($(this).attr("data-slotId"))}))})),n.hash=getHash(),n.schoolId=SCHOOL_ID,n.schoolUUID=SCHOOL_UUID,n.userType=t,n.userId=$("#"+e+" #userId").val(),a.authentication=n,a.meetingIds=s,a}$(document).ready((function(){}));