function callIframeOption(e,t){if(0==$("#"+e+" option:selected").val())$("#"+t).attr("src","");else{var a=$("#"+e+" option:selected").attr("encryptedPageId");$("#"+t).attr("src",TICKET_BASE_URL+"ticket/ticket-raise?params="+a)}return!1}function callForTicketPageCategory(e,t,a){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:TICKET_BASE_URL+"api/auth/pageCategoryByVendorId?vendorId="+VERNDOR_ID_FOR_TICKET+"&uuid="+SCHOOL_UUID,dataType:"json",cache:!1,timeout:6e5,global:!1,success:function(a){if("0"==a.status||"2"==a.status)showMessage(!0,a.message);else if("internal"==e){var i=1,s="";$.each(a.pageListByVendorId,(function(e,t){s+='<li id="sub-li-id-'+i+'" class=""><a href="javascript:void(\'0\');" onclick="return renderIframe(\''+t.encryptedPageId+"','"+SCHOOL_UUID+"');\">"+t.pageName+"</a></li>",i++})),$("#"+t).html(s)}else"external"==e&&($("#"+t).html(""),$("#"+t).append('<option value="0">Please select</option>'),$.each(a.pageListByVendorId,(function(e,a){$("#"+t).append('<option value="'+a.ticketType+'" encryptedPageId="'+a.encryptedPageId+'">'+a.pageName+"</option>")})));return!1},error:function(e){return checkonlineOfflineStatus()?void 0:(showMessage(!0,SERVICE_UNAVAILABLE),!1)}})}function showRaisedTicketByUser(e){$("#iframeIdByLinks").hide(),$("#rasisedTicketsDiv").show(),callForDashboardData("formIdIfAny","ticket-raised-listing"),$(e).addClass("active")}function renderIframe(e,t){$("#iframeIdByLinks").show(),$("#rasisedTicketsDiv").hide(),$("#iframeIdByLinks").attr("src",TICKET_BASE_URL+"ticket/ticket-raise?params="+e+"&userId="+USER_ID_FOR_TICKET+"&isDemo=false&uuid="+t)}function callForTicketList(e){hideMessage(""),$.ajax({type:"GET",contentType:"application/json",url:TICKET_BASE_URL+"api/auth/ticketListing?userId="+USER_ID_FOR_TICKET+"&vendorId="+VERNDOR_ID_FOR_TICKET+"&uuId="+SCHOOL_UUID,dataType:"json",cache:!1,timeout:6e5,success:function(t){if("0"==t.status||"2"==t.status)showMessage(!0,t.message);else{var a="",i=1;$("#"+e).html(""),$.each(t.ticketListDetailDTO,(function(e,t){a+='<tr><td style="text-align:center;">'+i+"</td><td>"+t.pageName+"</td><td>"+t.refrenceNo+"</td><td>"+t.creadetDate+'</td><td class="text-center;" style="cursor: pointer"><a onclick="callForDashboardData(\'formIdIfAny\',\'ticket-raised-user-info?ticketId='+t.ticketId+'\', \'tickerRaiseInfoDiv\')" href="javascript:void(0);"  style="margin-left: 45%;"><i class="fa fa-eye" style="margin-right: 5px; color: #067e06; font-size: 18px;"></i></a></td></tr>',i++})),$("#"+e).html(a),$("#ticketListTable").DataTable()}return!1},error:function(e){return!1}})}function getRequestForTicketDetailsRequest(e){var t={};return t.ticketId=e,t}function callForTicketViewDetails(e,t){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:TICKET_BASE_URL+"api/auth/ticketUserListInfo",data:JSON.stringify(getRequestForTicketDetailsRequest(e)),dataType:"json",cache:!1,timeout:6e5,success:function(t){if("0"==t.status||"2"==t.status)showMessage(!0,t.message);else{$("#ticketStatusForm #ticketId").val(e);var a="";$.each(t.ticketDetailsListDTO.ticketDetailsListContentDTO,(function(e,i){if(null!=i.columnValue)if(i.columnValue.endsWith(".pdf")){var s=null!=i.columnValue&&""!=i.columnValue1?"block":"none";a+='<div class="col-6"><p class="view-label">'+i.columnName+':<a class="view stu-view" href="'+t.ticketDetailsListDTO.uploadPath+i.columnValue+'" target="_blank" style="display:'+s+';position: absolute;top: -5px;left: 130px;background-color:#fff !important;color:green !important" data-toggle="tooltip" title="View"><i class="fa fa-eye"></i></a> </p></div>'}else if(i.columnValue.endsWith(".jpg")||i.columnValue.endsWith(".JPEG")||i.columnValue.endsWith(".JPE")||i.columnValue.endsWith(".jpeg")||i.columnValue.endsWith(".png")||i.columnValue.endsWith("PNG")||i.columnValue.endsWith(".gif")||i.columnValue.endsWith(".GIF")){s=null!=i.columnValue&&""!=i.columnValue1?"block":"none";a+='<div class="col-6"><p class="view-label">'+i.columnName+':<a class="view stu-view" href="javascript:showDocument(\''+t.ticketDetailsListDTO.uploadPath+i.columnValue+'\');" target="_self" style="display:'+s+';position: absolute;top: -5px;left: 130px;background-color:#fff !important;color:green !important" data-toggle="tooltip" title="View"><i class="fa fa-eye"></i></a></p></div>'}else a+='<div class="col-6"><p class="view-label">'+i.columnName+':<span class="view-data">'+i.columnValue+"</span></p></div>"})),a+='<div class="col-6"><p class="view-label">Current Status: <span class="view-data" id="ticketStatus">'+t.ticketDetailsListDTO.status+"</span></p></div>",$("#fieldDetails").html(a);var i=1;$.each(t.ticketInfoStatusLogDTO,(function(e,t){var a='<tr><td style="text-align:center;">'+i+"</td><td>"+t.status+"</td><td>"+t.comments+"</td><td>"+t.createdDate+"</td><td>"+t.updatedDate+"</td></tr>";i++,$("#ticketInfoLogs").append(a)})),$("#ticketRaiseLogDetails").DataTable(),$("#ticketStatusModel").modal("show")}return!1},error:function(e){return!1}})}TICKET_BASE_URL="","dev"==ENVIRONMENT?(TICKET_BASE_URL="http://localhost:8127/service-ticketing/",TICKET_BASE_URL="http://164.52.216.248:8080/service-ticketing/"):"uat"==ENVIRONMENT?TICKET_BASE_URL="http://164.52.198.42:8080/service-ticketing/":"uat2"==ENVIRONMENT?TICKET_BASE_URL="http://164.52.216.248:8080/service-ticketing/":"prod"==ENVIRONMENT?TICKET_BASE_URL="https://help.internationalschooling.org/":TICKET_BASE_URL="http://localhost:8127/service-ticketing/",USER_ID_FOR_TICKET="",VERNDOR_ID_FOR_TICKET="1";