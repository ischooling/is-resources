!function(){"use strict";var t={format:"hh:mm A",maxTime:null,minTime:null,minScreenWidth:576,step:60},e=[["h","h","hour"],["m","mm","minute"],["s","ss","second"],["a","A","meridiem"]],a={hour:24,minute:60,second:60,meridiem:2},n=!1;function i(t,e){var a,n;if("object"==typeof t&&t instanceof dayjs)return!!t.isValid()&&t;if((n=(t=t.replace(/^\s+|\s+$/g,"")).match(/^([0-2]?\d)(?:s*:\s*([0-5]\d))?(?:\s*:\s*([0-5]\d))?(?:\s*([AP])\.?M\.?)?$/i))&&parseInt(n[1])>(n[4]?0:-1)&&parseInt(n[1])<(n[4]?13:24)&&(void 0===n[2]||parseInt(n[2])>-1&&parseInt(n[2])<60)&&(void 0===n[3]||parseInt(n[3])>-1&&parseInt(n[3])<60)){var i=parseInt(n[1]);return n[4]&&(i=i%12+("P"==n[4].toUpperCase()?12:0)),dayjs().hour(i).minute(null==n[2]?0:parseInt(n[2])).second(void 0===n[3]?0:parseInt(n[3]))}return!(!e||!e.format||"function"!=typeof dayjs)&&(!!(a=dayjs(t,e.format)).isValid()&&a)}function r(t){for(var e=t.minTime||dayjs().startOf("day"),a=t.maxTime||dayjs().endOf("day"),n=t.step||60,i={offset:{},hour:{},minute:{},second:{},meridiem:{},length:0},r=e.clone(),o=e.startOf("day").unix();r.isBefore(a)||r.isSame(a,"second");)i.offset[r.unix()-o]=!0,i.hour[r.hour()]=!0,i.minute[r.minute()]=!0,i.second[r.second()]=!0,i.meridiem[r.hour()>11?1:0]=!0,i.length++,r=r.add(n,"second");for(var s={hour:[],minute:[],second:[],meridiem:[],length:i.length},d=0;d<24;d++)s.hour.push(d in i.hour?0==d||12==d?12:d%12:null);return["minute","second"].forEach((function(t){for(var e=0;e<60;e++)s[t].push(e in i[t]?e<10?"0"+e:e:null)})),s.meridiem.push(0 in i.meridiem?"AM":null),s.meridiem.push(1 in i.meridiem?"PM":null),s}function o(t,e){return t.replace(/\[[^\]]*\]/g).indexOf(e)>-1}function s(t){var a=t.data("prevview"),n=t.data("view")||"hour",i=t.data("viewtime"),r=t.data("options"),s=o(r.format,"H"),d=r.step||60,c=!1;if(60%d>0){var u=r.minTime||dayjs().startOf("day"),l=i.diff(i.startOf("day"),"second");o(r.format,"s")||(l-=l%60),c=(l-u.diff(u.startOf("day"),"second"))%d>0}var m=t.attr("id"),p=jQuery("#"+m+"-picker-content").attr("data-view",n);p.find(".submit-btn").prop("disabled",c||r.minTime&&i.isBefore(r.minTime,"second")||r.maxTime&&i.isAfter(r.maxTime,"second"));var b,h=null,f=null;switch(n){case"hour":h=i.get(n),f=h%12>0?h%12:12,b=s?"H":"h",o(r.format,b+b)&&(b+=b);break;case"minute":case"second":(h=i.get(n))%5==0&&(f=h>0?h/5:12),b=n.charAt(0).repeat(2);break;case"meridiem":f=i.hour()>11?3:9,b="A";break;default:return console.warn("Invalid view "+n),!1}var v=i.format(b);if(p.find(".timepicker-btns button").toggleClass("font-weight-bold",!1).filter('[data-unit="'+n+'"]').toggleClass("font-weight-bold",!0).text(v),p.find(".clock-input-table .chevron-btn").data("unit",n),e[0][1]=s?"H":"h",e.forEach((function(t){var e=i.format(t[1]);p.find("."+t[2]+"-btn").text(e),p.find("."+t[2]+"-input").val(e)})),n!=a)p.find(".clock-input-table button").each((function(){var t=jQuery(this),e=parseInt(t.attr("class").match(/\bpos\-(\d+)/)[1]),a=!0;if(e>0){var i;switch(n){case"hour":i=[e,e%12,e%12+12];break;case"minute":case"second":i=[e%12*5];break;case"meridiem":i=e%6>0?[e<6?1:0]:[]}i.forEach((function(t){a&&=null===r.unitText[n][t]})),t.prop("disabled",a).toggleClass("text-light",a).toggleClass("btn-outline-dark border-white",e!=f).toggleClass("active btn-info",e==f)}else t.text(v)}));return p.data("prevview",n),!0}jQuery.fn.timepicker=function(d){var c=parseInt(jQuery.fn.dropdown.Constructor.VERSION.replace(/\..+$/,""));if(c<4&&console.error("Invalid bootstrap version "+c+" detected"),"string"==typeof d){if(this.length<1)return;var u=this.data("options")||{},l=1==arguments.length;switch(d){case"format":if(l)return u.format;arguments[1]&&"string"==typeof arguments[1]?(u.format=arguments[1],this.data("options",u)):console.warn("Invalid format");break;case"minTime":case"maxTime":if(l)return u[d];arguments[1]?(p=i(arguments[1],u))&&p.isValid()?(u[d]=p,u.unitText=r(u),this.data("options",u)):console.warn("Invalid "+d):(u[d]=null,u.unitText=r(u),this.data("options",u));break;case"step":if(l)return u[d];if(arguments[1]){var m=parseInt(arguments[1]);m>0&&m<86400&&m%(o(u.format,"s")?1:60)==0?(u.step=m,u.unitText=r(u),this.data("options",u)):console.warn("Invalid "+d)}else u.step=60,u.unitText=r(u),this.data("options",u);break;case"time":if(l)return i(this.val())||null;var p=arguments[1]?i(arguments[1],u):null;this.val(p&&p.isValid()?p.format(u.format):"");break;case"viewTime":if(l)return this.data("viewtime");p=arguments[1]?i(arguments[1],u):null;this.data("viewtime",p);break;case"view":if(l)return this.data("view");var b=arguments[1];s(jQuery(this).data("view",b))}return this}if(!n){n=!0;var h=".timepicker-table ";jQuery(document.head).append('<style id="timepicker-style">.timepicker-popover { font-size: inherit;  }.timepicker-btns .btn:hover { background-color: #e2e6ea; color: #000; }.timepicker-content span.hour, .timepicker-content span.minute, .timepicker-content span.second, .timepicker-content span.meridiem { display: none; }.timepicker-content[data-view="hour"] span.hour,.timepicker-content[data-view="minute"] span.minute,.timepicker-content[data-view="second"] span.second,.timepicker-content[data-view="meridiem"] span.meridiem { display: inline; }'+h+"td button:focus { box-shadow: none !important; }"+h+"td button:not(:disabled):hover { background-color: #6c757d !important; border-color: #6c757d !important; color: #fff; }"+h+"td button:disabled { cursor: not-allowed; }"+h+"td button.today { background-color: #fcf8e3; }"+h+"td, .timepicker-table th { padding: 0; }"+h+"button.btn { min-width: 2.3rem; }"+h+"button:focus { box-shadow: none !important; }"+h+"button:not(:disabled):hover { background-color: #6c757d !important; border-color: #6c757d !important; color: #fff; }"+h+"td button.pos-1 { margin: .6rem 0 0 .4rem; }"+h+"td button.pos-2 { margin: 0 .7rem .3rem 0; }"+h+"td button.pos-3 { margin: 0 0 0 .6rem; }"+h+"td button.pos-4 { margin: .3rem .7rem 0 0; }"+h+"td button.pos-5 { margin: 0 0 .6rem .4rem; }"+h+"td button.pos-6 { margin: .8rem 0 0 0; }"+h+"td button.pos-7 { margin: 0 .4rem .6rem 0; }"+h+"td button.pos-8 { margin: .3rem 0 0 .7rem; }"+h+"td button.pos-9 { margin: 0 .6rem 0 0; }"+h+"td button.pos-10 { margin: 0 0 .3rem .7rem; }"+h+"td button.pos-11 { margin: .6rem .4rem 0 0; }"+h+"td button.pos-12 { margin: 0 0 .6rem 0; }</style>"),jQuery(document.body).on("mouseup",(function(t){0==jQuery(t.target).parents(".popover").length&&jQuery(".timepicker").popover("hide")}))}void 0===d&&(d={});var f=jQuery.extend({},t,d);return f.minScreenWidth&&window.screen.width<f.minScreenWidth||/iPad|iPhone|iPod/.test(navigator.userAgent)?this.each((function(){var t=jQuery(this);this.type="time",jQuery('[data-toggle="timepicker"][data-target="#'+this.id+'"]').add(t.siblings().find('[data-toggle="timepicker"]')).on("click",(function(){t.focus(),"showPicker"in HTMLInputElement.prototype&&t[0].showPicker()}))})):this.each((function(){var t=jQuery(this),n=jQuery.extend(!0,{},f),d=t.data("format")||f.format;d&&(n.format=d);var c=t.attr("min")||t.data("mintime")||f.minTime;c&&(c=i(c))&&c.isValid()&&(n.minTime=c);var u=t.attr("max")||t.data("maxtime")||f.maxTime;u&&(u=i(u))&&u.isValid()&&(n.maxTime=u);var l=t.attr("step")||t.data("step")||f.step;l>0&&l<86400&&60%l>0&&(n.step=parseInt(l)),n.unitText=r(n),t.data("options",n),t.data("timepicker"),t.data("timepicker",!0);var m=this.id,p=[];this.id?p=jQuery('[data-toggle="timepicker"][data-target="#'+this.id+'"]'):(m="input-"+Math.floor(1e6*Math.random()+1),this.id=m),0==p.length&&(p=t.siblings().find('[data-toggle="timepicker"]:not([data-target])')),t.toggleClass("timepicker",!0);var b=jQuery('label[for="'+m+'"]');t.on("change",(function(){this.value=this.value.replace(/^\s+|\s+$/g,"");var e=t.data("options"),a=i(this.value,e);this.value=!1!==a?a.format(e.format):""})).on("shown.bs.popover",(function(){jQuery("#"+m+"-picker-content").find(".hour-input").select()})).on("inserted.bs.popover",(function(){jQuery(".popover").find('[data-dismiss="popover"]').on("click",(function(){t.popover("hide")})),function(t){for(var n=t.attr("id"),i=t.data("options"),r=dayjs(),d=i.minTime||dayjs().startOf("day"),c=i.maxTime||dayjs().endOf("day"),u=i.step||60,l={hour:{},minute:{},second:{},meridiem:{}},m=t.data("viewtime"),p=d.clone();p.isBefore(c)||p.isSame(c,"second");)l.hour[p.hour()]=!0,l.minute[p.minute()]=!0,l.second[p.second()]=!0,l.meridiem[p.hour()>11?1:0]=!0,p.isBefore(d)||p.isAfter(c)||!m&&r.isBefore(p)&&(m=p),p=p.add(u,"second");m||(m=r.endOf(o(i.format,"s")?"second":"minute")),t.data("viewtime",m);var b=o(i.format,"s")&&u%60>0,h=o(i.format,"H"),f=u%300==0&&!1,v=m.hour(),g='<div class="clock-input'+(f?"":" d-none")+'"><div class="d-flex justify-content-center align-items-center timepicker-btns"><div class="btn-group"><button type="button" class="btn px-2 font-weight-bold hour-btn" data-unit="hour">'+m.format("hh")+'</button><a class="btn px-0 disabled" href="javascript:void(0)" role="button" aria-disabled="true">:</a><button type="button" class="btn px-2 minute-btn" data-unit="minute"'+ +(u%3600>0?"":' disabled="disabled"')+">"+m.format("mm")+"</button>"+(b?'<a class="btn px-0 disabled" href="javascript:void(0)" role="button" aria-disabled="true">:</a><button type="button" id="'+n+'-picker-second-btn" class="btn px-2 second-btn" data-unit="second">'+m.format("ss")+"</button>":"")+(h?'<button type="button" class="btn px-2 meridiem-btn" data-unit="meridiem">'+m.format("A")+"</button>":"")+"</div></div>"+('<table class="clock-input-table table table-sm table-borderless timepicker-table mx-auto w-auto mb-1"><thead class="thead-light"><tr><th class="text-center py-1" colspan="5"><span class="hour">Hour</span><span class="minute">Minute</span><span class="second">Second</span><span class="meridiem">Meridiem</span></th></tr></thead><tbody><tr><td></td><td class="text-right">{{11}}</td><td class="text-center">{{12}}</td><td class="text-left">{{1}}</td><td></td></tr><tr><td class="text-right">{{10}}</td><td class="text-center align-bottom" colspan="3"><a id="'+n+'-picker-add-link" class="btn btn-link px-1 mx-0 chevron-btn" data-step="1" href="javascript:void(0)"><i class="fas fa-chevron-up fa-lg"></i></a></td><td class="text-left">{{2}}</td></tr><tr><td class="text-right">{{9}}</td><td class="text-center" colspan="3">{{0}}</td><td class="text-left">{{3}}</td></tr><tr><td class="text-right">{{8}}</td><td class="text-center" colspan="3"><a id="'+n+'-picker-sub-link" class="btn btn-link px-1 mx-0 chevron-btn" data-step="-1" href="javascript:void(0)"><i class="fas fa-chevron-down fa-lg"></i></a></td><td class="text-left">{{4}}</td></tr><tr><td></td><td class="text-right">{{7}}</td><td class="text-center">{{6}}</td><td class="text-left">{{5}}</td><td></td></tr></tbody></table>').replace(/{{(\w+)}}/g,(function(t,e){if(0==e)return'<button type="button" id="'+n+'-picker-center-btn" class="btn btn-outline-dark border-white font-weight-bold pos-0" data-hour="'+v+'"'+(v in l.hour?"":' disabled="disabled"')+">"+(v%12>0?v%12:12)+"</button>";var a=e%12,i=5*a,r=e%3>0?" text-light":"",o=e%6>0?e<6?"PM":"AM":"&nbsp;";return'<button type="button" class="btn px-1 '+(v%12==e%12?"active btn-info":"btn-outline-dark border-white")+" pos-"+e+'" '+(a in l.hour?"":' disabled="disabled"')+'><span class="hour">'+e+'</span><span class="minute second">'+(i>9?"":"0")+i+'</span><span class="meridiem'+r+'">'+o+"</span></button>"}))+'</div><div class="keyboard-input'+(f?" d-none":"")+'"><table class="mx-auto text-center"><tr><td style="width:3rem"><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="hour" data-step="1" href="javascript:void(0)"><i class="fas fa-chevron-up fa-lg"></i></a></td><td></td><td style="width:3rem"><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="minute" data-step="1" href="javascript:void(0)"><i class="fas fa-chevron-up fa-lg"></i></a></td>'+(b?'<td></td><td style="width:3rem"><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="second" data-step="1" href="javascript:void(0)"><i class="fas fa-chevron-up fa-lg"></i></a></td>':"")+(h?"":'<td style="width:3.3rem"><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="meridiem" data-step="1" href="javascript:void(0)"><i class="fas fa-chevron-up fa-lg"></i></a></td>')+'</tr><tr><td><input type="text" class="form-control text-center border-light hour-input" minlength="1" maxlength="2" /></button></td><td>:</td><td><input type="text" class="form-control text-center border-light minute-input" minlength="1" maxlength="2" /></td>'+(b?'<td>:</td><td><input type="text" class="form-control text-center border-light second-input" minlength="1" maxlength="2" /></td>':"")+(h?"":'<td><button type="button" class="btn meridiem-btn"></button></td>')+'</tr><tr><td><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="hour" data-step="-1" href="javascript:void(0)"><i class="fas fa-chevron-down fa-lg"></i></a></td><td></td><td><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="minute" data-step="-1" href="javascript:void(0)"><i class="fas fa-chevron-down fa-lg"></i></a></td>'+(b?'<td></td><td><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="second" data-step="-1" href="javascript:void(0)"><i class="fas fa-chevron-down fa-lg"></i></a></td>':"")+(h?"":'<td><a class="btn btn-link px-1 mx-0 chevron-btn" data-unit="meridiem" data-step="-1" href="javascript:void(0)"><i class="fas fa-chevron-down fa-lg"></i></a></td>')+'</tr></table></div><div class="d-flex justify-content-between"><div class="invisible"><button type="button" class="btn btn-link input-toggle-btn'+(f?" d-none":"")+'" data-input="clock"><i class="far fa-clock fa-fw"></i></button><button type="button" class="btn btn-link input-toggle-btn'+(f?"":" d-none")+'" data-input="keyboard"><i class="far fa-keyboard fa-fw"></i></button></div><div><button type="button" class="btn btn-secondary mx-1 cancel-btn" data-dismiss="popover">Cancel</button><button type="button" class="btn btn-primary mx-1 submit-btn">OK</button></div></div>',k=jQuery("#"+n+"-picker-content"),x=k.html(g).find(".clock-input-table"),y=jQuery("#"+n+"-picker-center-btn");k.find(".timepicker-btns button").on("click",(function(){var e=jQuery(this).blur().data("unit");k.find(".clock-input-table .chevron-btn").data("unit",e),s(t.data("view",e))}));var w=k.find(".hour-input").on("change",(function(){var e=this.value.replace(/\D+/,"");e.length>0&&(e=parseInt(e))>-1&&e<24&&e in i.unitText.hour&&t.data("viewtime",t.data("viewtime").hour(e)),s(t)}));w.add(k.find(".minute-input, .second-input").on("change",(function(){var e=this.value.replace(/\D+/,"");if(e.length>0){e=parseInt(e);var a=jQuery(this).attr("class").match(/(minute|second)\-input/)[1];e>-1&&e<60&&e in i.unitText[a]&&t.data("viewtime",t.data("viewtime").set(a,e))}s(t)}))).on("keyup",(function(t){"Enter"==t.key&&k.find(".submit-btn").triggerHandler("click")})),k.find(".meridiem-btn").on("click",(function(){t.data("viewtime",t.data("viewtime").hour((t.data("viewtime").hour()+12)%24)),s(t)})).on("keydown",(function(e){var a=e.key.toUpperCase(),n=t.data("viewtime").hour(),i=0;"A"==a&&n>12?i=-12:"P"==a&&n<11&&(i=12),0!=i&&(t.data("viewtime",t.data("viewtime").hour(n+i)),s(t))})),k.find(".input-toggle-btn").attr("tabindex",-1).on("click",(function(){var e=jQuery(this).data("input");k.find(".clock-input").toggleClass("d-none","clock"!=e),k.find(".keyboard-input").toggleClass("d-none","keyboard"!=e),k.find(".input-toggle-btn").each((function(){var t=jQuery(this);t.toggleClass("d-none",t.data("input")==e)})),t.popover("update"),w.select()})),k.find(".cancel-btn").on("click",(function(){t.popover("hide")})),k.find(".submit-btn").on("click",(function(){t.val(t.data("viewtime").format(t.data("options").format)).popover("hide").data("view",null).trigger("change")})),x.find("button").on("click",(function(){var a=jQuery(this),n=t.data("viewtime"),r=a.attr("class").match(/\bpos\-(\d+)/)[1];switch(t.data("view")||"hour"){case"hour":r>0&&(n=n.hour(r%12+(n.hour()>11?12:0)));break;case"minute":r>0&&(n=n.minute(r%12*5));break;case"second":r>0&&(n=n.second(r%12*5));break;case"meridiem":r>0&&(n=n.hour(n.hour()%12+(r<6?12:0)))}t.data("viewtime",n);var o=!0;e.forEach((function(e){var a=new RegExp(e[0],"i");if(o&&a.test(i.format)){var s;r=null;var d=e[2];switch(d){case"hour":s=n.get(d)%12,r=s>0?s:12;break;case"minute":case"second":(s=n.get(d))%5==0&&(r=s>0?s/5:12);break;case"meridiem":r=n.hour()>11?3:9}t.data("view",d),o=!1}})),o?t.val(n.format(i.format)).popover("hide").data("view",null).trigger("change"):s(t)})),k.find(".chevron-btn").attr("tabindex",-1).on("click",(function(){var e=jQuery(this).blur(),n=t.data("options"),i=e.data("unit")||"hour",r=e.data("step"),o=t.data("viewtime"),d="meridiem"==i?o.hour()>11?1:0:o.get(i);if(n.unitText[i],!(n.unitText[i].length<2)){var c=a[i];switch(i){case"hour":case"minute":case"second":var u=d;do{if(u=(u+r+c)%c,null!==n.unitText[i][u]){y.text(n.unitText[i][u]),t.data("viewtime",o.set(i,u));break}}while(u!=d);break;case"meridiem":u=((u=d)+r+c)%c,null!==n.unitText[i][u]&&(y.text(n.unitText[i][u]),t.data("viewtime",o.hour(o.hour()%12+(u>0?12:0))))}s(t)}})),s(t)}(t)})).on("hide.bs.popover",(function(){t.data("view",null)})).popover({html:!0,placement:"bottom",sanitize:!1,title:'<button class="close mt-n1" data-dismiss="popover">&times;</button>'+(b.length>0?b.html():"Time (24 Hours)"),template:'<div id="'+m+'-picker-popover" class="popover timepicker-popover bs-popover-bottom" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div id="'+m+'-popover-body" class="popover-body border-bottom"></div><div class="popover-footer bg-light text-right px-3 py-2 rounded-lg" hidden="hidden"><button type="button" class="btn btn-secondary btn-sm" title="Close the picker" data-dismiss="popover"><i class="fas fa-times"></i> Close</button></div></div>',trigger:p.length>0?"manual":"click",popperConfig:{},content:function(){m=this.id;var e=t.data("options"),a=i(t.val(),e);return t.data("viewtime",a),'<div id="'+m+'-picker-content" class="timepicker-content" data-view="hour"></div>'}}),p.on("click",(function(){t.popover("toggle"),this.blur()}))}))},document.addEventListener("DOMContentLoaded",(function(){jQuery('[data-toggle="timepicker"][data-target]').each((function(){jQuery(jQuery(this).data("target")).timepicker()}))}))}();