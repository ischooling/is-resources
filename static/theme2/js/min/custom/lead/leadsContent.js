function renderDocumentContent(t,e,a){var l=getLeadDocuments(t,e,a).documents;console.log("renderDocumentContent length "+l.length);var n='<div class="full mt-2"><h6 class="border-bottom text-primary">Upload Documents</h6></div><div class="row" id="upload-document-wapper">'+renderDocument1(1,l)+renderDocument2(2,l)+renderDocument3(3,l)+renderDocument4(4,l)+renderDocument5(5,l)+'<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1" id="addMoreDocWrapper"><label class="full m-0">&nbsp;</label><a href="javascript:void(0);"  class="mt-1 btn btn-success full py-2" onclick="addMoreDocs(\'addMoreDocWrapper\')"><i class="fa fa-plus mr-2 mt-1"></i>Add More Document</a></div><div class="col-12 mb-1 mt-1 add-more-limits-note" style="display: none;"><b>Note:You can not add more documents</b></div></div>';$("#documentDiv").html(n);var s=deleteWarning()+cropModal()+pdfPreview();$("#supportHtmlFollowup").html(s),$(".documentType").select2({theme:"bootstrap4",placeholder:"Select Document Type",dropdownParent:"#leadPopupForm"})}function getDefautlUploadObject(t,e){var a={uploaded:"N"};return a.docType=t,a.docLabel=e,a.fileName="",a.filePath="",a}function renderDocument1(t,e){var a={};return'<div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12 py-1 bg-light-primary border mb-1 upload-docs-wrapper"><div class="row"><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1"><label class="full mb-1">'+(a=null!=e[46]?e[46]:getDefautlUploadObject("img","Nationality Proof")).docLabel+'</label><select name="documentType" id="documentType1" class="documentType" disabled><option value="NP" selected>Nationality Proof</option></select></div><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1" style="display: '+("Y"==a.uploaded?"none":"block")+';"><label class="full m-0">&nbsp;</label><div class="full position-relative  mt-1" id="OD1div" uploaded="'+a.uploaded+'" fileName="'+a.fileName+'" docType="Nationality Proof" thumbType="'+a.docType+'" data-PDFURL="'+a.filePath+'" ><input type="file" id="OD1" class="upload-input form-control" onchange="cropImageLead(event,\'OD1\',\'OD1Icon\', \'OD1div\',\''+a.docLabel+"','','OD1ViewAndRemoveBtn',"+t+')"><label class="upload-label form-control mb-0 btn btn-primary"><i class="fa fa-upload mr-2"></i>Upload</label></div></div><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1 view-and-remove-btn-wrapper" id="OD1ViewAndRemoveBtn" style="display: '+("Y"==a.uploaded?"block":"none")+';"><label class="full mb-1">&nbsp;</label><a id="OD1View" href="javascript:void(0);" class="btn btn-outline-success mr-2" onclick="viewAttachment(this, \'uploadFile\',\'I\', \'OD1div\')"><i class="fa fa-eye mr-2"></i>View</a><button type="button" id="OD1Remove" class="btn btn-outline-danger" onclick="showWarningMessageShow(\'Are you sure ?\',\'removeUploadImage(this, \\\'OD1\\\', \\\'OD1Icon\\\', \\\''+a.docLabel+"\\',\\'\\',\\'OD1div\\',\\'OD1ViewAndRemoveBtn\\',"+t+') \')"><i class="fa fa-trash mr-2"></i>Remove </button></div></div></div>'}function renderDocument2(t,e){var a={};return a=null!=e[17]?e[17]:getDefautlUploadObject("img","Last academic Proof"),console.log("renderDocument2 "+a),'<div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12 py-1 bg-light-primary border mb-1 upload-docs-wrapper"><div class="row"><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1"><label class="full mb-1">Last Academic Proof</label><select name="documentType" id="documentType2" class="documentType" disabled><option value="LAP" selected>Last Academic Proof</option></select></div><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1" style="display: '+("Y"==a.uploaded?"none":"block")+';"><label class="full m-0">&nbsp;</label><div class="full position-relative  mt-1" id="OD2div" uploaded="'+a.uploaded+'" fileName="'+a.fileName+'" docType="Last Academic Proof" thumbType="'+a.docType+'" data-PDFURL="'+a.filePath+"\" ><input type=\"file\" id=\"OD2\" class=\"upload-input form-control\" onchange=\"cropImageLead(event,'OD2','OD2Icon','OD2div','Last Academic Proof','','OD2ViewAndRemoveBtn',"+t+')"><label class="upload-label form-control mb-0 btn btn-primary"><i class="fa fa-upload mr-2"></i>Upload</label></div></div><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1 view-and-remove-btn-wrapper" id="OD2ViewAndRemoveBtn" style="display: '+("Y"==a.uploaded?"block":"none")+";\"><label class=\"full mb-1\">&nbsp;</label><a id=\"ODView\" href=\"javascript:void(0);\"  class=\"btn btn-outline-success mr-2\" onclick=\"viewAttachment(this, 'uploadFile','I','OD2div')\"><i class=\"fa fa-eye mr-2\"></i>View</a><button type=\"button\" id=\"OD2Remove\" class=\"btn btn-outline-danger\" onclick=\"showWarningMessageShow('Are you sure ?', 'removeUploadImage(this, \\'OD2\\', \\'OD2Icon\\', \\'Last Academic Proof\\',\\'\\',\\'OD2div\\',\\'OD2ViewAndRemoveBtn\\',"+t+') \')"><i class="fa fa-trash mr-2"></i>Remove </button></div></div></div>'}function renderDocument3(t,e){var a={},l="none";return null!=e[47]?(a=e[47],l="block"):a=getDefautlUploadObject("img","Other Document 4"),console.log("renderDocument3 "+a),'<div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12 py-1 bg-light-primary border mb-1 upload-docs-wrapper" index="'+t+'" style="display: '+l+';"><div class="row"><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1"><label class="full mb-1">Select Document</label><select name="documentType" id="documentType3" class="documentType" disabled><option value="OD3" selected>Other Document 1</option></select></div><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1" style="display: '+("Y"==a.uploaded?"none":"block")+';"><label class="full m-0">&nbsp;</label><div class="full position-relative  mt-1" id="OD3div" uploaded="'+a.uploaded+'" fileName="'+a.fileName+'" docType="Other Document 3" thumbType="'+a.docType+'" data-PDFURL="'+a.filePath+"\" ><input type=\"file\" id=\"OD3\" class=\"upload-input form-control\" onchange=\"cropImageLead(event,'OD3','OD3Icon','OD3div','Other Document 3','','OD3ViewAndRemoveBtn',"+t+')"><label class="upload-label form-control mb-0 btn btn-primary"><i class="fa fa-upload mr-2"></i>Upload</label></div></div><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1 view-and-remove-btn-wrapper" id="OD3ViewAndRemoveBtn" style="display: '+("Y"==a.uploaded?"block":"none")+";\"><label class=\"full mb-1\">&nbsp;</label><a id=\"OD3View\" href=\"javascript:void(0);\"  class=\"btn btn-outline-success mr-2\" onclick=\"viewAttachment(this, 'uploadFile','I','OD3div')\"><i class=\"fa fa-eye mr-2\"></i>View</a><button type=\"button\" id=\"OD3Remove\" class=\"btn btn-outline-danger\" onclick=\"showWarningMessageShow('Are you sure ?', 'removeUploadImage(this, \\'OD3\\', \\'OD3Icon\\', \\'Other Document 3\\',\\'\\',\\'OD3div\\',\\'OD3ViewAndRemoveBtn\\',"+t+')\')"><i class="fa fa-trash mr-2"></i>Remove </button></div></div></div>'}function renderDocument4(t,e){var a={},l="none";return null!=e[48]?(a=e[48],l="block"):a=getDefautlUploadObject("img","Other Document 4"),console.log("renderDocument4 "+a),'<div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12 py-1 bg-light-primary border mb-1 upload-docs-wrapper" index="'+t+'" style="display: '+l+';"><div class="row"><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1"><label class="full mb-1">Select Document</label><select name="documentType" id="documentType4" class="documentType" disabled><option value="OD4" selected>Other Document 2</option></select></div><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1" style="display: '+("Y"==a.uploaded?"none":"block")+';"><label class="full m-0">&nbsp;</label><div class="full position-relative  mt-1" id="OD4div" uploaded="'+a.uploaded+'" fileName="'+a.fileName+'" docType="Other Document 4" thumbType="'+a.docType+'" data-PDFURL="'+a.filePath+"\" ><input type=\"file\" id=\"OD4\" class=\"upload-input form-control\" onchange=\"cropImageLead(event,'OD4','OD4Icon','OD4div','Other Document 4','','OD4ViewAndRemoveBtn',"+t+')"><label class="upload-label form-control mb-0 btn btn-primary"><i class="fa fa-upload mr-2"></i>Upload</label></div></div><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1 view-and-remove-btn-wrapper" id="OD4ViewAndRemoveBtn" style="display: '+("Y"==a.uploaded?"block":"none")+";\"><label class=\"full mb-1\">&nbsp;</label><a id=\"OD4View\" href=\"javascript:void(0);\"  class=\"btn btn-outline-success mr-2\" onclick=\"viewAttachment(this, 'uploadFile','I','OD4div')\"><i class=\"fa fa-eye mr-2\"></i>View</a><button type=\"button\" id=\"OD4Remove\" class=\"btn btn-outline-danger\" onclick=\"showWarningMessageShow('Are you sure ?', 'removeUploadImage(this, \\'OD4\\', \\'OD4Icon\\', \\'Other Document 4\\',\\'\\',\\'OD4div\\',\\'OD4ViewAndRemoveBtn\\',"+t+')\')"><i class="fa fa-trash mr-2"></i>Remove </button></div></div></div>'}function renderDocument5(t,e){var a={},l="none";return null!=e[49]?(a=e[49],l="block"):a=getDefautlUploadObject("img","Other Document 5"),console.log("renderDocument5 "+a),'<div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12 py-1 bg-light-primary border mb-1 upload-docs-wrapper" index="'+t+'" style="display: '+l+';"><div class="row"><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1"><label class="full mb-1">Select Document</label><select name="documentType" id="documentType5" class="documentType" disabled><option value="OD5" selected>Other Document 3</option></select></div><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1" style="display: '+("Y"==a.uploaded?"none":"block")+';"><label class="full m-0">&nbsp;</label><div class="full position-relative  mt-1" id="OD5div" uploaded="'+a.uploaded+'" fileName="'+a.fileName+'" docType="Other Document 5" thumbType="'+a.docType+'" data-PDFURL="'+a.filePath+"\" ><input type=\"file\" id=\"OD5\" class=\"upload-input form-control\" onchange=\"cropImageLead(event,'OD5','OD5Icon','OD5div','Other Document 5','','OD5ViewAndRemoveBtn',"+t+')"><label class="upload-label form-control mb-0 btn btn-primary"><i class="fa fa-upload mr-2"></i>Upload</label></div></div><div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1 view-and-remove-btn-wrapper" id="OD5ViewAndRemoveBtn" style="display: '+("Y"==a.uploaded?"block":"none")+";\"><label class=\"full mb-1\">&nbsp;</label><a id=\"OD5View\" href=\"javascript:void(0);\"  class=\"btn btn-outline-success mr-2\" onclick=\"viewAttachment(this, 'uploadFile','I','OD5div')\"><i class=\"fa fa-eye mr-2\"></i>View</a><button type=\"button\" id=\"OD5Remove\" class=\"btn btn-outline-danger\" onclick=\"showWarningMessageShow('Are you sure ?', 'removeUploadImage(this, \\'OD5\\', \\'OD5Icon\\', \\'Other Document 5\\',\\'\\',\\'OD5div\\',\\'OD5ViewAndRemoveBtn\\',"+t+')\')"><i class="fa fa-trash mr-2"></i>Remove </button></div></div></div>'}function deleteWarning(t,e){return'<div class="modal fade fade-scale mt-3" id="remarksresetDelete2" tabindex="-1" aria-hidden="true" ><div class="modal-dialog modal-sm" role="document"><div class="modal-content shadow-lg"><div class="modal-header pt-2 pb-2 bg-info justify-content-center"><h5 class="heading text-white text-center" id="warningMessage2">'+t+'</h5></div><div id="statusMessage-2" class="modal-body delete-modal text-center"><i class="fas fa-sync fa-4x text-info"></i></div><div class="modal-footer"><div class="m-auto"><button id="resetDeleteErrorWarningYes2" type="button" class="btn btn-outline-info mr-2" onclick="'+e+'">Yes</button><button id="resetDeleteErrorWarningNo2" type="button" class="btn btn-info mr-1" data-dismiss="modal">No</button><button id="resetDeleteErrorWarningCancel2" type="button" class="btn btn-success mr-1" data-dismiss="modal" style="display: none;">Close</button></div></div></div></div></div>'}function cropModal(){return'<div class="modal fade" id="cropModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true" data-backdrop="static"><div class="modal-dialog modal-lg p-0" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="modalLabel">Crop the image</h5><div class="ml-auto"><button type="button" class="btn btn-secondary mr-1" data-dismiss="modal">Cancel</button><button type="button" class="btn btn-primary mr-1" id="crop" onclick="cropImageFinal()">Crop</button><button type="button" class="btn btn-primary" onclick="rotateImage()">Rotate</button></div></div><div class="modal-body"><div class="img-container"><img id="cropModalImg" src="https://avatars0.githubusercontent.com/u/3456749" width="100%"></div></div></div></div></div>'}function pdfPreview(){return'<div class="modal fade fade-scale" id="uploadFile" tabindex="-1"><div class="modal-dialog modal-md  box-shadow-none" role="document"><div class="modal-content"><div class="modal-header pt-2 pb-2 bg-primary justify-content-between flex-wrap"><h6 class="heading text-white">Preview File</h6><button type="button" class="close text-white" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">√ó</span></button></div><div class="modal-body m-0 py-2" style="margin-top:0 !important"><div id="pre_upload_image_div" class="full text-center upload_img d-none"><img id="pre_upload_image" class="w-100" src="" /></div><div id="pre_upload_pdf_div" class=" full text-center upload_pdf d-none"><div class="full"><a href="" target="_blank" class="btn btn-sm btn-primary download-pdf-btn mb-2 pull-right" download="file.pdf">Download PDF</a></div><object type="application/pdf" class="pre_upload_pdf full" style="height: 400px;" data=""></object></div></div></div></div></div>'}function renderChatContent(t,e,a){var l=leadChatDocumentsContent(t,e,a)+getChatImageCropContent()+pdfPreview()+deleteWarning();$("#supportHtmlChats").html(l),$("#chatSupport").select2({theme:"bootstrap4",dropdownParent:"#updateChatSupportDocs"}),$("#chatDate").datepicker({format:"M dd, yyyy",autoclose:!0}),uploadedChatLogs(t,e,a),$("#updateChatSupportDocs").modal({backdrop:"static",keyboard:!1})}function leadChatDocumentsContent(t,e,a){return'<div id="updateChatSupportDocs" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-xl"><div class="modal-content border-0"><div class="modal-header pt-2 pb-2 theme-bg text-white"><h5 class="modal-title" id="exampleModalLabel">Update and View Document</h5><button type="button" class="close text-white" onClick="resetLeadChat(\'new-leads\')" aria-label="Close"><span aria-hidden="true">√ó</span></button></div><div class="modal-body"><div class="row"><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-1 mt-1" style="display:none;"><input type="hidden" class="form-control" id="isuploaded" name="isuploaded" value="false"></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-1 mt-1"><label class="m-0">Chat Support</label><select class="form-control" id="chatSupport" name="chatSupport"><option value="Zoho" selected>Zoho chat</option></select></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-1 mt-1"><label class="m-0">Select chat date</label><input type="text" name="chatDate" id="chatDate" class="form-control"></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-1 mt-1"><label class="m-0 full">&nbsp;</label><div class="full position-relative" id="OD3div" uploaded="" fileName="" docType="Chat documents" thumbType="" data-PDFURL="" ><input type="file" id="OD3" class="upload-input form-control" onchange="cropImageChatSupport(event,\'OD3\',\'OD3Icon\',\'OD3div\',\'Chat documents\',\'\',\'OD3ViewAndRemoveBtn\',3)"><label class="upload-label form-control mb-0 btn btn-primary"><i class="fa fa-upload mr-2"></i>Upload</label></div><div class="full" id="OD3ViewAndRemoveBtn" style="display: none;"><a id="OD3View" href="javascript:void(0);"  class="btn btn-outline-success mr-2" onclick="viewAttachmentChatSupport(this, \'uploadFile\',\'I\',\'OD3div\')"><i class="fa fa-eye mr-2"></i>View</a><button type="button" id="OD3Remove" class="btn btn-outline-danger" onclick="showWarningMessageShow(\'Are you sure you want to remove this document?\', \'removeUploadImageChatSupport(this, \\\'OD3\\\', \\\'OD3Icon\\\', \\\'Chat documents\\\',\\\'\\\',\\\'OD3div\\\',\\\'OD3ViewAndRemoveBtn\\\',3) \')"><i class="fa fa-trash mr-2"></i>Remove </button></div></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-1 mt-1"><label class="m-0 full">&nbsp;</label><button type="button" class="btn btn-success btn-shadow pr-4 pl-4" id="saveChatBtn" onclick="saveChatLogs(\''+t+"', "+e+","+a+",'CHAT_SUPPORT', 'chatDate', 'OD3div')\">Save</button></div><div class=\"col-lg-12 col-md-12 col-ms-12 col-12 pt-2 pb-2 table-responsive uploadedChatLogs\"></div></div></div></div></div></div>"}function uploadedChatLogs(t,e,a){var l=getLeadChatDetails(e,a,"CHAT_SUPPORT"),n='<table class="table table-bordered table-striped" style="font-size:11px;"><thead><tr><th>Sr. No.</th><th>Chat From</th><th>Chat date</th><th>View</th><th>Added by</th><th>Added date</th>';n+="</tr></thead><tbody>",$.each(l.chatSupports,(function(t,e){n+='<tr><td id="chatSupportId_'+e.supportId+'">'+(t+1)+"</td><td>"+e.chatFrom+"</td><td>"+e.chatDate+"</td><td>",$.each(e.documents,(function(e,a){n+='<div id="viewDoc_'+t+'" thumbType="'+a.docType+'" data-PDFURL="'+a.filePath+'"><a href="javascript:void(0);"  class="btn btn-outline-success" onclick="viewAttachmentChatSupport(this, \'uploadFile\',\'I\',\'viewDoc_'+t+'\')"><i class="fa fa-eye mr-2"></i>View</a></div>'})),n+="</td><td>"+e.createdBy+"</td><td>"+e.createdDate+"</td></tr>"})),n+="</tbody></table>",$(".uploadedChatLogs").html(n)}function getChatImageCropContent(){return'<div class="modal fade" id="cropModalChatSuport" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true" data-backdrop="static"><div class="modal-dialog modal-lg p-0" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="modalLabel">Crop the image</h5><div class="ml-auto"><button type="button" class="btn btn-secondary mr-1" data-dismiss="modal">Cancel</button><button type="button" class="btn btn-primary mr-1" id="cropChatSupportDoc" onclick="cropImgfun()">Crop</button><button type="button" class="btn btn-primary" onclick="rotateImage()">Rotate</button></div></div><div class="modal-body"><div class="img-container"><img id="cropModalImgChatSuport" src="https://avatars0.githubusercontent.com/u/3456749" width="100%" style="width:100%"></div></div></div></div></div>'}function whatsappChatUI(t){const e=t.data.filter((t=>"message"===t.eventType||"broadcastMessage"===t.eventType)).sort(((t,e)=>parseFloat(new Date(t.created).getTime())-parseFloat(new Date(e.created).getTime())));let a='\n        <style>\n            .whatsapp-container {\n                max-width: 800px;\n                margin: 20px auto;\n                background: #e5ddd5;\n                border-radius: 15px;\n                box-shadow: 0 0 20px rgba(0,0,0,0.1);\n                font-family: \'Segoe UI\', sans-serif;\n                overflow: hidden;\n                position: relative;\n            }\n\n            .chat-header {\n                background: linear-gradient(45deg, #075e54, #128c7e);\n                color: white;\n                padding: 15px 20px;\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                border-bottom: 1px solid rgba(255,255,255,0.1);\n            }\n\n\t\t\t.hide {\n\t\t\t\tdisplay: none\n\t\t\t}\n\n            .chat-header h3 {\n                margin: 0;\n                font-size: 1.2em;\n            }\n\n            .chat-header small {\n                opacity: 0.8;\n                font-size: 0.9em;\n            }\n\n            .chat-body {\n                padding: 20px;\n                height: 500px;\n                overflow-y: auto;\n                background: url(\'https://i.pinimg.com/736x/8c/98/99/8c98994518b575bfd8c949e91d20548b.jpg\');\n                background-size: contain;\n            }\n\n            .message {\n                max-width: 100%;\n                margin-bottom: 15px;\n                display: flex;\n                animation: slideIn 0.3s ease;\n            }\n\n            .message.sent {\n                justify-content: flex-end;\n            }\n\n            .message.received {\n                justify-content: flex-start;\n            }\n\n            .message-bubble {\n\t\t\t\tmax-width: 70%;\n                padding: 12px 18px;\n                border-radius: 10px;\n                position: relative;\n                box-shadow: 0 1px 2px rgba(0,0,0,0.1);\n                word-wrap: break-word;\n            }\n\n            .sent .message-bubble {\n                background: #dcf8c6;\n                border-bottom-right-radius: 2px;\n            }\n\n            .received .message-bubble {\n                background: white;\n                border-bottom-left-radius: 2px;\n            }\n\n            .message-time {\n                font-size: 0.7em;\n                color: #666;\n                margin-top: 5px;\n                text-align: right;\n            }\n            .message-name {\n                font-size: 0.7em;\n                color: #666;\n                margin-top: 2px;\n                text-align: right;\n            }\n\n            .message-bubble::after {\n                content: \'\';\n                position: absolute;\n                width: 10px;\n                height: 10px;\n                bottom: 0;\n            }\n\n            .sent .message-bubble::after {\n                right: -10px;\n                background: #dcf8c6;\n                clip-path: polygon(0 100%, 100% 0, 100% 100%);\n            }\n\n            .received .message-bubble::after {\n                left: -10px;\n                background: white;\n                clip-path: polygon(0 0, 100% 100%, 0 100%);\n            }\n\n            .status-indicator {\n                font-size: 0.8em;\n                color: #666;\n                margin-left: 5px;\n            }\n\n            .status-indicator.read {\n                color: #34b7f1;\n            }\n\n            .close-btn {\n                background: none;\n                border: none;\n                color: white;\n                font-size: 1.5em;\n                cursor: pointer;\n                opacity: 0.8;\n            }\n\n            .close-btn:hover {\n                opacity: 1;\n            }\n\n            @keyframes slideIn {\n                from {\n                    opacity: 0;\n                    transform: translateY(20px);\n                }\n                to {\n                    opacity: 1;\n                    transform: translateY(0);\n                }\n            }\n\n            .status-bar {\n                background: #f8f9fa;\n                padding: 5px 20px;\n                font-size: 0.8em;\n                color: #666;\n                border-bottom: 1px solid #dee2e6;\n            }\n\n            .date-separator {\n                text-align: center;\n                margin: 20px 0;\n                position: relative;\n            }\n\n            .date-separator span {\n                background: #e5ddd5;\n                padding: 5px 15px;\n                border-radius: 15px;\n                font-size: 0.8em;\n                color: #666;\n                box-shadow: 0 1px 2px rgba(0,0,0,0.1);\n            }\n        </style>\n\n        <div id="watiLogsContent" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n            <div class="modal-dialog modal-xl" style=\'width: 80% !important;\'>\n                <div class="d-flex flex-wrap wati-wrapper">\n                    <div class="modal-content border-0 watiLogsTableDiv">\n                        <div class="modal-header py-1 bg-primary text-white">\n                            <h5 class="modal-title font-weight-bold">Wati Logs</h5>\n                            <button type="button" class="close text-white" onclick="selfModalHide(\'watiLogsContent\')">\n                                <span aria-hidden="true">√ó</span>\n                            </button>\n                        </div>\n                        <div class="modal-body pt-1">\n                            <div class="flex-grow-1">\n                                <div class="chat-body">\n    ',l=null;return 0==e.length||e.forEach((t=>{const e="true"===t.owner||"broadcastMessage"===t.eventType,n=new Date(t.created),s=n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});l!==s&&(a+=`\n                <div class="date-separator">\n                    <span>${s}</span>\n                </div>\n            `,l=s);const d=n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),i=(t.finalText||t.text||"").replace(/\n/g,"<br>").replace(/\*(.*?)\*/g,"<strong>$1</strong>").replace(/üòä/g,"<span>üòä</span>").replace(/üòá/g,"<span>üòá</span>").replace(/ü§î/g,"<span>ü§î</span>").replace(/üóìÔ∏è/g,"<span>üóìÔ∏è</span>").replace(/üíô/g,"<span>üíô</span>").replace(/üôÇ/g,"<span>üôÇ</span>");a+=`\n            <div class="message ${e?"sent":"received"}">\n                <div class="message-bubble">\n\t\t\t\t<div class="message-name ${e?"":"hide"}">\n\t\t\t\t\t${void 0===t.operaterName?"Bot":t.operaterName+"("+t.watiNumber+")"}\n\t\t\t\t</div>\n                    ${i}\n                    <div class="message-time">\n                        ${d}\n                    </div>\n                </div>\n            </div>\n        `})),a+="\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ",a}function watiLogsDataModal(t){null!=t.data&&null!=t.data&&(content=[],t.data.forEach((t=>{logdata={},logdata.userName=t.userName?t.userName:"",logdata.name=t.templateName?t.templateName:"",logdata.deliveredDateTime=t.deliveredDatetime?t.deliveredDatetime:"",logdata.deliveredStatus=t.deliveredStatus?t.deliveredStatus:"",logdata.reason=t.reason?t.reason:"",logdata.broadcastName=t.broadcastID?t.broadcastID:"",logdata.contactNo=t.contactNo?t.contactNo:"",logdata.watiContactNo=t.watiContactNo?t.watiContactNo:"",content.push(logdata)})));var e='<style>\n\t\t\t\t#watiLogsTable {\n\t\t\t\t\tborder-collapse: collapse;\n\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t}\n\t\t\t\t#watiLogsTable td, th {\n\t\t\t\t\tborder: 1px solid #f7f7f7;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<div id="watiLogsContent" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n\t\t\t\t<div class="modal-dialog modal-xl" style=\'width: 80% !important;\'>\n\t\t\t\t\t<div class="d-flex flex-wrap wati-wrapper">\n\t\t\t\t\t\t<div class="modal-content border-0 watiLogsTableDiv">\n\t\t\t\t\t\t\t<div class="modal-header py-1 bg-primary text-white">\n\t\t\t\t\t\t\t\t<h5 class="modal-title font-weight-bold">Wati Logs</h5>\n\t\t\t\t\t\t\t\t<button type="button" class="close text-white" onclick="selfModalHide(\'watiLogsContent\')">\n\t\t\t\t\t\t\t\t\t<span aria-hidden="true">√ó</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="modal-body pt-1">\n\t\t\t\t\t\t\t\t<div class="flex-grow-1">\n\t\t\t\t\t\t\t\t\t<form class="full" action="javascript:void(0);">\n\t\t\t\t\t\t\t\t\t\t<div class="full mb-1 mt-1 table-responsive">\n\t\t\t\t\t\t\t\t\t\t\t<table class="table" id="watiLogsTableData" style="font-size:14px;min-width:450px">\n\t\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr style=\'background-color:#E7F3FF\'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary rounded-top-left-5">SNO</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary rounded-top-left-5">Counsoler</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary rounded-top-left-5">Template Name</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary rounded-top-left-5">Broadcast ID</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary rounded-top-left-5">Contact No</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">Delivered Date & Time</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">Delivered Status</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary rounded-top-right-5">Reason</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t<tbody>';return null!=content&&""!=content&&$.each(content,(function(t,a){e+='<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="">'+(t+1)+`</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="">${a.userName} ${""==a.watiContactNo||"N/A"==a.watiContactNo?"":"( "+a.watiContactNo+" )"} </td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="">`+a.name+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="">'+a.broadcastName+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="">'+a.contactNo+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="">'+a.deliveredDateTime.slice(0,-5)+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="">'+a.deliveredStatus+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="">'+a.reason+"</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"})),e+="</tbody>\n\t\t\t\t\t\t\t\t\t\t\t</table>  \n\t\t\t\t\t\t\t\t\t\t</div>\t          \n\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>"}function swatiBroadcastContentModal(t){var e='<style>\n\t\t\t\t#watiBroadcastTable {\n\t\t\t\t\tborder-collapse: collapse;\n\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t}\n\t\t\t\t#watiBroadcastTable td, th {\n\t\t\t\t\tborder: 1px solid #f7f7f7;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<div id="swatiBroadcastContent" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n\t\t\t\t<div class="modal-dialog modal-xl">\n\t\t\t\t\t<div class="d-flex flex-wrap wati-wrapper">\n\t\t\t\t\t\t<div class="modal-content border-0 watiBroadcastTableDiv">\n\t\t\t\t\t\t\t<div class="modal-body pt-1">\n\t\t\t\t\t\t\t\t<div class="flex-grow-1">\n\t\t\t\t\t\t\t\t\t<div class="text-right full">\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="close text-dark" onclick="selfModalHide(\'swatiBroadcastContent\')">\n\t\t\t\t\t\t\t\t\t\t\t<span aria-hidden="true">√ó</span>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<form class="full" action="javascript:void(0);">\n\t\t\t\t\t\t\t\t\t\t<div class="full mb-1 mt-1 table-responsive">\n\t\t\t\t\t\t\t\t\t\t\t<table class="table" id="watiBroadcastTable" style="font-size:14px;min-width:450px">\n\t\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr class="bg-primary">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-white rounded-top-left-5">Sr. No.</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-white">Name</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-white text-center">View</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-white text-center rounded-top-right-5">Send Broadcast</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t<tbody>',a=1;if(t.messageTemplates){t.messageTemplates.forEach((t=>{var l=t.elementName;e+='<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="font-weight-bold">'+a+++'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="font-weight-bold">'+t.elementName+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="text-center">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" class="btn btn-outline-dark btn-sm" onclick="viewWatiTemplate(true, '+a+" ,'"+l+'\')">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView<i class="fa fa-eye ml-1"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="text-center">',0==t.customParams.length||1==t.customParams.length&&"name"==t.customParams[0].paramName?e+='<a href="javascript:void(0)" class="btn btn-primary btn-sm" onclick="sendWatiNotification(\''+l+"',"+a+')">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect<i class="pe-7s-paper-plane font-size-lg ml-1"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>':2!=t.customParams.length||"name"!=t.customParams[0].paramName&&"grade"!=t.customParams[0].paramName||(e+='<a href="javascript:void(0)" class="btn btn-primary btn-sm" onclick="sendWatiNotification(\''+l+"',"+a+')">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect<i class="pe-7s-paper-plane font-size-lg ml-1"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>'),e+="</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>"}))}e+='</tbody>\n\t\t\t\t\t\t\t\t\t\t\t</table>  \n\t\t\t\t\t\t\t\t\t\t</div>\t          \n\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id="previewWatiModal" class="modal-content border-0 wati-template hide-wati-template" style="max-width:300px;">\n\t\t\t\t\t\t\t<div class="modal-header py-1 text-white bg-primary">\n\t\t\t\t\t\t\t\t<p class="modal-title" id="modalLabel" class="fsize-1 m-0">Preview</p>\n\t\t\t\t\t\t\t\t<button type="button" class="close" onclick="viewWatiTemplate(false)"><span aria-hidden="true">&times;</span></button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="modal-body px-1">\n\t\t\t\t\t\t\t\t<div class="mobile-frame mx-auto">\n\t\t\t\t\t\t\t\t\t<div class="mobile-frame-top-bar">\n\t\t\t\t\t\t\t\t\t\t<div class="status-bar">\n\t\t\t\t\t\t\t\t\t\t\t<div class="time">';var l=new Date,n=l.getHours(),s=l.getMinutes();return n>12&&(n-=12),s<10&&(s="0"+s),e+=`${n}:${s}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="icons">\n\t\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 640 512">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path d="M576 0c17.7 0 32 14.3 32 32l0 448c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-448c0-17.7 14.3-32 32-32zM448 96c17.7 0 32 14.3 32 32l0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352c0-17.7 14.3-32 32-32zM352 224l0 256c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32s32 14.3 32 32zM192 288c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32zM96 416l0 64c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32s32 14.3 32 32z"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 576 512">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path d="M464 160c8.8 0 16 7.2 16 16l0 160c0 8.8-7.2 16-16 16L80 352c-8.8 0-16-7.2-16-16l0-160c0-8.8 7.2-16 16-16l384 0zM80 96C35.8 96 0 131.8 0 176L0 336c0 44.2 35.8 80 80 80l384 0c44.2 0 80-35.8 80-80l0-16c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l0-16c0-44.2-35.8-80-80-80L80 96zm368 96L96 192l0 128 352 0 0-128z"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 640 512">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path d="M54.2 202.9C123.2 136.7 216.8 96 320 96s196.8 40.7 265.8 106.9c12.8 12.2 33 11.8 45.2-.9s11.8-33-.9-45.2C549.7 79.5 440.4 32 320 32S90.3 79.5 9.8 156.7C-2.9 169-3.3 189.2 8.9 202s32.5 13.2 45.2 .9zM320 256c56.8 0 108.6 21.1 148.2 56c13.3 11.7 33.5 10.4 45.2-2.8s10.4-33.5-2.8-45.2C459.8 219.2 393 192 320 192s-139.8 27.2-190.5 72c-13.3 11.7-14.5 31.9-2.8 45.2s31.9 14.5 45.2 2.8c39.5-34.9 91.3-56 148.2-56zm64 160a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="header">\n\t\t\t\t\t\t\t\t\t\t\t<span class="d-inline-block" style="line-height: 0px;">\n\t\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="17px" fill="#fff" viewBox="0 0 448 512">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="circle">Wati</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="d-inline-block ml-auto" style="margin-left: auto;line-height: 0px;">\n\t\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="4px" fill="#fff" viewBox="0 0 128 512">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path d="M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="screen">\n\t\t\t\t\t\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t\t\t\t\t\t<div class="full" id="priviewTemplate" style="font-size:13px"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>`}function swatiBroadcastSendMobileModal(t){var e='<style>\n\t\t\t\t#mbroadcastWatiSendTable {\n\t\t\t\t\tborder-collapse: collapse;\n\t\t\t\t}\n\t\t\t\t#mbroadcastWatiSendTable td, th {\n\t\t\t\t\tborder: 1px solid #f7f7f7;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<div id="mswatiBroadcastSendThroughMobile" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" data-backdrop="static" aria-hidden="true">\n\t\t\t\t<div class="modal-dialog modal-lg">\n\t\t\t\t\t<div class="d-flex flex-wrap wati-wrapper">\n\t\t\t\t\t\t<div class="modal-content border-0">\n\t\t\t\t\t\t\t<div class="modal-header py-1 bg-primary text-white">\n\t\t\t\t\t\t\t\t<div class="fsize-1 mb-0">\n\t\t\t\t\t\t\t\t\t<span class="">Selected Template: </span>\n\t\t\t\t\t\t\t\t\t<span class="" id="templateName"></span>\n\t\t\t\t\t\t\t\t\t<span class="" id="viewMethodCalling"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="d-flex align-items-center">\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-primary btn-sm d-flex align-items-center" style=\'gap:5px;\' onclick="gotoBackWatiModal()">\n\t\t\t\t\t\t\t\t\t\t\t<svg style=\'width:15px;\' xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">\n\t\t\t\t\t\t\t\t\t\t\t\t<path stroke-linecap="round" stroke-linejoin="round" d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3" />\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span>Back</span>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button id="mswatiBroadcastSendThroughMobileClose" style=\'width:16px;height:16px;font-size:22px;display:flex;justify-content:center;align-items:center;padding:0px 10px 4px;\' type="button" class="btn btn-danger" onclick="selfModalHide(\'mswatiBroadcastSendThroughMobile\'); closeModalAndFlushData();">&times;</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="modal-body pt-1">\n\t\t\t\t\t\t\t\t<form id="sendWatiBroadcastMessage" class="full d-flex flex-column" action="javascript:void(0);">\n\t\t\t\t\t\t\t\t\t<div class="full mb-1 mt-1 table-responsive" style=\'max-height: 500px;overflow-y: auto;\'>\n\t\t\t\t\t\t\t\t\t\t<table id="mbroadcastWatiSendTable" class="table" style="font-size:14px;min-width:450px;">\n\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr style=\'background-color:#E7F3FF\'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th style=\'width:60px;\' class="rounded-top-left-5 text-primary">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\'margin-left:-5px;\' class="custom-checkbox custom-control d-inline-block" id="allcheckedDiv"> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" id="allchecked" value="" class="custom-control-input"> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="custom-control-label bold" for="allchecked">All</label> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th style=\'width:70px;\' class="text-primary">Sr. No.</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="px-1 text-primary">Name</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="rounded-top-right-5 text-primary">Phone Number</th>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t<tbody>';null!=t.users&&""!=t.users&&$.each(t.users,(function(t,a){var l=t+1;null!=a.mobileNo&&""!=a.mobileNo&&(e+='<tr id="esmsgcol_'+a.leadId+'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="custom-checkbox custom-control">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" name="chk-users-lead" id="'+a.leadId+'" value="'+a.leadId+'" class="custom-control-input checkToSend">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label id="label_'+a.leadId+'" class="custom-control-label" for="'+a.leadId+'"></label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="font-weight-bold">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'+l+'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="font-weight-bold">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="name" value="'+a.name+'" class="name">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'+a.name+'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="stmsg" id="esmsg_'+a.leadId+'"></span> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="mobileNo" value="'+a.mobileNo+'" class="mobileNo">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'+a.phoneNumber+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>")})),e+="</tbody>\n\t\t\t\t\t\t\t\t\t\t</table>  \n\t\t\t\t\t\t\t\t\t</div>",e+='\n\t\t\t\t\t\t\t\t\t<div class="d-flex justify-content-between align-items-center">\n\t\t\t\t\t\t\t\t\t\t<div id="selectedMessageCount">\n\t\t\t\t\t\t\t\t\t\t\t<span id="selectionCount" class="mb-2 bg-primary text-white px-3 p-2 rounded-5"></span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id="confirm_btn_data"></div>\n\t\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div id="previewWatiModal" class="modal-content border-0 wati-template hide-wati-template" style="max-width:300px;">\n\t\t\t\t\t\t<div class="modal-header text-white bg-primary" style=\'padding: 6.5px;\'>\n\t\t\t\t\t\t\t<p class="modal-title fsize-1 m-0 font-weight-bold" id="modalLabel">Preview</p>\n\t\t\t\t\t\t\t<button type="button" class="close text-white" onclick="viewWatiTemplate(false)"><span aria-hidden="true">&times;</span></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="modal-body px-1">\n\t\t\t\t\t\t\t<div class="mobile-frame mx-auto">\n\t\t\t\t\t\t\t\t<div class="mobile-frame-top-bar">\n\t\t\t\t\t\t\t\t\t<div class="status-bar">\n\t\t\t\t\t\t\t\t\t\t<div class="time">';var a=new Date,l=a.getHours(),n=a.getMinutes();return l>12&&(l-=12),n<10&&(n="0"+n),e+=`${l}:${n}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="icons">\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 640 512">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M576 0c17.7 0 32 14.3 32 32l0 448c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-448c0-17.7 14.3-32 32-32zM448 96c17.7 0 32 14.3 32 32l0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352c0-17.7 14.3-32 32-32zM352 224l0 256c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32s32 14.3 32 32zM192 288c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32zM96 416l0 64c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32s32 14.3 32 32z"/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 576 512">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M464 160c8.8 0 16 7.2 16 16l0 160c0 8.8-7.2 16-16 16L80 352c-8.8 0-16-7.2-16-16l0-160c0-8.8 7.2-16 16-16l384 0zM80 96C35.8 96 0 131.8 0 176L0 336c0 44.2 35.8 80 80 80l384 0c44.2 0 80-35.8 80-80l0-16c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l0-16c0-44.2-35.8-80-80-80L80 96zm368 96L96 192l0 128 352 0 0-128z"/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 640 512">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M54.2 202.9C123.2 136.7 216.8 96 320 96s196.8 40.7 265.8 106.9c12.8 12.2 33 11.8 45.2-.9s11.8-33-.9-45.2C549.7 79.5 440.4 32 320 32S90.3 79.5 9.8 156.7C-2.9 169-3.3 189.2 8.9 202s32.5 13.2 45.2 .9zM320 256c56.8 0 108.6 21.1 148.2 56c13.3 11.7 33.5 10.4 45.2-2.8s10.4-33.5-2.8-45.2C459.8 219.2 393 192 320 192s-139.8 27.2-190.5 72c-13.3 11.7-14.5 31.9-2.8 45.2s31.9 14.5 45.2 2.8c39.5-34.9 91.3-56 148.2-56zm64 160a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="header">\n\t\t\t\t\t\t\t\t\t\t<span class="d-inline-block" style="line-height: 0px;">\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="17px" fill="#fff" viewBox="0 0 448 512">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span class="circle">Wati</span>\n\t\t\t\t\t\t\t\t\t\t<span class="d-inline-block ml-auto" style="margin-left: auto;line-height: 0px;">\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="4px" fill="#fff" viewBox="0 0 128 512">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="screen">\n\t\t\t\t\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t\t\t\t\t<div class="full" id="priviewTemplateSecond" style="font-size:13px"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>`}function watiContent(t){return""}function customWatiTemplatesList(t){var e='<style>\n\t\t\t#watiBroadcastTable {\n\t\t\t\tborder-collapse: collapse;\n\t\t\t\tborder-radius: 10px;\n\t\t\t}\n\t\t\t#watiBroadcastTable td, th {\n\t\t\t\tborder: 1px solid #f7f7f7;\n\t\t\t}\n\t\t</style>\n\t\t<div id="mcustomWatiTemplatesList" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" data-backdrop="static" aria-hidden="true">\n\t\t\t<div class="modal-dialog modal-lg">\n\t\t\t\t<div class="d-flex flex-wrap wati-wrapper">\n\t\t\t\t\t<div class="modal-content border-0 watiBroadcastTableDiv">\n\t\t\t\t\t\t<div class="modal-header py-1 bg-primary text-white">\n\t\t\t\t\t\t\t<div class="">\n\t\t\t\t\t\t\t\t<p class="fsize-1 mb-0 font-weight-bold">Wati Broadcast</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button type="button" class="close text-white" onclick="selfModalHide(\'mcustomWatiTemplatesList\'); closeModalAndFlushData();">\n\t\t\t\t\t\t\t\t<span aria-hidden="true">√ó</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="modal-body pt-1" style=\'max-height: 500px;overflow-y: auto;\'>\n\t\t\t\t\t\t\t<div class="flex-grow-1">\n\t\t\t\t\t\t\t\t<form class="full" action="javascript:void(0);">\n\t\t\t\t\t\t\t\t\t<div class="full mb-1 mt-1 table-responsive">\n\t\t\t\t\t\t\t\t\t\t<table class="table" id="mwatiBroadcastTable" style="font-size:14px;min-width:450px">\n\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr style=\'background-color:#E7F3FF;\'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th style="width: 15%;color:#007EFF !important;" class="border text-white rounded-top-left-5">Sr. No.</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th style="width: 40%;color:#007EFF !important;" class="border text-white">Template Name</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th style="color:#007EFF !important;" class="border text-white text-center">View</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th style="color:#007EFF !important;" class="border text-white text-center rounded-top-right-5">Send Broadcast</th>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t<tbody>';if(t.messageTemplates){var a=1;$.each(t.messageTemplates,(function(t,l){var n=l.elementName;"APPROVED"==l.status&&(e+='<tr id="table_row_'+l.elementName+'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="vertical-align: middle !important;" class="font-weight-bold">'+a+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="vertical-align: middle !important;" class="font-weight-bold">'+l.elementName+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="vertical-align: middle !important;" class="text-center">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" class="btn btn-outline-dark btn-sm" onclick="viewWatiTemplate(true, '+t+", '"+n+'\')">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView<i class="fa fa-eye ml-1"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="vertical-align: middle !important;" class="text-center">',0==l.customParams.length||l.customParams.length>0&&l.customParams.length<3&&(l.customParams.some((t=>"name"==t.paramName))||l.customParams.some((t=>"grade"==t.paramName)))||1==l.customParams.length&&"name"==l.customParams[0].paramName?e+='<a href="javascript:void(0)" class="btn btn-primary btn-sm" onclick="sendWatiNotification(\''+n+"',"+t+')">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect<i class="pe-7s-paper-plane font-size-lg ml-1"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>':1!=l.customParams.length||"name"!=l.customParams[0].paramName&&"grade"!=l.customParams[0].paramName?1==l.customParams.length&&"grade"==l.customParams[0].paramName&&(e+='<a href="javascript:void(0)" class="btn btn-primary btn-sm" onclick="sendWatiNotification(\''+n+"',"+t+')">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect<i class="pe-7s-paper-plane font-size-lg ml-1"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>'):e+='<a href="javascript:void(0)" class="btn btn-primary btn-sm" onclick="sendWatiNotification(\''+n+"',"+t+')">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect<i class="pe-7s-paper-plane font-size-lg ml-1"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>',e+="</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>",a++)}))}e+='</tbody>\n\t\t\t\t\t\t\t\t\t\t</table>  \n\t\t\t\t\t\t\t\t\t</div>\t          \n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id="previewWatiModal" class="modal-content border-0 wati-template hide-wati-template" style="max-width:300px;">\n\t\t\t\t\t\t<div class="modal-header py-1 text-white bg-primary">\n\t\t\t\t\t\t\t<p class="modal-title fsize-1 m-0 font-weight-bold" id="modalLabel">Preview</p>\n\t\t\t\t\t\t\t<button type="button" class="close text-white" onclick="viewWatiTemplate(false)"><span aria-hidden="true">&times;</span></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="modal-body px-1">\n\t\t\t\t\t\t\t<div class="mobile-frame mx-auto">\n\t\t\t\t\t\t\t\t<div class="mobile-frame-top-bar">\n\t\t\t\t\t\t\t\t\t<div class="status-bar">\n\t\t\t\t\t\t\t\t\t\t<div class="time">';var l=new Date,n=l.getHours(),s=l.getMinutes();return n>12&&(n-=12),s<10&&(s="0"+s),e+=`${n}:${s}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="icons">\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 640 512">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M576 0c17.7 0 32 14.3 32 32l0 448c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-448c0-17.7 14.3-32 32-32zM448 96c17.7 0 32 14.3 32 32l0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352c0-17.7 14.3-32 32-32zM352 224l0 256c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32s32 14.3 32 32zM192 288c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32zM96 416l0 64c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32s32 14.3 32 32z"/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 576 512">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M464 160c8.8 0 16 7.2 16 16l0 160c0 8.8-7.2 16-16 16L80 352c-8.8 0-16-7.2-16-16l0-160c0-8.8 7.2-16 16-16l384 0zM80 96C35.8 96 0 131.8 0 176L0 336c0 44.2 35.8 80 80 80l384 0c44.2 0 80-35.8 80-80l0-16c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l0-16c0-44.2-35.8-80-80-80L80 96zm368 96L96 192l0 128 352 0 0-128z"/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 640 512">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M54.2 202.9C123.2 136.7 216.8 96 320 96s196.8 40.7 265.8 106.9c12.8 12.2 33 11.8 45.2-.9s11.8-33-.9-45.2C549.7 79.5 440.4 32 320 32S90.3 79.5 9.8 156.7C-2.9 169-3.3 189.2 8.9 202s32.5 13.2 45.2 .9zM320 256c56.8 0 108.6 21.1 148.2 56c13.3 11.7 33.5 10.4 45.2-2.8s10.4-33.5-2.8-45.2C459.8 219.2 393 192 320 192s-139.8 27.2-190.5 72c-13.3 11.7-14.5 31.9-2.8 45.2s31.9 14.5 45.2 2.8c39.5-34.9 91.3-56 148.2-56zm64 160a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="header">\n\t\t\t\t\t\t\t\t\t\t<span class="d-inline-block" style="line-height: 0px;">\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="17px" fill="#fff" viewBox="0 0 448 512">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span class="circle">Wati</span>\n\t\t\t\t\t\t\t\t\t\t<span class="d-inline-block ml-auto" style="margin-left: auto;line-height: 0px;">\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="4px" fill="#fff" viewBox="0 0 128 512">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="screen">\n\t\t\t\t\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t\t\t\t\t<div class="full" id="priviewTemplate" style="font-size:13px"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`}function successFailedWatiMessagesModal(t){sData=[],fData=[],null!=t&&null!=t&&t.forEach((t=>{$("#wati_logs_link_"+t.leadID).show(),"success"==t.status?(sDataObj={},sDataObj.phoneNumber=t.phoneNumber,sDataObj.leadId=t.leadID,sDataObj.name=t.name,sDataObj.mobileNo=t.mobileNo,sDataObj.grade=t.grade,sDataObj.leadVerifiedStatus=t.leadVerifiedStatus,sData.push(sDataObj)):(fDataObj={},fDataObj.phoneNumber=t.phoneNumber,fDataObj.leadId=t.leadID,fDataObj.name=t.name,fDataObj.mobileNo=t.mobileNo,fDataObj.grade=t.grade,fDataObj.leadVerifiedStatus=t.leadVerifiedStatus,fData.push(fDataObj))}));var e='\n\t\t\t<style>\n\t\t\t\t#successWatiTable, failedWatiTable {\n\t\t\t\t\tborder-collapse: collapse;\n\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t}\n\t\t\t\t#successWatiTable td, th , #failedWatiTable td, th {\n\t\t\t\t\tborder: 1px solid #f7f7f7;\n\t\t\t\t}\n\t\t\t\t#successWatiTable tr:nth-child(odd), #failedWatiTable tr:nth-child(odd) {\n\t\t\t\t\tbackground-color: #F7F7F7;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t\t<div id="successFailedWatiMessagesModal" class="modal fade bd-example-modal-lg fade-scale" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" data-backdrop="static" aria-hidden="true">\n\t\t\t\t\t<div class="modal-dialog modal-lg">\n\t\t\t\t\t\t<div class="d-flex flex-wrap wati-wrapper">\n\t\t\t\t\t\t\t<div class="modal-content border-0">\n\t\t\t\t\t\t\t\t<div class="modal-header py-1 bg-primary text-white">\n\t\t\t\t\t\t\t\t\t<div class="fsize-1 mb-0">\n\t\t\t\t\t\t\t\t\t\t<span class="">Selected Template: </span>\n\t\t\t\t\t\t\t\t\t\t<span class="" id="templateNameSF"></span>\n\t\t\t\t\t\t\t\t\t\t<span class="" id="viewMethodCallingSF"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="d-flex align-items-center">\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-primary btn-sm d-flex align-items-center" style=\'gap:5px;\' onclick="selfModalHide(\'successFailedWatiMessagesModal\');gotoBackWatiModal()">\n\t\t\t\t\t\t\t\t\t\t\t<svg style=\'width:15px;\' xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">\n\t\t\t\t\t\t\t\t\t\t\t\t<path stroke-linecap="round" stroke-linejoin="round" d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3" />\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span>Back</span>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button id="successFailedWatiMessagesModalClose" style=\'width:16px;height:16px;font-size:22px;display:flex;justify-content:center;align-items:center;padding:0px 10px 4px;\' type="button" class="btn btn-danger" onclick="selfModalHide(\'successFailedWatiMessagesModal\'); closeModalAndFlushData();">&times;</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class="modal-body pt-1" style=\'max-height: 500px;overflow-y: auto;\'>\n\t\t\t\t\t\t\t\t\t<div class="d-flex flex-column" style=\'gap: 10px;\'>\n\t\t\t\t\t\t\t\t\t\t<div id="successWatiDiv" class="border border-success rounded-10">\n\t\t\t\t\t\t\t\t\t\t\t<div class="d-flex justify-content-between align-items-center">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="m-0 p-1 d-flex align-items-center" style=\'gap:5px;\'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\'padding: 1px 5px;font-size:10px;\' class="bg-primary rounded-5 text-white">'+sData.length+'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="font-weight-bold">Message Sent</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-solid fa-check bg-success text-white rounded-circle" style=\'width:16px;height:16px;text-align:center;padding: 3px;font-size: 10px;\'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<i id=\'chevron_success\' class="fa fa-solid fa-chevron-down text-success px-2"></i>\n\t\t\t\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t\t\t\t<div id=\'successWatiTableDiv\' class="full table-responsive px-1 font-12">\n\t\t\t\t\t\t\t\t\t\t\t\t<table id="successWatiTable" class="table mt-1 mb-0" style="font-size:14px;min-width:450px;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr style=\'background-color:#E7F3FF\'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th style=\'width:80px;\' class="rounded-top-left-5 px-1 text-primary">Sr. No.</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="px-1 text-primary">Name</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="rounded-top-right-5 text-primary">Phone Number</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody class="lead-table-css">';null!=sData&&$.each(sData,(function(t,a){var l=t+1;null!=a.mobileNo&&""!=a.mobileNo&&(e+='<tr id="esmsgcol_'+a.leadId+'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p class="m-0 font-weight-bold font-12">'+l+'</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p class="m-0 font-weight-bold font-12"><span id="esmsg_'+a.leadId+'">'+a.name+'</span></p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p class="m-0 font-12">'+a.phoneNumber+"</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>")})),e+='</tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form id="resendWatiMessages" class="full d-flex flex-column" action="javascript:void(0);">\n\t\t\t\t\t\t\t\t\t\t\t<div id=\'failedWatiDiv\' class=\'border border-danger rounded-10\'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="d-flex justify-content-between align-items-center">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class="m-0 p-1 d-flex align-items-center" style=\'gap:5px;\'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\'padding: 1px 5px;font-size:10px;\' class="bg-danger rounded-5 text-white">'+fData.length+'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="font-weight-bold">Message Not Sent</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-solid fa-exclamation text-white bg-danger rounded-circle" style=\'width:16px;height:16px;text-align:center;padding: 3px;font-size: 10px;\'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i id=\'chevron_failed\' class="fa fa-solid fa-chevron-down text-danger px-2"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\'failedWatiTableDiv\' class="full table-responsive px-1 font-12">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<table id="failedWatiTable" class="table mt-1 mb-0" style="font-size:14px;min-width:450px;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr style=\'background-color:#E7F3FF\'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th style=\'width:40px;\' class="rounded-top-left-5 text-primary">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\'margin-left:-5px;\' class="custom-checkbox custom-control d-inline-block" id="allcheckedDivFailed"> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" id="allcheckedFailed" value="" class="custom-control-input"> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="custom-control-label bold" for="allcheckedFailed">All</label> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th style=\'width:50px;\' class="text-primary">Sr. No.</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="px-1 text-primary">Name</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="rounded-top-right-5 text-primary">Phone Number</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody class="lead-table-css">',null!=fData&&$.each(fData,(function(t,a){var l=t+1;null!=a.mobileNo&&""!=a.mobileNo&&(e+='<tr id="esmsgcol_'+a.leadId+'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="custom-checkbox custom-control">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" name="chk-users-lead-resend" id="failed_'+a.leadId+'" value="'+a.leadId+'" class="custom-control-input checkToSendFailed">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label id="label_failed_'+a.leadId+'" class="custom-control-label" for="failed_'+a.leadId+'"></label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="font-weight-bold">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'+l+'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="font-weight-bold">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="name" value="'+a.name+'" class="name font-12">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'+a.name+'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="mobileNo" value="'+a.mobileNo+'" class="mobileNo font-12">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'+a.phoneNumber+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>")})),e+='</tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</table>  \n\t\t\t\t\t\t\t\t\t\t\t\t\t<div id="selectedMessageCountOnFailed" class="my-2">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span id="selectionCountOnFailed" class="mb-2 bg-primary text-white px-3 p-2 rounded-5 font-12"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div id="resendWatiMessagesData">Resend</div>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div id="previewWatiModal" class="modal-content border-0 wati-template hide-wati-template" style="max-width:300px;">\n\t\t\t\t\t\t\t<div class="modal-header text-white bg-primary" style=\'padding: 6.5px;\'>\n\t\t\t\t\t\t\t\t<p class="modal-title fsize-1 m-0 font-weight-bold" id="modalLabel">Preview</p>\n\t\t\t\t\t\t\t\t<button type="button" class="close text-white" onclick="viewWatiTemplate(false)"><span aria-hidden="true">&times;</span></button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="modal-body px-1">\n\t\t\t\t\t\t\t\t<div class="mobile-frame mx-auto">\n\t\t\t\t\t\t\t\t\t<div class="mobile-frame-top-bar">\n\t\t\t\t\t\t\t\t\t\t<div class="status-bar">\n\t\t\t\t\t\t\t\t\t\t\t<div class="time">';var a=new Date,l=a.getHours(),n=a.getMinutes();return l>12&&(l-=12),n<10&&(n="0"+n),e+=`${l}:${n}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="icons">\n\t\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 640 512">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path d="M576 0c17.7 0 32 14.3 32 32l0 448c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-448c0-17.7 14.3-32 32-32zM448 96c17.7 0 32 14.3 32 32l0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352c0-17.7 14.3-32 32-32zM352 224l0 256c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32s32 14.3 32 32zM192 288c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32zM96 416l0 64c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32s32 14.3 32 32z"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 576 512">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path d="M464 160c8.8 0 16 7.2 16 16l0 160c0 8.8-7.2 16-16 16L80 352c-8.8 0-16-7.2-16-16l0-160c0-8.8 7.2-16 16-16l384 0zM80 96C35.8 96 0 131.8 0 176L0 336c0 44.2 35.8 80 80 80l384 0c44.2 0 80-35.8 80-80l0-16c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l0-16c0-44.2-35.8-80-80-80L80 96zm368 96L96 192l0 128 352 0 0-128z"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 640 512">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path d="M54.2 202.9C123.2 136.7 216.8 96 320 96s196.8 40.7 265.8 106.9c12.8 12.2 33 11.8 45.2-.9s11.8-33-.9-45.2C549.7 79.5 440.4 32 320 32S90.3 79.5 9.8 156.7C-2.9 169-3.3 189.2 8.9 202s32.5 13.2 45.2 .9zM320 256c56.8 0 108.6 21.1 148.2 56c13.3 11.7 33.5 10.4 45.2-2.8s10.4-33.5-2.8-45.2C459.8 219.2 393 192 320 192s-139.8 27.2-190.5 72c-13.3 11.7-14.5 31.9-2.8 45.2s31.9 14.5 45.2 2.8c39.5-34.9 91.3-56 148.2-56zm64 160a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="header">\n\t\t\t\t\t\t\t\t\t\t\t<span class="d-inline-block" style="line-height: 0px;">\n\t\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="17px" fill="#fff" viewBox="0 0 448 512">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="circle">Wati</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="d-inline-block ml-auto" style="margin-left: auto;line-height: 0px;">\n\t\t\t\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="4px" fill="#fff" viewBox="0 0 128 512">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path d="M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="screen">\n\t\t\t\t\t\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t\t\t\t\t\t<div class="full" id="priviewTemplateThird" style="font-size:13px"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}function zadarmaLogsDataModal(t){let e='\n\t\t<style>\n\t\t\t#zadarmaLogsTable {\n\t\t\t\tborder-collapse: collapse;\n\t\t\t\tborder-radius: 10px;\n\t\t\t}\n\t\t\t#zadarmaLogsTable td, th {\n\t\t\t\tborder: 1px solid #f7f7f7;\n\t\t\t}\n\t\t</style>\n\t\t<div id="zadarmaLogsContent" class="modal fade bd-example-modal-lg fade-scale" role="dialog" aria-labelledby="zadarmaLogsLabel" aria-hidden="true">\n\t\t\t<div class="modal-dialog modal-xl" style=\'width: 80% !important;\'>\n\t\t\t\t<div class="d-flex flex-wrap zadarma-wrapper">\n\t\t\t\t\t<div class="modal-content border-0 zadarmaLogsTableDiv">\n\t\t\t\t\t\t<div class="modal-header py-1 bg-primary text-white">\n\t\t\t\t\t\t\t<h5 class="modal-title font-weight-bold">Zadarma Logs</h5>\n\t\t\t\t\t\t\t<button type="button" class="close text-white" onclick="selfModalHide(\'zadarmaLogsContent\')">\n\t\t\t\t\t\t\t\t<span aria-hidden="true">√ó</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="modal-body pt-1">\n\t\t\t\t\t\t\t<div class="flex-grow-1">\n\t\t\t\t\t\t\t\t<form class="full" action="javascript:void(0);">\n\t\t\t\t\t\t\t\t\t<div class="full mb-1 mt-1 table-responsive" style="max-height:80vh !important;">\n\t\t\t\t\t\t\t\t\t\t<table class="table" id="zadarmaLogsTableData" style="font-size:14px; min-width:450px">\n\t\t\t\t\t\t\t\t\t\t\t<thead style="position:sticky;top:0;z-index:10;">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr style=\'background-color:#E7F3FF\'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">S.No.</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">Caller</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">Dailled No.</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">Type</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">Call Start</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">Duration (in sec)</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">Status</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">Action</th>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t<tbody>';return t.length>0?t.forEach(((t,a)=>{e+=`\n\t\t\t\t<tr>\n\t\t\t\t\t<td>${a+1}</td>\n\t\t\t\t\t<td>${t.caller}</td>\n\t\t\t\t\t<td>${t.dialledNumber}</td>\n\t\t\t\t\t<td>${"I"==t.type?"Incoming":"Outgoing"}</td>\n\t\t\t\t\t<td>${changeDateFormat(new Date(t.callStart),"MMM-dd-yyyy hh:mm:ss")}</td>\n\t\t\t\t\t<td>${t.seconds}</td>\n\t\t\t\t\t<td style="text-transform: capitalize;">${t.status}</td>\n\t\t\t\t\t<td>`,null!=t.recordings||null!=t.recordings?e+=`<button onclick="viewCallRecording('${t.recordings}');" class='btn btn-primary btn-sm'>View Recording</button>`:e+="",e+="</td>\n\t\t\t\t</tr>"})):e+='<tr><td colspan="8" class="text-center">No logs available</td></tr>',e+="</tbody>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\t          \n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>",e}function customEmailTemplatesList(t){var e='<style>\n\t\t\t#emailBroadcastTable {\n\t\t\t\tborder-collapse: collapse;\n\t\t\t\tborder-radius: 10px;\n\t\t\t}\n\t\t\t#emailBroadcastTable td, th {\n\t\t\t\tborder: 1px solid #f7f7f7;\n\t\t\t}\n\t\t</style>\n\t\t<div id="customEmailTemplatesList" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" data-backdrop="static" aria-hidden="true">\n\t\t\t<div class="modal-dialog" style="width:40%">\n\t\t\t\t<div class="d-flex flex-wrap email-wrapper">\n\t\t\t\t\t<div class="modal-content border-0 emailBroadcastTableDiv">\n\t\t\t\t\t\t<div class="modal-header py-1 bg-primary text-white">\n\t\t\t\t\t\t\t<div class="">\n\t\t\t\t\t\t\t\t<p class="fsize-1 mb-0 font-weight-bold">Email Broadcast</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button type="button" class="close text-white" onclick="selfModalHide(\'customEmailTemplatesList\'); closeModalAndFlushData();">\n\t\t\t\t\t\t\t\t<span aria-hidden="true">√ó</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="modal-body pt-1" style=\'max-height: 500px;overflow-y: auto;\'>\n\t\t\t\t\t\t\t<div class="flex-grow-1">\n\t\t\t\t\t\t\t\t<form class="full" action="javascript:void(0);">\n\t\t\t\t\t\t\t\t\t<div class="full mb-1 mt-1 table-responsive">\n\t\t\t\t\t\t\t\t\t\t<table class="table" id="emailBroadcastTable" style="font-size:14px;min-width:450px">\n\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr style=\'background-color:#E7F3FF;\'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th style="width: 15%;color:#007EFF !important;" class="border text-white rounded-top-left-5">Sr. No.</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th style="width: 40%;color:#007EFF !important;" class="border text-white">Template Name</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th style="color:#007EFF !important;" class="border text-white text-center">View</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th style="color:#007EFF !important;" class="border text-white text-center rounded-top-right-5">Send Broadcast</th>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t<tbody>';if(t.templates){const a=USER_FULL_NAME.split(" ")[0];let l=0;$.each(t.templates,(function(t,n){if(n.name.toLowerCase().includes(a.toLowerCase())){l++;var s=n.name;let a=n.subject;e+='<tr id="table_row_'+s+'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="vertical-align: middle !important;" class="font-weight-bold">'+l+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="vertical-align: middle !important;" class="font-weight-bold">'+s+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="vertical-align: middle !important;" class="text-center">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" class="btn btn-outline-dark btn-sm" style="text-decoration: none !important;" onclick="viewEmailTemplate(true, '+t+", '"+s+'\')">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView<i class="fa fa-eye ml-1"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="vertical-align: middle !important;" class="text-center">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" class="btn btn-primary btn-sm text-white" style="text-decoration: none !important;" onclick="sendEmailNotification(\''+btoa(s)+"','"+btoa(a)+"',"+t+",'"+n.id+'\')">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect<i class="pe-7s-paper-plane font-size-lg ml-1"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>'}}))}return e+='</tbody>\n\t\t\t\t\t\t\t\t\t\t</table>  \n\t\t\t\t\t\t\t\t\t</div>\t          \n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="previewEmailModal" class="modal-content border-0 email-template hide-email-template" style="max-width:450px;">\n\t\t\t\t\t\t<div class="modal-header py-1 text-white bg-primary">\n\t\t\t\t\t\t\t<p class="modal-title fsize-1 m-0 font-weight-bold" id="modalLabel">Preview</p>\n\t\t\t\t\t\t\t<button type="button" class="close text-white" onclick="viewEmailTemplate(false)"><span aria-hidden="true">&times;</span></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="modal-body px-1">\n\t\t\t\t\t\t\t<div class="mx-auto">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div class="screen">\n\t\t\t\t\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t\t\t\t\t<div class="full" id="previewEmailTemplate" style="font-size:13px"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>'}function emailBroadcastSendModal(t){var e='<style>\n\t\t\t\t#emailBroadcastSendTable {\n\t\t\t\t\tborder-collapse: collapse;\n\t\t\t\t}\n\t\t\t\t#emailBroadcastSendTable td, th {\n\t\t\t\t\tborder: 1px solid #f7f7f7;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<div id="emailBroadcastSendModal" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" data-backdrop="static" aria-hidden="true">\n\t\t\t\t<div class="modal-dialog" style="width:40%;">\n\t\t\t\t\t<div class="d-flex flex-wrap email-wrapper">\n\t\t\t\t\t\t<div class="modal-content border-0">\n\t\t\t\t\t\t\t<div class="modal-header py-1 bg-primary text-white align-items-center">\n\t\t\t\t\t\t\t\t<div class="d-flex fsize-1 mb-0 align-items-center">\n\t\t\t\t\t\t\t\t\t<button type="button" class="btn mr-2 btn-primary btn-sm d-flex align-items-center" style=\'gap:5px;\' onclick="gotoBackEmailModal()">\n\t\t\t\t\t\t\t\t\t\t<svg style=\'width:15px;\' xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">\n\t\t\t\t\t\t\t\t\t\t\t<path stroke-linecap="round" stroke-linejoin="round" d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3" />\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t<span>Back</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<span class="">Selected Template: </span>\n\t\t\t\t\t\t\t\t\t<span class="" id="templateNameEmail"></span>\n\t\t\t\t\t\t\t\t\t<span class="" id="viewMethodCallingEmail"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="d-flex align-items-center">\n\t\t\t\t\t\t\t\t\t<button id="emailBroadcastSendModalClose" style=\'width:16px;height:16px;font-size:22px;display:flex;justify-content:center;align-items:center;padding:0px 10px 4px;\' type="button" class="btn btn-danger" onclick="selfModalHide(\'emailBroadcastSendModal\'); closeModalAndFlushData();">&times;</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="modal-body pt-1">\n\t\t\t\t\t\t\t\t<form id="sendEmailBroadcastMessage" class="full d-flex flex-column" action="javascript:void(0);">\n\t\t\t\t\t\t\t\t\t<div class="full mb-1 mt-1 table-responsive" style=\'max-height: 500px;overflow-y: auto;\'>\n\t\t\t\t\t\t\t\t\t\t<table id="emailBroadcastSendTable" class="table" style="font-size:14px;min-width:450px;">\n\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr style=\'background-color:#E7F3FF\'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th style=\'width:60px;\' class="rounded-top-left-5 text-primary">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\'margin-left:-5px;\' class="custom-checkbox custom-control d-inline-block" id="allcheckedEmailDiv"> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" id="allCheckedEmail" value="" class="custom-control-input"> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="custom-control-label bold" for="allCheckedEmail">All</label> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th style=\'width:70px;\' class="text-primary">Sr. No.</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="px-1 text-primary">Name</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="rounded-top-right-5 text-primary">Email</th>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t<tbody>';return null!=t.users&&""!=t.users&&$.each(t.users,(function(t,a){var l=t+1;null!=a.email&&""!=a.email&&(e+='<tr id="esmsgcol_'+a.leadId+'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="custom-checkbox custom-control">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname="chk-users-lead-email"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="'+a.leadId+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="'+a.leadId+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-email="'+a.email+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-name="'+a.name+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-grade="'+a.grade+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-leadVerifiedStatus="'+a.leadVerifiedStatus+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-mobile="'+a.mobileNo+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-phone="'+a.phoneNumber+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-isdcode="'+a.isdCode+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="custom-control-input checkToSendEmail"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label id="label_email_'+a.leadId+'" class="custom-control-label" for="'+a.leadId+'"></label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="font-weight-bold">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'+l+'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="font-weight-bold">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="name" value="'+a.name+'" class="name">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'+a.name+'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="stmsg" id="esmsg_'+a.leadId+'"></span> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="email" value="'+a.email+'" class="email">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'+a.email+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>")})),e+="</tbody>\n\t\t\t\t\t\t\t\t\t\t</table>  \n\t\t\t\t\t\t\t\t\t</div>",e+='\n\t\t\t\t\t\t\t\t\t<div class="d-flex justify-content-between align-items-center">\n\t\t\t\t\t\t\t\t\t\t<div id="selectedMessageCountEmail">\n\t\t\t\t\t\t\t\t\t\t\t<span id="selectionCountEmail" class="mb-2 bg-primary text-white px-3 p-2 rounded-5"></span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="d-flex justify-content-center align-items-center">\n\t\t\t\t\t\t\t\t\t\t\t<input type="radio" name="mailBroadcastTime" value="now" checked><p class="mb-0 ml-1"> Send Now </p>\n\t\t\t\t\t\t\t\t\t\t\t<input type="radio" name="mailBroadcastTime" class="ml-3" value="bestTime"><p class="mb-0 ml-1"> Send At Best Time </p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id="confirm_btn_data_email"></div>\n\t\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div id="previewEmailModalSecond" class="modal-content border-0 email-template hide-email-template" style="max-width:450px;">\n\t\t\t\t\t\t<div class="modal-header text-white bg-primary" style=\'padding: 6.5px;\'>\n\t\t\t\t\t\t\t<p class="modal-title fsize-1 m-0 font-weight-bold" id="modalLabel">Preview</p>\n\t\t\t\t\t\t\t<button type="button" class="close text-white" onclick="viewEmailTemplate(false)"><span aria-hidden="true">&times;</span></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="modal-body px-1">\n\t\t\t\t\t\t\t<div class="mx-auto">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div class="screen">\n\t\t\t\t\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t\t\t\t\t<div class="full" id="previewEmailTemplateSecond" style="font-size:13px"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>'}function successFailedEmailMessagesModal(t){var e='<div class="modal-dialog" style="width:40%;">\n\t\t\t<div class="d-flex flex-wrap email-wrapper">\n\t\t\t\t<div class="modal-content border-0">\n\t\t\t\t\t<div class="modal-header py-1 bg-primary text-white align-items-center">\n\t\t\t\t\t\t<div class="d-flex align-items-center fsize-1 mb-0">\n\t\t\t\t\t\t\t<button type="button" class="btn btn-primary btn-sm d-flex align-items-center mr-2" style=\'gap:5px;\' onclick="selfModalHide(\'successFailedEmailMessagesModal\');gotoBackEmailModal()">\n\t\t\t\t\t\t\t\t<svg style=\'width:15px;\' xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">\n\t\t\t\t\t\t\t\t\t<path stroke-linecap="round" stroke-linejoin="round" d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span>Back</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<span class="">Selected Template: </span>\n\t\t\t\t\t\t\t<span class="" id="templateNameEmailSF"></span>\n\t\t\t\t\t\t\t<span class="" id="viewMethodCallingEmailSF"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="d-flex align-items-center">\n\t\t\t\t\t\t\t<button id="successFailedEmailMessagesModalClose" style=\'width:16px;height:16px;font-size:22px;display:flex;justify-content:center;align-items:center;padding:0px 10px 4px;\' type="button" class="btn btn-danger" onclick="selfModalHide(\'successFailedEmailMessagesModal\'); closeModalAndFlushData();">&times;</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="modal-body pt-1" style=\'max-height: 500px;overflow-y: auto;\'>\n\t\t\t\t\t\t<div id="preSuccessFailedDiv" style="display:none !important;">\n\t\t\t\t\t\t\t<table id="preSuccessFailedTable" class="table mt-1 mb-0" style="font-size:14px;min-width:450px;">\n\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t<tr style=\'background-color:#E7F3FF\'>\n\t\t\t\t\t\t\t\t\t\t<th style=\'width:80px;\' class="rounded-top-left-5 px-1 text-primary">Sr. No.</th>\n\t\t\t\t\t\t\t\t\t\t<th class="px-1 text-primary">Name</th>\n\t\t\t\t\t\t\t\t\t\t<th class="rounded-top-right-5 text-primary">Email</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody class="lead-table-css">';return null!=t&&$.each(t.users,(function(t,a){var l=t+1;if(null!=a.phoneNumber&&""!=a.phoneNumber){var n=`<i id="statusIcon_${a.leadId}" class="fa fa-spinner text-warning ml-2 fancytree-helper-spin"></i>`;"success"===a.status&&(n=`<i id="statusIcon_${a.leadId}" class="fa fa-check-circle text-success ml-2"></i>`),e+='<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p class="m-0 font-weight-bold font-12">'+l+'</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p class="m-0 font-weight-bold font-12"><span id="esmsg_'+a.leadId+'">'+a.name+'</span></p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p class="m-0 font-12">'+a.email+n+"</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>"}})),e+='</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div id="finalSuccessFailedDiv" class="d-flex flex-column" style=\'gap: 10px;\'>\n\t\t\t\t\t\t\t<div id="successEmailDiv" class="border border-success rounded-10">\n\t\t\t\t\t\t\t\t<div class="d-flex justify-content-between align-items-center">\n\t\t\t\t\t\t\t\t\t<p class="m-0 p-1 d-flex align-items-center" style=\'gap:5px;\'>\n\t\t\t\t\t\t\t\t\t\t<span id="successfulEmailsCount" style=\'padding: 1px 5px;font-size:10px;\' class="bg-primary rounded-5 text-white">'+successfulEmails.length+'</span>\n\t\t\t\t\t\t\t\t\t\t<span class="font-weight-bold">Message Sent</span>\n\t\t\t\t\t\t\t\t\t\t<i class="fa fa-solid fa-check bg-success text-white rounded-circle" style=\'width:16px;height:16px;text-align:center;padding: 3px;font-size: 10px;\'></i>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<i id=\'chevron_success_email\' class="fa fa-solid fa-chevron-down text-success px-2"></i>\n\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t<div id="successEmailTableDiv" class="full table-responsive px-1 font-12">\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<form id="resendEmailMessages" class="full d-flex flex-column" action="javascript:void(0);">\n\t\t\t\t\t\t\t\t<div id=\'failedEmailDiv\' class=\'border border-danger rounded-10\'>\n\t\t\t\t\t\t\t\t\t<div class="d-flex justify-content-between align-items-center">\n\t\t\t\t\t\t\t\t\t\t<p class="m-0 p-1 d-flex align-items-center" style=\'gap:5px;\'>\n\t\t\t\t\t\t\t\t\t\t\t<span id="failedEmailsCount" style=\'padding: 1px 5px;font-size:10px;\' class="bg-danger rounded-5 text-white">'+failedOrOtherEmails.length+`</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="font-weight-bold">Message Not Sent</span>\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-solid fa-exclamation text-white bg-danger rounded-circle" style='width:16px;height:16px;text-align:center;padding: 3px;font-size: 10px;'></i>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<i id='chevron_failed_email' class="fa fa-solid fa-chevron-down text-danger px-2"></i>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div id="failedEmailTableDiv" class="full table-responsive px-1 font-12"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t${failedOrOtherEmails.length>0?'<div id="resendEmailMessagesData">Resend</div>':""}\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div id="previewEmailModalThird" class="modal-content border-0 email-template hide-email-template" style="max-width:450px;">\n\t\t\t\t<div class="modal-header text-white bg-primary" style='padding: 6.5px;'>\n\t\t\t\t\t<p class="modal-title fsize-1 m-0 font-weight-bold" id="modalLabel">Preview</p>\n\t\t\t\t\t<button type="button" class="close text-white" onclick="viewEmailTemplate(false)"><span aria-hidden="true">&times;</span></button>\n\t\t\t\t</div>\n\t\t\t\t<div class="modal-body px-1">\n\t\t\t\t\t<div class="mx-auto">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="screen">\n\t\t\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t\t\t<div class="full" id="previewEmailTemplateThird" style="font-size:13px"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`}function successEmailTableContent(){var t='<table id="successEmailTable" class="table mt-1 mb-0" style="font-size:14px;min-width:450px;">\n\t\t\t<thead>\n\t\t\t\t<tr style=\'background-color:#E7F3FF\'>\n\t\t\t\t\t<th style=\'width:80px;\' class="rounded-top-left-5 px-1 text-primary">Sr. No.</th>\n\t\t\t\t\t<th class="px-1 text-primary">Name</th>\n\t\t\t\t\t<th class="rounded-top-right-5 text-primary">Email</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody class="lead-table-css">';return $.each(successfulEmails,(function(e,a){var l=e+1;null!=a.email&&""!=a.email&&(t+='<tr id="esmsgcol_'+a.leadId+'">\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<p class="m-0 font-weight-bold font-12">'+l+'</p>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<p class="m-0 font-weight-bold font-12"><span id="esmsg_'+a.leadId+'">'+a.name+'</span></p>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<p class="m-0 font-12">'+a.email+"</p>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>")})),t+="</tbody>\n\t\t</table>"}function failedEmailTableContent(){var t='<table id="failedEmailTable" class="table mt-1 mb-0" style="font-size:14px;min-width:450px;">\n\t\t\t<thead>\n\t\t\t\t<tr style=\'background-color:#E7F3FF\'>\n\t\t\t\t\t<th style=\'width:40px;\' class="rounded-top-left-5 text-primary">\n\t\t\t\t\t\t<span style=\'margin-left:-5px;\' class="custom-checkbox custom-control d-inline-block" id="allcheckedEmailDivFailed"> \n\t\t\t\t\t\t\t<input type="checkbox" id="allCheckedFailedEmail" value="" class="custom-control-input"> \n\t\t\t\t\t\t\t<label class="custom-control-label bold" for="allCheckedFailedEmail">All</label> \n\t\t\t\t\t\t</span>\n\t\t\t\t\t</th>\n\t\t\t\t\t<th style=\'width:70px;\' class="text-primary">Sr. No.</th>\n\t\t\t\t\t<th class="px-1 text-primary">Name</th>\n\t\t\t\t\t<th class="rounded-top-right-5 text-primary">Email</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody class="lead-table-css">';return $.each(failedOrOtherEmails,(function(e,a){var l=e+1;null!=a.email&&""!=a.email&&(t+='<tr id="esmsgcol_'+a.leadId+'">\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<div class="custom-checkbox custom-control">\n\t\t\t\t\t\t\t\t\t<input type="checkbox" name="chk-users-lead-email-resend" id="failed_'+a.leadId+'" value="'+a.leadId+'" data-email="'+a.email+'" class="custom-control-input checkToSendEmailFailed">\n\t\t\t\t\t\t\t\t\t<label id="label_failed_'+a.leadId+'" class="custom-control-label" for="failed_'+a.leadId+'"></label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class="font-weight-bold">\n\t\t\t\t\t\t\t\t'+l+'\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class="font-weight-bold">\n\t\t\t\t\t\t\t\t<input type="hidden" name="name" value="'+a.name+'" class="name font-12">\n\t\t\t\t\t\t\t\t'+a.name+'\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type="hidden" name="email" value="'+a.email+'" class="email font-12">\n\t\t\t\t\t\t\t\t'+a.email+"\n\t\t\t\t\t\t\t</td>\t\n\t\t\t\t\t\t</tr>")})),t+='</tbody>\n\t\t</table>\n\t\t<div id="selectedMessageCountOnFailedEmail" class="my-2">\n\t\t\t<span id="selectionCountOnFailedEmail" class="mb-2 bg-primary text-white px-3 p-2 rounded-5 font-12"></span>\n\t\t</div>'}function emailBroadcastLogsModal(t,e,a){let l='\n\t\t<style>\n\t\t\t#emailBroadcastLogsModal {\n\t\t\t\tborder-collapse: collapse;\n\t\t\t\tborder-radius: 10px;\n\t\t\t}\n\t\t\t#emailBroadcastLogsModal td, th {\n\t\t\t\tborder: 1px solid #f7f7f7;\n\t\t\t}\n\t\t</style>\n\t\t<div id="emailBroadcastLogsModal" class="modal fade fade-scale" role="dialog" aria-labelledby="emailBroadcastLogs" aria-hidden="true">\n\t\t\t<div class="modal-dialog" style=\'width: 70%;\'>\n\t\t\t\t<div class="d-flex flex-wrap email-wrapper">\n\t\t\t\t\t<div class="modal-content border-0">\n\t\t\t\t\t\t<div class="modal-header py-1 bg-primary text-white">\n\t\t\t\t\t\t\t<h5 class="modal-title">Email Broadcast Logs </h5>\n\t\t\t\t\t\t\t<button type="button" class="close text-white" onclick="selfModalHide(\'emailBroadcastLogsModal\')">\n\t\t\t\t\t\t\t\t<span aria-hidden="true">√ó</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="modal-body pt-1">\n\t\t\t\t\t\t\t<div class="flex-grow-1">\n\t\t\t\t\t\t\t\t<div class="full mb-1 mt-1 table-responsive" style="max-height:80vh !important;">\n\t\t\t\t\t\t\t\t\t<table class="table" id="emailBroadcastLogsTableData" style="font-size:14px; min-width:450px">\n\t\t\t\t\t\t\t\t\t\t<thead style="position:sticky;top:0;z-index:10;">\n\t\t\t\t\t\t\t\t\t\t\t<tr style=\'background-color:#E7F3FF\'>\n\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">S.No.</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">Sender</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">Email Subject</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">Sent Time</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th class="border text-primary">Action</th>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t<tbody>';return t.length>0?$.each(t,(function(e,n){var s=JSON.parse(t[e]);l+=`<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>${e+1}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>${s.senderName}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>${s.subject}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>${s.time}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn btn-primary btn-sm" onclick="getEmailBroadcastLogsTemplate(${s.actionExecutionId},'${a}')">View Template</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>`})):l+='<tr colspan="5">No Email Logs Found</tr>',l+='</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id="emailBroadcastLogsTemplateWrapper"></div> \n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>',l}function emailBroadcastLogsTemplateContent(){return'<div id="emailBroadcastLogsTemplate" class="modal fade fade-scale" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n\t\t\t<div class="modal-dialog modal-md" style=\'width: 80% !important;\'>\n\t\t\t\t<div  class="modal-content border-0 email-template" style="max-width:450px;">\n\t\t\t\t\t<div class="modal-header py-1 text-white bg-primary">\n\t\t\t\t\t\t<p class="modal-title fsize-1 m-0 font-weight-bold" id="modalLabel">Preview</p>\n\t\t\t\t\t\t<button type="button" class="close text-white" onclick="viewEmailTemplate(false)"><span aria-hidden="true">&times;</span></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="modal-body px-1">\n\t\t\t\t\t\t<div class="mx-auto">\n\t\t\t\t\t\t\t<div class="screen">\n\t\t\t\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t\t\t\t<div class="full" id="emailBroadcastLogsTemplatePreview" style="font-size:13px"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>'}function sendConfirmationModal(t){return`<div class="modal fade" id="sendConfirmationModal">\n\t\t\t<div class="modal-dialog modal-sm" role="document" style="box-shadow: none; width: 450px; max-width: 100%; margin-top: 8%;">\n\t\t\t\t<div class="modal-content text-center">\n\t\t\t\t\t<div class="modal-header justify-content-center bg-primary" style="width: 100% !important; padding: 0 0 !important; height: 45px; border: none;"></div>\n\t\t\t\t\t<div class="modal-body delete-modal">\n\t\t\t\t\t\t<p class="heading" style="color: #027FFF; font-family: arial; font-size: 18px; line-height: 28px; letter-spacing: 0.3px;">Are you sure you want to send this data?</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="modal-footer text-center" style="border: none; padding: 0; margin-bottom: 15px;">\n\t\t\t\t\t\t<div class="text-center" style="margin: 0 auto;">\n\t\t\t\t\t\t\t<button onclick="${t}" type="button" class="btn mr-1" style="color: #027FFF !important; border: 1px solid #027FFF !important; background: transparent !important;">Yes</button>\n\t\t\t\t\t\t\t<button type="button" class="btn text-white" style="background:#027FFF" data-dismiss="modal">No</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`}