var editor1,editor2,editor3,editor4,sumUnseen,BASE_TIMEZONE="Asia/Singapore",API_VERSION=CONTEXT_PATH+SCHOOL_UUID+"/api/v1/",API_VERSION_WITHOUT_UNIQUEID=CONTEXT_PATH+"/api/v1/",GLOBAL_EMAIL="",GRADE_CAL_RULE={},DEFAULT_SEARCH_STATE=!0,IGNORECOUNTRYARRAY=["AQ","BV","HM","TF","UM"],globalEntityId="",reviewDone=!1,submitted=!1,courseCategoryType=[],gradesTaught=[],gradesChanged=!1,elementary_subjects=[],middleSchool_subjects=[],highSchool_subjects=[],uploadDone=!1,FULL_NAME="",LEAVE_DATES="",TECHNICAL_GLITCH="Sorry for inconvenience, system has encountered technical glitch.",SERVICE_UNAVAILABLE="Temporarily Ticket Service is not available!",MAX_SIZE_LIMIT="Please upload maximum 5MB file in size.",MAX_SIZE_LIMIT_FOR_TEACHER="Please upload maximum 10 MB file in size.",pattern=/^(?=.*[!@#$%^&*(),.?":{}|<>])(?=.*[A-Z])(?=.*[a-z]).{8,20}$/,date=new Date,today=new Date(date.getFullYear(),date.getMonth(),date.getDate()),end=new Date(date.getFullYear(),date.getMonth(),date.getDate());function copyToClipboardText(e){var s=$("<input>");$("body").append(s),s.val(e).select(),document.execCommand("copy"),s.remove()}function redirectLoginPage(){signupPage>0?window.setTimeout((function(){window.location=BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/common/login"}),1e3):$("#continueSessionForm").length>0?(callLocationAndSelectCountryNew("continueSessionForm"),$("#password").val(""),$("#captcha").val(""),$("#sessionOutPermission").modal({backdrop:"static",keyboard:!1}),refreshCaptcha("captchaImage")):window.setTimeout((function(){window.location=BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/common/login"}),1e3)}function refreshCaptcha(e){var s=ROOTCSS.split(":#")[1].split(";")[0];null!=e&&""!=e&&$("#"+e).length>0&&(document.images[e].src=BASE_URL+API_VERSION+"common/captcha.jpg?payload="+s+"&v="+(new Date).getTime())}function getURLForHTML(e,s){return BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/"+e+"/"+s}function getURLFor(e,s){return BASE_URL+API_VERSION+e+"/"+s}function getURLForCommon(e){return BASE_URL+API_VERSION+"common/"+e}function getURLForMeeting(e){return BASE_URL+API_VERSION+"meetings/"+e}function getURLForWithoutUnique(e,s){return BASE_URL+API_VERSION_WITHOUT_UNIQUEID+e+"/"+s}function getURLForAdmissionCycle(e,s,t){return BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/"+e+"/"+s+"/"+t}function logout(e){localStorage.clear();var s=BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/common/logout/"+(UNIQUEUUID||"111");e&&(s+=e),goAheadGet(s,"")}function getURLForSignup(e,s){var t="common";return null==s||null==s?"STUDENT"==moduleId?t="student":"TEACHER"==moduleId?t="teacher":"SCHOOL"==moduleId||"SCHOOL_B2B"==moduleId?t="school":"COMMON"==moduleId&&(t="common"):t=s.toLowerCase(),API_VERSION+t+"/"+e}function setPagePosition(e){signupPage=e}function increasePosition(){signupPage+=1}function tabActiveStatus(e){signupPage=e,2==e?e=0:3==e||4==e?e=1:5==e?e=2:6==e&&(e=3),$("#formSteps div").steps("setStep",e)}function setActiveTab(e){var s=0;2==e?s=0:3==e?s=1:4==e?(s=2,submitted=!0):5==e?(s=3,reviewDone=!0):6==e&&(s=4,reviewDone=!0),"TEACHER"==USER_ROLE&&(2==s?$("#formSteps div").steps("setStep",2):$("#formSteps div").steps("setStep",s)),2==s&&showPendingApprovalPopup(4)}function showPendingApprovalPopup(){$("#submitInterviewSlotModal").modal("hide"),$("#inReviewForTeacherDetailsModal").modal({backdrop:"static",keyboard:!1}),$("#inReviewForTeacherDetailsModal").modal("show")}function showModalMessage(e,s,t){showMessage(e,s,t,!1)}function hideModalMessage(e,s){e||($(".messageModalDiv").addClass("hide"),$(".messageModalDiv1").html(""),$(".messageModalDiv").hide())}function showMessageBankDetails(e,s,t){e?($("#errorHeading").html("Error! Be focus on work"),$("#statusMessageBD").addClass("danger-color"),$("#statusMessageBD").removeClass("success-color")):($("#errorHeading").html("Information!"),$("#statusMessageBD").removeClass("danger-color"),$("#statusMessageBD").addClass("success-color")),$("#statusMessageBD").html(s),$("#modalMessageBD").show(),$("#withdrawnRequestBankForm .modal-body").animate({scrollTop:0},"slow"),setTimeout((function(){$("#modalMessageBD").hide()}),5e3)}function showMessage(e,s,t,a){if(""==s)return!1;$("#messageDiv1").removeClass("error"),$("#messageDiv1").removeClass("success"),$("#messageDiv1").removeClass("notification"),$("#messageDiv").show(),0==e||0==e?($("#messageDiv1").addClass("error"),$("#messageDiv1").html('<i class="fa fa-times-circle"></i>&nbsp;'+s)):1==e||1==e?($("#messageDiv1").addClass("success"),$("#messageDiv1").html('<i class="fa fa-check-circle"></i>&nbsp;'+s)):2==e&&($("#messageDiv1").addClass("notification"),$("#messageDiv1").html('<i class="fa fa-info-circle"></i>&nbsp;'+s)),$(".server-error-message").addClass("show"),setTimeout((function(){$(".server-error-message").hasClass("show")&&$(".server-error-message").removeClass("show")}),5e3),a&&setTimeout((function(){$(".server-error-message").removeClass("show")}),3e3)}function hideMessage(e,s){e||($("#messageDiv1").html(""),$("#messageDiv").hide())}function showMessageTheme2(e,s,t,a,o){if(null!=o&&null!=o&&""!=o||(o=6e3),""==s)return!1;hideMessageTheme2(t),$("#msgTheme2").removeClass("error"),$("#msgTheme2").removeClass("success"),$("#msgTheme2").removeClass("notification"),0==e?($("#msgTheme2").addClass("error"),$("#msgTheme2").html('<i class="fa fa-exclamation-triangle"></i>&nbsp;'+s)):1==e?($("#msgTheme2").addClass("success"),$("#msgTheme2").html('<i class="fa fa-check"></i>&nbsp;'+s)):2==e&&($("#msgTheme2").addClass("notification"),$("#msgTheme2").html('<i class="fa fa-info"></i>&nbsp;'+s)),$(".server-message").addClass("show"),setTimeout((function(){$(".server-message").removeClass("show")}),o),a&&setTimeout((function(){$("#msgTheme2").html(""),$(".server-message").removeClass("show")}),o)}function hideMessageTheme2(e){$("#msgTheme2").html(""),$(".server-message").removeClass("show")}function showHideDiv(e,s){e?($("#"+s).removeClass("show"),$("#"+s).addClass("hide")):($("#"+s).removeClass("hide"),$("#"+s).addClass("show"))}function getHash(){return Math.random().toString(36)}function showMessageRequestDemoPage(e,s,t,a){$("#"+t).parent().addClass("show-message"),a.length>0&&($("#"+a).addClass("highlight-field"),$("#"+a).next().find(".select2-selection__rendered").addClass("highlight-field")),$("#"+t).html(s)}function hideMessageRequestDemoPage(e,s){$("#"+e).parent().removeClass("show-message"),s.length>0&&($("#"+s).removeClass("highlight-field"),$("#"+s).next().find(".select2-selection__rendered").removeClass("highlight-field")),$("#"+e).html("")}function showMessageErrorNew(e,s,t){e||$("#"+t).addClass("success-msg"),$("#"+t).addClass("show-errow-msg"),$("#"+t).html(s)}function hideMessageErrorNew(e){$("#"+e).removeClass("success-msg"),$("#"+e).removeClass("show-errow-msg"),$("#"+e).html("")}function buildDropdown(e,s,t){s.html(""),""!=e?(s.append('<option value="">'+t+"</option>"),$.each(e,(function(e,t){null!=t.extra&&null!=t.extra1?s.append('<option value="'+t.key+'">'+t.extra+" - "+t.extra1+"</option>"):null!=t.extra?"selected"==t.extra?s.append('<option disabled selected value="'+t.key+'">'+t.value+"</option>"):(t.extra,s.append('<option value="'+t.key+'"> '+t.value+"</option>")):s.append('<option value="'+t.key+'">'+t.value+"</option>")}))):s.append('<option value="0">'+t+"</option>")}function resetDropdown(e,s){e.html("")}function customLoader(e){e?0==signupPage?($("#commonloaderIdNewLoader").removeClass("hide-loader"),$("#commonloaderId").show(),$("#commonloaderBody").show()):($("#commonloaderId").hide(),$("#commonloaderBody").hide()):0==signupPage?(setTimeout((function(){$("#commonloaderIdNewLoader").addClass("hide-loader"),$("#commonloaderId").hide(),$("#commonloaderBody").hide()}),1e3),$("#topProfileImage").show(),$(".dt-responsive tbody tr td:first-child").addClass("dtr-control")):setTimeout((function(){$("#commonloaderId").hide(),$("#commonloaderBody").hide()}),800)}function customLoaderExternalPage(e){e?$("#newThemeloader").modal({backdrop:"static",keyboard:!1}):setTimeout((function(){$("#newThemeloader").modal("hide")}),800)}function checkonlineOfflineStatus(){return!navigator.onLine&&("theme1"==tt?showMessage(!0,"Your device is offline, please check your internet connection."):showMessageTheme2(0,"Your device is offline, please check your internet connection.","",!0),!0)}function goAheadGet(e,s){var t=$('<form action="'+e+'" method="GET"><input type="hidden" name="hash" id="hash" value="'+s+'" /></form>');$("body").append(t),$(t).submit()}function goAhead(e,s){var t=$('<form action="'+e+'" method="POST"><input type="hidden" name="hash" id="hash" value="'+s+'" /></form>');$("body").append(t),$(t).target="_blank",$(t).submit()}function callEmailCheck(e,s){if(hideMessage(""),$(".error-msg").html(""),!$("#"+e+" #email").val().trim())return!0;$("#email").prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("is-user-available"),data:JSON.stringify(getRequestForEmailCheck(e,s)),dataType:"json",success:function(s){return s.emailVerified||"1"!=s.status?validEndInvalidField(!0,"email"):($("#emailValidatorEle").text($("#email").val()),$(".emailValidatorModal").addClass("show"),$(".emailValidatorModal").addClass("animate__fadeInUpBig"),$(".emailValidatorModal").removeClass("animate__fadeOutUpBig"),$(".blur-overlary").show()),$("#allReadyEmailFooter").hide(),"0"!=s.status&&"2"!=s.status||("0044"==s.statusCode||"0043"==s.statusCode?(showWrapper(!0),hideStep1Div(),$("#emailVerify").show()):"02"==s.statusCode?(showWrapper(!0),hideStep1Div(),$("#userDeclined").show()):showMessage(1,s.message)),$("#"+e+" #email").prop("disabled",!1),!1},error:function(s){$("#"+e+" #email").prop("disabled",!1)}})}function validateRequestForEmailCheck(e){return validateEmail($("#"+e+" #email").val().trim())?(validEndInvalidField(!0,"email"),!0):($("#"+e+" #email").css("color","#a9a9a9"),validEndInvalidField(!1,"email"),showMessage(!1,"email","Student email is either empty or invalid"),!1)}function getRequestForEmailCheck(e,s){var t={},a={},o={requestKey:"EMAIL-AVAILABLE"};return o.email=$("#"+e+" #email").val().trim(),a.hash=getHash(),a.schoolId=SCHOOL_ID,a.schoolUUID=SCHOOL_UUID,a.userType=s,t.authentication=a,t.data=o,t}function emailCheck(e,s){var t="";return hideMessage(""),validateEmail(e)?($.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("is-user-available"),data:JSON.stringify(getCallRequestForEmailCheck(e,s)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(e){"0"==e.status||"2"==e.status?(showMessage(0,"Email already exist"),t=!1):t=!0},error:function(e){console.log("ERROR : ",e)}}),t):(showMessage(0,"Email is either empty or invalid"),!1)}function getCallRequestForEmailCheck(e,s,t){var a={},o={},r={requestKey:"EMAIL-AVAILABLE"};return r.email=e,r.requestExtra1=t,o.hash=getHash(),o.schoolId=SCHOOL_ID,o.schoolUUID=SCHOOL_UUID,o.userType=s,a.authentication=o,a.data=r,a}function callCities(e,s,t,a){var o=!1;return hideMessage(""),null==a&&(a="cityId"),validateRequestForMaster(e,t)?($("#"+e+" #"+a).prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster("formId","CITIES-LIST",s)),dataType:"json",async:!1,success:function(s){"0"==s.status||"2"==s.status?showMessage(1,s.message):buildDropdown(s.mastersData.cities,$("#"+e+" #"+a),"Select City*"),$("#"+e+" #"+a).prop("disabled",!1),o=!0},error:function(s){$("#"+e+" #"+a).prop("disabled",!1),o=!1}}),o):(resetDropdown($("#"+e+" #"+a),"Select City*"),$("#"+e+" #"+a).val()&&$("#"+e+" #"+a).val(0).trigger("change"),!1)}function callCitiesNew(e,s,t,a){var o=!1;return hideMessage(""),validateRequestForMaster(e,t)?($("#"+e+" #"+a).prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster("formId","CITIES-LIST",s)),dataType:"json",async:!1,success:function(s){"0"==s.status||"2"==s.status?showMessage(1,s.message):buildDropdown(s.mastersData.cities,$("#"+e+" #"+a),"Select city*"),$("#"+e+" #"+a).prop("disabled",!1),o=!0},error:function(s){$("#"+e+" #"+a).prop("disabled",!1),o=!1}}),o):($("#"+e+" #"+a).val(0),resetDropdown($("#"+e+" #"+a),"Select city*"),!1)}function getAllCountryTimezone(e,s,t){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"TIMEZONE-LIST",s)),dataType:"json",cache:!1,timeout:6e5,success:function(s){"0"==s.status||"2"==s.status?showMessage(1,s.message):($.each(s.mastersData.countryTimeZones,(function(s,a){$("#"+e+" #"+t).append('<option custom_timezone_id="'+a.key+'" value="'+a.value+'">('+a.extra+") - "+a.extra1+"/"+a.extra3+"</option>")})),$("#"+e+"Alternet #"+t).length&&$("#"+e+"Alternet #"+t).html($("#"+e+" #"+t).html()))}})}function callISDCode(e,s,t){$("#"+e+" #"+t).html('<option value="">Select ISD code</option>'),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"COUNTRIES-LIST",s)),dataType:"json",cache:!1,timeout:6e5,success:function(s){"0"==s.status||"2"==s.status?showMessage(1,s.message):$.each(s.mastersData.countries,(function(s,a){$("#"+e+" #"+t).append('<option value="'+a.extra1+'">'+a.extra1+" "+a.value+"</option>")})),$("#"+e+"Alternet #"+t).length&&$("#"+e+"Alternet #"+t).html($("#"+e+" #"+t).html()),callLocationAndSelectCountryNew(e)}})}function callCountries(e,s,t,a){return $("#"+e+" #"+t).html('<option value="">Select country*</option>'),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"COUNTRIES-LIST",s)),dataType:"json",async:!1,success:function(s){"0"==s.status||"2"==s.status?showMessage(1,s.message):$.each(s.mastersData.countries,(function(s,o){$("#"+e+" #"+t).append('<li class="option '+a+'" value="'+o.key+'">'+o.value+"</li>")})),$("#"+e+"Alternet #"+t).length&&$("#"+e+"Alternet #"+t).html($("#"+e+" #"+t).html())}}),!0}function callCountriesOption(e,s,t,a){$("#"+e+" #"+t).html('<option value="">Select country*</option>'),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"COUNTRIES-LIST",s)),dataType:"json",async:!1,success:function(s){"0"==s.status||"2"==s.status?showMessage(1,s.message):buildDropdownCountry(s.mastersData.countries,$("#"+e+" #"+t),"Select Country*")}})}function callStates(e,s,t,a,o){return hideMessage(""),null==a&&(a="stateId"),null==o&&(o="cityId"),validateRequestForMaster(e,t)?($("#"+a).prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"STATES-LIST",""==s?$("#"+t).val():s)),dataType:"json",async:!1,success:function(s){"0"==s.status||"2"==s.status?showMessage(1,s.message):buildDropdown(s.mastersData.states,$("#"+e+" #"+a),"Select State/Province*"),$("#"+e+" #"+a).prop("disabled",!1)},error:function(s){$("#"+e+" #"+a).prop("disabled",!1)}}),!0):(resetDropdown($("#"+e+" #"+a),"Select State/Province*"),$("#"+e+" #"+a).val(0).trigger("change"),resetDropdown($("#"+e+" #"+o),"Select City*"),$("#"+e+" #"+o).val(0).trigger("change"),!1)}function validateRequestForMaster(e,s){return null!=$("#"+e+" #"+s).val()&&(""!=$("#"+e+" #"+s).val().trim()&&0!=$("#"+e+" #"+s).val().trim())}function callStatesNew(e,s,t,a){return hideMessage(""),validateRequestForMaster(e,t)?($("#stateId").prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"STATES-LIST",s)),dataType:"json",async:!1,success:function(s){"0"==s.status||"2"==s.status?showMessage(1,s.message):buildDropdown(s.mastersData.states,$("#"+e+" #"+a),"Select State/Province*"),$("#"+e+" #"+a).prop("disabled",!1)},error:function(s){$("#"+e+" #"+a).prop("disabled",!1)}}),!0):($("#"+e+" #"+a).val(0),resetDropdown($("#"+e+" #stateId"),"Select State/Province*"),$("#"+e+" #cityId").val(0),resetDropdown($("#"+e+" #cityId"),"Select City*"),!1)}function callForResetPassword(e,s){return hideMessage(""),""==$("#password").val().trim()&&""==$("#confirmPassword").val().trim()?(showMessageTheme2(!1,"Fields are not valid","",!1),!1):$("#password").val().trim()!=$("#confirmPassword").val().trim()?(showMessageTheme2(!1,"Password does not match.","",!1),!1):pattern.test($("#"+e+" #password").val())?pattern.test($("#"+e+" #confirmPassword").val().trim())?void $.ajax({type:"POST",url:getURLForCommon("reset-password"),contentType:"application/json",data:JSON.stringify(getRequestForReset(e,s)),dataType:"json",success:function(e){return"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():"theme1"==tt?showMessage(!1,e.message):showMessageTheme2(0,e.message,"",!0):"S001"==e.statusCode?(showMessage(!0,e.message),setTimeout((function(){logout()}),1500)):showMessage(!0,e.message),!1}}):(showMessageTheme2(!1," Confirm password must match all requirements","",!1),!1):(showMessageTheme2(!1," New password must match all requirements","",!1),!1)}function getRequestForReset(e,s){var t={},a={},o={};return o.password=encode($("#"+e+" #password").val().trim()),o.confirmPassword=encode($("#"+e+" #confirmPassword").val().trim()),a.hash=getHash(),a.schoolId=SCHOOL_ID,a.schoolUUID=SCHOOL_UUID,a.userType=s,a.userId=$("#"+e+" #userId").val().trim(),t.authentication=a,t.data=o,t}function callForEmailForgot(e,s){if(hideMessage(""),!validateForEmailForgot(e))return!1;$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("forgot-password"),data:JSON.stringify(getRequestForForgot(e,s)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?"0047"==e.statusCode?(showWrapper(!0),$("#emailNotVerify").html(e.message),$("#emailNotVerify").show(),$("#allReadyEmailFooter").show(),$("#emailVerify").hide(),$("#userDeclined").hide()):showMessage(1,e.message):($("#forgotPassword #emailid").val().trim(""),$("#forgotPassword").modal("hide"),showMessage(0,e.message)),!1},error:function(e){console.log("ERROR : ",e)}})}function validateForEmailForgot(e){return!!validateEmail($("#"+e+" #emailid").val().trim())||($("#"+e+" #emailid").css("color","#a9a9a9"),showMessage(0,"Please enter a valid email."),!1)}function getRequestForForgot(e,s){var t={},a={},o={requestKey:"FORGOT-PASSWORD"};return o.requestValue=$("#"+e+" #emailid").val().trim(),a.hash=getHash(),a.schoolId=SCHOOL_ID,a.schoolUUID=SCHOOL_UUID,a.userType=s,t.authentication=a,t.data=o,t}function callForEmailResend(e,s,t){if(hideMessage(""),!validateForEmailResend(e))return!1;$("#resendEmail").prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("resend-email-verification"),data:JSON.stringify(getRequestForEmailResend(e,s,t)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?(e.statusCode,showServerMessageWrapper(!1,e.message)):showServerMessageWrapper(!1,e.message),$("#resendEmail").prop("disabled",!1),!1},error:function(e){$("#resendEmail").prop("disabled",!1)}})}function validateForEmailResend(e){return!!validateEmail(e)||(showMessage(0,"Email is either empty or invalid"),!1)}function getRequestForEmailResend(e,s,t){var a={},o={},r={requestKey:"EMAIL-RESEND"};return r.email=e,r.sendStatus=t,o.hash=getHash(),o.schoolId=SCHOOL_ID,o.schoolUUID=SCHOOL_UUID,o.userType=s,a.authentication=o,a.data=r,a}function validateRequestForContact(e){return 0==$("#"+e+" #countryId").val().trim()||null==$("#"+e+" #countryId").val()?(showMessage(1,"Country is required"),!1):0==$("#"+e+" #stateId").val().trim()||null==$("#"+e+" #stateId").val()?(showMessage(1,"State is required"),!1):0==$("#"+e+" #cityId").val().trim()||null==$("#"+e+" #cityId").val()?(showMessage(1,"City is required"),!1):""==$("#"+e+" #name").val().trim()?(showMessage(1,"Name is required"),!1):validateEmail($("#"+e+" #email").val().trim())?0==$("#"+e+" #countryCode").val().trim()?(showMessage(1,"Country Code is required"),!1):0==$("#"+e+" #contactNumber").val().trim()?(showMessage(1,"Contact Number is required"),!1):0==$("#"+e+" #contactDescription").val().trim()?(showMessage(1,"Contact Description is required"),!1):!!validateCaptcha($("#"+e+" #captcha").val().trim())||(showMessage(0,"Either captcha is empty or invalid"),!1):(showMessage(0,"Email is either empty or invalid"),!1)}function getRequestForContact(e,s){var t={},a={},o={},r={};return r.countryId=$("#"+e+" #countryId").val().trim(),r.stateId=$("#"+e+" #stateId").val().trim(),r.cityId=$("#"+e+" #cityId").val().trim(),r.name=$("#"+e+" #name").val().trim(),r.email=$("#"+e+" #email").val().trim(),r.isdCode=$("#"+e+" #countryCode").val().trim(),r.contactNumber=$("#"+e+" #contactNumber").val().trim(),r.contactDescription=$("#"+e+" #contactDescription").val().trim(),r.captcha=$("#"+e+" #captcha").val().trim(),o.contactUsDTO=r,a.hash=getHash(),a.schoolId=SCHOOL_ID,a.schoolUUID=SCHOOL_UUID,a.userType=s,t.authentication=a,t.requestData=o,console.log("request "+t),t}function callUserContact(e,s){if(hideMessage(""),!validateRequestForContact(e))return!1;$("#login").prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("contact"),data:JSON.stringify(getRequestForContact(e,s)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?(refreshCaptcha("captchaImage"),showMessage(1,e.message)):showMessage(0,e.message),$("#login").prop("disabled",!1),!1},error:function(e){$("#login").prop("disabled",!1)}})}function getFinalValue(e){var s={};return s.payload=encode(JSON.stringify(e)),console.log("getFinalValue 2"+JSON.stringify(s)),s}function bindFileUpload(e,s,t){var a={};a.uploadCategory=s,a.uploadUserId=t,$("#fileupload"+e).fileupload({formData:{payload:JSON.stringify(getFinalValue(a))},url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/api/upload/"+UNIQUEUUID,dataType:"json",type:"POST",enctype:"multipart/form-data",global:!1,add:function(e,s){var t=[],a=!1;if(s.originalFiles[0].type.length&&(/^image\/(png|jpe?g)$/i.test(s.originalFiles[0].type)||/^application\/pdf$/i.test(s.originalFiles[0].type))||(a=!0),a&&t.push("Please upload files in following formats (jpg, jpeg, pdf or png)."),s.originalFiles.length&&s.originalFiles[0].size>5242880&&(t.push(MAX_SIZE_LIMIT),a=!0),t.length>0)return showMessage(1,t.join("\n")),!1;s.process().done((function(){s.submit()}))},start:function(s){customLoader(!0),$("#fileupload"+e+"Span").html(""),$("#fileupload"+e+"Progress .progress-bar").css("width","0%"),$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").removeClass("progress-bar-danger")},send:function(s,t){$("#fileupload"+e+"Progress .progress-bar").css("width","5%")},done:function(s,t){customLoader(!1),0==t.result.status||3==t.result.status?($("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").addClass("progress-bar-danger"),(t.result.message.includes("Your session has been timed out")||3==t.result.status)&&redirectLoginPage()):$.each(t.result.uploadFiles,(function(s,t){if(1==t.status){var a="";1==e?a="fa fa-user":2==e?a="fa fa-calendar":3==e?a="fa fa-home":4==e?a="fa fa-image":5==e&&(a="fa fa-graduation-cap"),$("#fileupload"+e+"Response").removeClass(a),$("#fileupload"+e+"Response").removeClass("label-error").addClass("fa fa-check-circle green"),""==$("#fileupload"+e+"Span").html()?$("#fileupload"+e+"Span").html(t.fileName):$("#fileupload"+e+"Span").html($("#fileupload"+e+"Span").html()+","+t.fileName),1==e&&$(".profile-pic").attr("src",FILE_UPLOAD_PATH+t.fileName)}}))},progressall:function(s,t){$("#fileupload"+e+"ProgressStatus").removeClass("label-error").addClass("fa fa-check-circle green"),$("#fileupload"+e+"Progress .progress-bar").css("width","100%")},fail:function(s,t){$("#fileupload"+e+"ProgressStatus").addClass("label-error"),showMessage(1,MAX_SIZE_LIMIT)}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")}function bindFileUploadNew(e,s,t){var a={};a.uploadCategory=s,a.uploadUserId=t,$("#"+e).fileupload({formData:{payload:JSON.stringify(getFinalValue(a))},url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/api/upload/"+UNIQUEUUID,dataType:"json",type:"POST",enctype:"multipart/form-data",global:!1,add:function(e,s){var t=[],a=!1;if(s.originalFiles[0].type.length&&(/^image\/(png|jpe?g)$/i.test(s.originalFiles[0].type)||/^application\/pdf$/i.test(s.originalFiles[0].type))||(a=!0),a&&t.push("Please upload files in following formats (jpg, jpeg, pdf or png)."),s.originalFiles.length&&s.originalFiles[0].size>5242880&&(t.push(MAX_SIZE_LIMIT),a=!0),t.length>0)return showMessage(1,t.join("\n")),!1;s.process().done((function(){s.submit()}))},start:function(s){0!=signupPage?$("#commonloaderId, #commonloaderBody").show():customLoader(!0),$("#"+e).parents(".file-tab").find("span.fileName").text()},send:function(e,s){console.log("send")},done:function(s,t){0!=signupPage?$("#commonloaderId, #commonloaderBody").hide():customLoader(!1),console.log("done"),0==t.result.status||3==t.result.status?(t.result.message.includes("Your session has been timed out")||3==t.result.status)&&redirectLoginPage():$.each(t.result.uploadFiles,(function(s,a){1==a.status&&(console.log("aya"),console.log("file: "+a),$("#"+e).parents(".file-tab").find("span.fileName").text(a.fileName),console.log($("#"+e).parents(".file-tab").find("span.fileName").text(a.fileName)),"application/pdf"==t.originalFiles[0].type&&$("#"+e).parents(".file-tab").find("img").attr("src",PATH_FOLDER_IMAGE+"pdf.jpg"))}))},progressall:function(e,s){console.log("progressall")},fail:function(s,t){console.log("fail"),$("#fileupload"+e+"Progress .progress-bar").css("width","100%"),$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").addClass("progress-bar-danger"),showMessage(1,MAX_SIZE_LIMIT)}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")}function bindFileUploadNew1(e,s,t,a,o){var r={};r.uploadCategory=s,r.uploadUserId=t,r.skipSession=o,$("#fileupload"+e).fileupload({formData:{payload:JSON.stringify(getFinalValue(r))},url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/api/upload/"+UNIQUEUUID,dataType:"json",type:"POST",enctype:"multipart/form-data",global:!1,add:function(t,a){var o=[],r=!1;if(a.originalFiles[0].type.length&&(/^image\/(png|jpe?g)$/i.test(a.originalFiles[0].type)||/^application\/pdf$/i.test(a.originalFiles[0].type))||(r=!0),r&&o.push(" Please upload files in following formats (jpg, jpeg, pdf or png)."),1==SCHOOL_ID?("TEACHER"!=USER_ROLE&&a.originalFiles.length&&a.originalFiles[0].size>10276044.8||"TEACHER"==USER_ROLE&&a.originalFiles.length&&a.originalFiles[0].size>10276044.8)&&("TEACHER"==USER_ROLE?o.push(MAX_SIZE_LIMIT_FOR_TEACHER):o.push(MAX_SIZE_LIMIT),r=!0):("TEACHER"!=USER_ROLE&&a.originalFiles.length&&a.originalFiles[0].size>5767168||"TEACHER"==USER_ROLE&&a.originalFiles.length&&a.originalFiles[0].size>5767168)&&(USER_ROLE,o.push(MAX_SIZE_LIMIT),r=!0),o.length>0)return"34"==s||"35"==s||"36"==s||"37"==s||"38"==s?(showMessageErrorNew(!0,o.join("\n"),"evaluationDocsError"),!1):"theme1"==tt?(showMessage(0,o.join("\n"),"",!1),setTimeout((function(){$("#fileupload"+e+"Span").html("No file Selected")}),1e3),!1):(showMessageTheme2(0,o.join("\n"),"",!1),setTimeout((function(){$("#fileupload"+e+"Span").html("No file Selected")}),1e3),!1);a.process().done((function(){a.submit()}))},start:function(t){0!=signupPage?$("#commonloaderId, #commonloaderBody").show():customLoader(!0),1==a?($("#fileupload"+e+"Span").html(""),$("#fileupload"+e+"Progress .progress-bar").css("width","0%"),$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").removeClass("progress-bar-danger")):2==a?($("#fileupload"+e).parents(".file-tab").find("span.fileName").text(),"34"!=s&&"35"!=s&&"36"!=s&&"37"!=s&&"38"!=s||("34"==s?(hideMessageErrorNew("fileupload1Error"),showMessageErrorNew(!1,"","fileupload1Error")):"35"==s?(hideMessageErrorNew("fileupload2Error"),showMessageErrorNew(!1,"","fileupload2Error")):"36"==s?showMessageErrorNew(!1,"","fileupload3Error"):"37"==s?showMessageErrorNew(!1,"","fileupload4Error"):"38"==s&&showMessageErrorNew(!1,"","fileupload5Error"))):3==a&&($("#fileupload"+e).parents(".file-tab").find("span.fileName").text(),$("#fileupload"+e).parent("span").parent("p").parent("div").find("i").removeClass("fa-check-circle-o"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("i").removeClass("fa-close"))},send:function(s,t){console.log("send"),1==a&&$("#fileupload"+e+"Progress .progress-bar").css("width","5%")},done:function(t,o){uploadDone=!0,0!=signupPage?$("#commonloaderId, #commonloaderBody").hide():customLoader(!1),console.log("done"),0==o.result.status||3==o.result.status?(1==a?($("#fileupload"+e+"Progress .progress-bar").css("width","100%"),$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").addClass("progress-bar-danger")):2==a?$("#fileupload"+e).parents(".file-tab").find("span.fileName").text():3==a?($("#fileupload"+e).parent("span").parent("p").parent("div").find("i").removeClass("fa-check-circle-o"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("i").removeClass("fa-close"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("i").addClass("fa fa-close"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("h1").attr("style","color:red"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("span.fileName").html(""),$("#fileupload"+e).parent("span").parent("p").find("a.view").next("a.remove").attr("style","display:none;"),$("#fileupload"+e).parent("span").parent("p").find("a.view").attr("style","display:none;")):4==a&&($("#fileName"+e).html(""),$("#divdeleteDocument"+e).attr("style","display:none;"),$("#divshowDocument"+e).attr("style","display:none;")),showMessageTheme2(0,o.result.message,"",!0),(o.result.message.includes("Your session has been timed out")||3==o.result.status)&&redirectLoginPage()):$.each(o.result.uploadFiles,(function(t,r){if(1==r.status){if(console.log("file: "+r),1==a){var n="";1==e?n="fa fa-user":2==e?n="fa fa-calendar":3==e?n="fa fa-home":4==e?n="fa fa-image":5==e&&(n="fa fa-graduation-cap"),$("#fileupload"+e+"Response").removeClass(n),$("#fileupload"+e+"Response").removeClass("label-error").addClass("fa fa-check-circle green"),""==$("#fileupload"+e+"Span").html()?$("#fileupload"+e+"Span").html(r.fileName):$("#fileupload"+e+"Span").html($("#fileupload"+e+"Span").html()+","+r.fileName),1==e&&($(".profile-pic").attr("src",FILE_UPLOAD_PATH+r.fileName),$("#dropDownProfileImage").attr("src",FILE_UPLOAD_PATH+r.fileName),$("#topProfileImage").attr("src",FILE_UPLOAD_PATH+r.fileName))}else 2==a?(hideMessageErrorNew("evaluationDocsError"),console.log($("#fileupload"+e).parents(".file-tab").find("span.fileName").text(r.fileName)),$("#evluationATTachement"+e).val(r.fileName),"application/pdf"==o.originalFiles[0].type?($("#fileupload"+e).parents(".file-tab").find("img").attr("src",FILE_UPLOAD_PATH+r.fileName+"pdf.jpg"),$(".pdf"+e+" .stu-view"+e).attr("href",FILE_UPLOAD_PATH+r.fileName),$(".pdf"+e).attr("title",r.fileName),$(".other-img"+e).css({display:"none"}),$(".pdf"+e+", .delete-upload"+e).css({display:"inline-block"}),validateElement("evalualionFormRequest","fileupload"+e,"fileupload"+e+"Error")):($("#fileupload"+e).parents(".file-tab").find("span.fileName").text(r.fileName),$(".other-img"+e+" .stu-view"+e).attr("href",'javascript:showDocument("'+FILE_UPLOAD_PATH+r.fileName+'");'),$(".other-img"+e).attr("title",r.fileName),$(".pdf"+e).css({display:"none"}),$(".other-img"+e+", .delete-upload"+e).css({display:"inline-block"}),validateElement("evalualionFormRequest","fileupload"+e,"fileupload"+e+"Error"))):3==a?($("#fileupload"+e+"img").attr("fileName",r.fileName),$("#fileupload"+e+"img").attr("href",'javascript:removeDocument("'+e+'","'+a+'");'),"application/pdf"==o.originalFiles[0].type?($("#fileupload"+e+"img").addClass("full mt-1"),$("#fileupload"+e+"img").attr("target","_blank"),$("#fileupload"+e+"img").attr("href",FILE_UPLOAD_PATH+r.fileName),setTimeout((function(){$("#fileupload"+e+"imgIcon").attr("src",PATH_FOLDER_IMAGE2+"pdf.jpg")}),3e3),console.log("PATH_FOLDER_IMAGE2 : "+PATH_FOLDER_IMAGE2)):($("#fileupload"+e+"img").addClass("full mt-1"),$("#fileupload"+e+"img").attr("target","_self"),$("#fileupload"+e+"img").attr("href",'javascript:showDocument("'+FILE_UPLOAD_PATH+r.fileName+'");'),setTimeout((function(){$("#fileupload"+e+"imgIcon").attr("src",FILE_UPLOAD_PATH+r.fileName)}),3e3)),("2"==s||"3"==s||"4"==s||"14"==s||"15"==s||"16"==s||"17"==s)&&""!=o.result.userRole&&"STUDENT"!=o.result.userRole||$("#fileupload"+e+"div").hide()):4==a&&($("#fileName"+e).html(r.fileName),$("#fileupload"+e+"Span").html(r.fileName),$("#deleteDocument"+e).attr("href",'javascript:removeDocument("'+e+'","'+a+'");'),$("#divdeleteDocument"+e).attr("style","display:block;"),$("#divshowDocument"+e).attr("style","display:block;"),"application/pdf"==o.originalFiles[0].type?($("#showDocument"+e).attr("target","_blank"),$("#showDocument"+e).attr("href",FILE_UPLOAD_PATH+r.fileName)):($("#showDocument"+e).attr("target","_self"),$("#showDocument"+e).attr("href",'javascript:showDocument("'+FILE_UPLOAD_PATH+r.fileName+'");')));"34"==s||"35"==s||"36"==s||"37"==s||"38"==s?setTimeout((function(){"34"==s?(hideMessageErrorNew("fileupload1Error"),showMessageErrorNew(!1," Document uploaded successfully.","fileupload1Error")):"35"==s?(hideMessageErrorNew("fileupload2Error"),showMessageErrorNew(!1," Document uploaded successfully.","fileupload2Error")):"36"==s?showMessageErrorNew(!1," Document uploaded successfully.","fileupload3Error"):"37"==s?showMessageErrorNew(!1," Document uploaded successfully.","fileupload4Error"):"38"==s&&showMessageErrorNew(!1," Document uploaded successfully.","fileupload5Error")}),500):"theme1"==tt?showMessage(1," Document uploaded successfully.","",!0):showMessageTheme2(1," Document uploaded successfully.","",!0)}}))},progressall:function(s,t){console.log("progressall"),1==a&&($("#fileupload"+e+"ProgressStatus").removeClass("label-error").addClass("fa fa-check-circle green"),$("#fileupload"+e+"Progress .progress-bar").css("width","100%"))},fail:function(s,t){console.log("fail"),0!=signupPage?$("#commonloaderId, #commonloaderBody").hide():customLoader(!1),1==a?($("#fileupload"+e+"ProgressStatus").addClass("label-error"),showMessageTheme2(0,MAX_SIZE_LIMIT,"",!1)):2==a?($("#fileupload"+e+"Progress .progress-bar").css("width","100%"),$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").addClass("progress-bar-danger")):3==a&&($("#fileupload"+e).parent("span").parent("p").parent("div").find("i").addClass("fa fa-close"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("h1").attr("style","color:red"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("span.fileName").html(""),$("#fileupload"+e).parent("span").parent("p").find("a.view").next("a.remove").attr("style","display:none;"),$("#fileupload"+e).parent("span").parent("p").find("a.view").attr("style","display:none;")),"theme2"==tt?showMessage(2,MAX_SIZE_LIMIT,"",!1):showMessageTheme2(2,MAX_SIZE_LIMIT,"",!1),showMessageTheme2(2,MAX_SIZE_LIMIT,"",!1)}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")}function bindFileUploadForCSV(e,s,t){var a={};a.uploadStudentId=s,a.uploadStandardId=t,$("#fileupload"+e).fileupload({formData:{payload:JSON.stringify(getFinalValue(a))},url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/api/upload-csv/"+UNIQUEUUID,dataType:"json",type:"POST",enctype:"multipart/form-data",global:!1,add:function(e,s){var t=[],a=!1;if(console.log("bindFileUploadForCSV type: "+s.originalFiles[0].type),s.originalFiles[0].type.length&&(/^application\/vnd.ms-excel$/i.test(s.originalFiles[0].type)||/^text\/csv$/i.test(s.originalFiles[0].type))||(a=!0),a&&t.push("Please upload files in following formats csv."),s.originalFiles.length&&s.originalFiles[0].size>10485760&&(t.push("Please upload maximum 10MB file in size."),a=!0),t.length>0)return showMessage(1,t.join("\n")),!1;s.process().done((function(){s.submit()}))},start:function(s){customLoader(!1),$("#fileupload"+e+"Span").html(""),$("#fileupload"+e+"Progress .progress-bar").css("width","0%"),$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").removeClass("progress-bar-danger")},send:function(s,t){$("#fileupload"+e+"Progress .progress-bar").css("width","5%")},done:function(s,t){customLoader(!1),0==t.result.status?$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").addClass("progress-bar-danger"):$.each(t.result.uploadFiles,(function(s,t){if(1==t.status){$("#fileupload"+e+"ChoosenFile").html(t.fileName),$("#fileupload"+e+"Hash").val(t.hash),fileupload1Hash,$("#fileupload"+e+"Response").removeClass(""),$("#fileupload"+e+"Response").removeClass("label-error").addClass("fa fa-check-circle green"),""==$("#fileupload"+e+"Span").html()?$("#fileupload"+e+"Span").html(t.fileName):$("#fileupload"+e+"Span").html($("#fileupload"+e+"Span").html()+","+t.fileName)}}))},progressall:function(s,t){$("#fileupload"+e+"ProgressStatus").removeClass("label-error").addClass("fa fa-check-circle green"),$("#fileupload"+e+"Progress .progress-bar").css("width","100%")},fail:function(s,t){$("#fileupload"+e+"ProgressStatus").addClass("label-error"),showMessage(1,MAX_SIZE_LIMIT)}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")}function bindFileUploadForPDF(e,s){var t={};t.uploadUserId=s,$("#fileupload"+e).fileupload({formData:{payload:JSON.stringify(getFinalValue(t))},url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/api/upload/"+UNIQUEUUID,dataType:"json",type:"POST",enctype:"multipart/form-data",global:!1,add:function(e,s){var t=[],a=!1;if(s.originalFiles[0].type.length&&/^application\/pdf$/i.test(s.originalFiles[0].type)||(a=!0),a&&t.push("Please upload files in pdf format."),console.log("originalFiles size"+s.originalFiles[0].size),s.originalFiles.length&&s.originalFiles[0].size>5242880&&(t.push(MAX_SIZE_LIMIT),a=!0),t.length>0)return a=!0,showMessage(1,t.join("\n")),!1;s.process().done((function(){s.submit()}))},start:function(s){customLoader(!0),$("#fileupload"+e+"Span").html(""),$("#fileupload"+e+"Progress .progress-bar").css("width","0%"),$("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").removeClass("progress-bar-danger")},send:function(s,t){$("#fileupload"+e+"Progress .progress-bar").css("width","5%")},done:function(s,t){customLoader(!0),0==t.result.status||3==t.result.status?($("#fileupload"+e+"ProgressStatus").removeClass("progress-bar-success").addClass("progress-bar-danger"),(t.result.message.includes("Your session has been timed out")||3==t.result.status)&&redirectLoginPage()):$.each(t.result.uploadFiles,(function(s,t){if(1==t.status){$("#fileupload"+e+"ChoosenFile").html(t.fileName),$("#fileupload"+e+"Hash").val(t.hash),$("#fileupload"+e+"Response").removeClass(""),$("#fileupload"+e+"Response").removeClass("label-error").addClass("fa fa-check-circle green"),""==$("#fileupload"+e+"Span").html()?$("#fileupload"+e+"Span").html(t.fileName):$("#fileupload"+e+"Span").html($("#fileupload"+e+"Span").html()+","+t.fileName)}}))},progressall:function(s,t){$("#fileupload"+e+"ProgressStatus").removeClass("label-error").addClass("fa fa-check-circle green"),$("#fileupload"+e+"Progress .progress-bar").css("width","100%")},fail:function(s,t){$("#fileupload"+e+"ProgressStatus").addClass("label-error"),showMessage(1,MAX_SIZE_LIMIT)}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")}function removeDocument(e,s){console.log(e),1==s||(2==s?($("#fileupload"+e).parent("span").parent("div").find(".view-upload").hide(),$("#fileupload"+e).parent("span").parent("div").find(".delete-upload").hide(),$("#fileupload"+e).parent("span").parent("div").find(".error-msg").removeClass("show-errow-msg"),$("#fileupload"+e).parent("span").parent("div").find(".error-msg").addClass("show-errow-msg").html("Document Deleted Successfuly"),setTimeout((function(){$("#fileupload"+e).parent("span").parent("div").find(".error-msg").html("")}),1500),$("#fileupload"+e).parent("span").parent("div").find("a.view").attr("href","javascript:void(0)"),$("#fileupload"+e).addClass("w100"),console.log("delete docs"+$("#fileupload"+e).parent("span").parent("div").find("a.view").attr("href","javascript:void(0)"))):3==s?($("#fileupload"+e).parent("span").parent("p").find("a.view").hide(),$("#fileupload"+e).parent("span").parent("p").find("a.view").next("a.remove").hide(),$("#fileupload"+e).parent("span").parent("p").parent("div").find("span.fileName").html(""),$("#fileupload"+e).parent("span").parent("p").parent("div").find("i").removeClass("fa-check-circle-o"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("i").removeClass("fa-close"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("h1").removeAttr("style"),$("#fileupload"+e).parent("span").parent("p").parent("div").find("a.view").attr("href",""),$("#fileupload"+e).parent("span").parent("p").parent("div").find("a.remove").attr("href",""),console.log("delete docs"+$("#fileupload"+e).parent("span").parent("p").parent("div").find("a.remove").attr("href",""))):4==s&&($("#fileName"+e).html(""),$("#divdeleteDocument"+e).attr("style","display:none;"),$("#divshowDocument"+e).attr("style","display:none;")))}function getJSONRequest(e,s){$(".disabledFields").each((function(){$(this).removeAttr("disabled")}));var t=$("#"+e).serialize();console.log("serializedString "+t),$(".disabledFields").each((function(){$(this).attr("disabled","disabled")}));var a=(t=t.replace(/\+/g,"%20")).split("&"),o={};if($.each(a,(function(e,s){var t=s.split("=");if(""!=t[1]){var a=t[0],r=escapeCharacters(t[1]);console.log("name "+a),console.log(" value "+r),console.log("original Value "+t[1]),o[a]=r}})),null!=s){var r=decodeURIComponent("teacherSubjectIds");if("null"!=$("#teacherSubjectIds").val().trim()&&null!=$("#teacherSubjectIds").val().trim()&&""!=$("#teacherSubjectIds").val().trim())var n=decodeURIComponent($("#teacherSubjectIds").val().trim());o[r]=n;var l=decodeURIComponent("teacherPlacementSubjectIds");if("null"!=$("#teacherPlacementSubjectIds").val().trim()&&null!=$("#teacherPlacementSubjectIds").val().trim()&&""!=$("#teacherPlacementSubjectIds").val().trim())var i=decodeURIComponent($("#teacherPlacementSubjectIds").val().trim());o[l]=i}return console.log("requestObj "+o),o}function callSubjectsByGradeId(e,s,t,a,o,r,n){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"SUBJECT-LIST-BY-GRADE",s,o,r,n)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(s){"0"==s.status||"2"==s.status?showMessage(1,s.message):buildDropdown(s.mastersData.subject,$("#"+e+" #"+a),"Select course")},error:function(e){console.log(e)}})}function callBothSubjectAndPlacementSubjectsByGrade(e,s,t,a,o,r){if(hideMessage(""),resetDropdown($("#"+e+" #"+a),"Select course"),!validateRequestForMasterGrade(e,t))return $("#"+e+" #"+t).val().trim(0),!1;console.log("Subject Id : "+o),console.log("Placement Subject Id : "+r),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"BOTH-SUBJECT-AND-PLACEMENT-SUBJECT",s,o,r)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(s){"0"==s.status||"2"==s.status?showMessage(1,s.message):(console.log("Response Data  "+s),$("#"+e+" #"+a).html('<option value="">Select Course</option>'),$.each(s.mastersData.subject,(function(s,t){$("#"+e+" #"+a).append('<option courseType="'+t.extra+'" value="'+t.key+'">'+t.value+"</option>")})))},error:function(s){$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)}})}function callTeacherSubjectsByGradeId(e,s,t,a,o){if(hideMessage(""),resetDropdown($("#"+e+" #"+a),"Select course"),!validateRequestForMasterGrade(e,t))return $("#"+e+" #"+t).val().trim(0),!1;$("#"+e+" #pastTaughtSubjectId").prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"TEACHER_SUBJECT-LIST-BY-GRADE",s,o)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(s){"0"==s.status||"2"==s.status?showMessage(1,s.message):(buildDropdown(s.mastersData.teacherSubject,$("#"+e+" #"+a),"Select course"),$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)),$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)},error:function(s){$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)}})}function callTeacherTaughtSubjects(e,s,t,a){hideMessage(""),$.ajax({global:a,type:"POST",url:getURLForHTML("dashboard","teacher-subject-List"),data:"value="+s+"&elementId="+t,dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var s;"FAILED"==(s=e.split("|"))[0]||"EXCEPTION"==s[0]||"SESSIONOUT"==s[0]?showMessage(1,s[1]):$("#teacherTaughtSubjectContent").html(e)}},error:function(e){return!1}})}function callTeacherPreferredSubjects(e,s,t,a){hideMessage(""),$.ajax({global:a,type:"POST",url:getURLForHTML("dashboard","teacher-preferred-subject-List"),data:"value="+s+"&elementId="+t,dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var s;"FAILED"==(s=e.split("|"))[0]||"EXCEPTION"==s[0]||"SESSIONOUT"==s[0]?showMessage(1,s[1]):$("#teacherPreferredSubjectsContent").html(e)}},error:function(e){return!1}})}function validateRequestForMasterGrade(e,s,t){return console.log("element=>"+$("#"+e+" #"+s).val().trim()),null!=$("#"+e+" #"+s).val()&&""!=$("#"+e+" #"+s).val().trim()&&0!=$("#"+e+" #"+s).val().trim()}function callTeacherEventSubjectsByGradeId(e,s,t,a){hideMessage(""),resetDropdown($("#"+e+" #"+t),"Select course"),$("#"+e+" #pastTaughtSubjectId").prop("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"TEACHER_EVENT_SUBJECT-LIST",s,a)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(s){"0"==s.status||"2"==s.status?showMessage(1,s.message):(buildDropdown(s.mastersData.teacherEventSubject,$("#"+e+" #"+t),"Select course"),$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)),$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)},error:function(s){$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)}})}function getRequestForMaster(e,s,t,a,o,r,n,l,i){var d={},c={},u={};return u.requestKey=s,u.requestValue=t,null!=a&&(u.requestExtra1=a),null!=o&&(u.requestExtra2=o),null!=r&&(u.requestExtra3=r),null==n&&""==n||("recurringClass"==e?u.requestExtraTime=n:u.requestExtraRemarks=n),null!=l&&""!=l&&(u.requestExtra4=l),null==i&&""==i||(u.requestExtra=i),c.hash=getHash(),c.schoolId=SCHOOL_ID,c.schoolUUID=SCHOOL_UUID,c.userType="COMMON",d.authentication=c,d.requestData=u,d}function customLoaderPreview(e){e?($("#commonloaderId1").removeClass("hide"),$("#commonloaderBody1").addClass("loader"),$("#commonloaderId1").addClass("loader-bg"),$("#commonloaderId1").show()):($("#commonloaderBody1").removeClass("loader"),$("#commonloaderId1").removeClass("loader-bg"),$("#commonloaderId1").addClass("hide"),$("#commonloaderId1").hide())}function showDocument(e){customLoaderPreview(!0),$("#documentPreview").attr("src",""),$("#documentPreview").attr("src",e),$("#documentPreviewModal").modal("show"),window.setTimeout((function(){customLoaderPreview(!1)}),1e3)}function showSubjectCatalog(e,s){$.ajax({type:"POST",url:getURLForHTML("student","course-catalog"),data:"subjectId="+e+"&courseType="+s,dataType:"html",cache:!1,async:!1,timeout:6e5,success:function(e){if(""!=e){var s;"FAILED"==(s=e.split("|"))[0]||"EXCEPTION"==s[0]?showMessage(1,s[1]):($("#subjectCatalogModalContent").html(e),$("#subjectCatalogModal").modal("show"))}return!1},error:function(e){}})}function showWarningMessage(e,s){console.log(e),""==s?($("#resetDeleteErrorWarningYes").hide(),$("#resetDeleteErrorWarningNo").hide(),$("#resetDeleteErrorWarningCancel*").show()):($("#resetDeleteErrorWarningYes").show(),$("#resetDeleteErrorWarningNo").show(),$("#resetDeleteErrorWarningCancel*").hide()),"Are you sure you want to avail Extension-1?"==e?($("#remarksresetDelete .modal-header").removeClass("bg-danger").addClass("bg-info"),$("#statusMessage-1 i").removeClass("fa-times"),$("#statusMessage-1 i").addClass("fa-check"),$("#statusMessage-1 i").css({color:"#57abff"}),$("#remarksresetDelete .modal-footer #resetDeleteErrorWarningYes").removeClass("btn-outline-danger").addClass("btn-outline-info"),$("#remarksresetDelete .modal-footer #resetDeleteErrorWarningNo").removeClass("btn-danger").addClass("btn-info")):"Are you sure you want to delete?"==e?($("#remarksresetDelete .modal-header").removeClass("bg-info").addClass("bg-danger"),$("#statusMessage-1 i").removeClass("fa-lock"),$("#statusMessage-1 i").addClass("text-danger"),$("#statusMessage-1 i").addClass("fa-times"),$("#statusMessage-1 i").css({color:"#57abff"}),$("#remarksresetDelete .modal-footer #resetDeleteErrorWarningYes").removeClass("btn-outline-info").addClass("btn-outline-danger"),$("#remarksresetDelete .modal-footer #resetDeleteErrorWarningNo").removeClass("btn-info").addClass("btn-danger")):-1!=e.indexOf("Are you sure want to lock your availability till")||-1!=e.indexOf("You have added more available times for ")?($("#remarksresetDelete .modal-header").removeClass("bg-danger").addClass("bg-info"),$("#statusMessage-1 i").removeClass("fa-times"),$("#statusMessage-1 i").removeClass("text-danger"),$("#statusMessage-1 i").addClass("fa-lock"),$("#statusMessage-1 i").css({color:"#57abff"}),$("#remarksresetDelete .modal-footer #resetDeleteErrorWarningYes").removeClass("btn-outline-danger").addClass("btn-outline-info"),$("#remarksresetDelete .modal-footer #resetDeleteErrorWarningNo").removeClass("btn-danger").addClass("btn-info")):-1!=e.indexOf("Are you sure you want to skip your school system training?")&&$("#statusMessage-1").html('<svg xmlns="http://www.w3.org/2000/svg" width="70px" fill="#d92550" viewBox="0 0 512 512">\x3c!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"/></svg>'),s="$('#remarksresetDelete').modal('hide');"+s+";",$("#warningMessage").html(e),$("#resetDeleteErrorWarningYes").attr("onclick",s),$("#remarksresetDelete").modal("show")}function sendAnnouncementWarning(e,s){$("#resetDeleteErrorWarningYes1").show(),$("#resetDeleteErrorWarningNo1").show(),$("#resetDeleteErrorWarningCancel1").hide(),$("#remarksresetDelete1Icon").removeAttr("class"),$("#remarksresetDelete1Icon").attr("class","fa fa-envelope fa-4x"),s="$('#remarksresetDelete1').modal('hide');"+s+";",$("#warningMessage1").html(e),$("#resetDeleteErrorWarningYes1").attr("onclick",s),$("#remarksresetDelete1").modal("show")}function sendHolidayActivWarning(e,s){$("#resetDeleteErrorWarningYes1").show(),$("#resetDeleteErrorWarningNo1").show(),$("#resetDeleteErrorWarningCancel1").hide(),$("#remarksresetDelete1Icon").removeAttr("class"),$("#remarksresetDelete1Icon").attr("class","fa fa-ban fa-4x"),s="$('#remarksresetDelete1').modal('hide');"+s+";",$("#warningMessage1").html(e),$("#resetDeleteErrorWarningYes1").attr("onclick",s),$("#remarksresetDelete1").modal("show")}function showWarningMessageShow(e,s,t){if($("#remarksresetDelete1").remove(),$("body").append(getWaringContent1()),"info-modal-sm"==t){if($("#remarksresetDelete2").length<1&&$("body #schoolReportContent").append(deleteWarning(e,s)),""==s?($("#resetDeleteErrorWarningYes2").hide(),$("#resetDeleteErrorWarningNo2").hide(),$("#resetDeleteErrorWarningCancel2").show()):($("#resetDeleteErrorWarningYes2").show(),$("#resetDeleteErrorWarningNo2").show(),$("#resetDeleteErrorWarningCancel2").hide()),s="$('#remarksresetDelete2').modal('hide');"+s+";",$("#warningMessage2").html(e),"info-modal-sm"!==t){var a="Please note that any recurring class created for this student will be deactivated after the student is withdrawn. If for any reason the class is not deactivated, kindly do the same from the Recurring Class menu";$("#statusMessage-2").html(a)}else $("#statusMessage-2").html('<i class="fas fa-sync fa-4x text-info"></i>');$("#resetDeleteErrorWarningYes2").attr("onclick",s),$("#remarksresetDelete2").modal("show")}else{if(""==s?($("#resetDeleteErrorWarningYes1").hide(),$("#resetDeleteErrorWarningNo1").hide(),$("#resetDeleteErrorWarningCancel1").show()):($("#resetDeleteErrorWarningYes1").show(),$("#resetDeleteErrorWarningNo1").show(),$("#resetDeleteErrorWarningCancel1").hide()),s="$('#remarksresetDelete1').modal('hide');"+s+";",$("#warningMessage1").html(e),t){a="Please note that any recurring class created for this student will be deactivated after the student is withdrawn. If for any reason the class is not deactivated, kindly do the same from the Recurring Class menu";$("#statusMessage-1").html(a)}else $("#statusMessage-1").html('<i class="fa fa-refresh fa-4x" style="color:#337ab7 !important;"></i>');$("#resetDeleteErrorWarningYes1").attr("onclick",s),$("#remarksresetDelete1").modal("show")}}function selectSubjectNew(e,s,t,a){if(s)if($(e).hasClass("selected-course"))$(e).removeClass("selected-course");else{$(e).addClass("selected-course");var o="";$("."+t).each((function(){$(this).hasClass("selected-course")&&(o=o+","+$(this).attr("id"))})),(o=o.substr(1)).split(",").length<=parseInt(a)||($(e).removeClass("selected-course"),showMessageTheme2(0," You cannot select more than "+a+" courses.","",!0))}}function isJson(e){try{JSON.parse(e)}catch(e){return!1}return!0}function getISDCodeByCityAndCountry(e,s,t,a){var o={};o.cityName=e,o.countryName=s,$.ajax({type:"POST",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/get-isdcode-by-city-and-country",data:JSON.stringify(getFinalValue(o)),dataType:"json",async:!1,success:function(e){var o=e+" "+s;return""!=t&&chooseValueByElement(t,o),""!=a&&chooseValueByElement(a,o),chooseValueByElement("countryId",s),e}})}function chooseValueByElement(e,s){$("#"+e).length&&$("#"+e+" option").map((function(){var e=$(this).text();if((e=e.substr(e.indexOf(" ")+1))===s)return this})).attr("selected","selected")}function chooseTimezoneValueByElement(e,s){$("#"+e).length&&$("#"+e+" option").map((function(){var e=$(this).text();if((e=(e=e.substr(e.indexOf("- ")+1)).substr(0,e.indexOf("/"))).trim()===s)return this})).attr("selected","selected")}function chooseCountryElement(e,s){$("#"+e).length&&($("#"+e+" option").map((function(){if($(this).text()===s)return this})).attr("selected","selected"),$("#"+e).trigger("change"))}function showPassWord(e,s){var t=document.getElementById(e),a=document.getElementById(s);if(t.disabled)return!1;"password"===t.type?(t.type="text",a.classList.remove("fa-eye-slash"),a.classList.add("fa-eye")):(t.type="password",a.classList.remove("fa-eye"),a.classList.add("fa-eye-slash"))}function renderIsdCode(e,s,t){var a="";if(a=""!=e?"#"+e+" #"+s:"#"+s,console.log("element "+a),null!=document.querySelector(a)){var o=document.querySelector(a);iti=intlTelInput(o,{}),iti.setCountry(t)}return iti}function createSelect2Element(e,s){$("#"+e+" #"+s).hasClass("select2-hidden-accessible")&&$("#"+e+" #"+s).select2("destroy"),$("#"+e+" #"+s).select2()}function getDatepickerChangeVal(e){var s=$(e).val().split(/(\d{4})/).filter(Boolean);for(let e=1;e<s.length;e+=2)s[e-1]+=s[e],s.splice(e,1);$(e).val(s[0])}function copyToClipboardNew(e){$("#hiddenForCopy").attr("disabled",!1);var s=document.getElementById("hiddenForCopy");s.value=e,$(s).attr("type","text").select(),s.setSelectionRange(0,99999),document.execCommand("copy"),$(s).attr("type","hidden")}function copyToClipboard(e,s){$("#"+e).attr("disabled",!1);var t=document.getElementById(e);t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),$(s).text("Copied"),$(s).removeClass("btn-primary"),$(s).addClass("btn-success")}function copyURL(e,s,t){const a=$("#"+e).val();if(null==t&&(t="Copied!"),a&&a.length>0)if(navigator.clipboard&&navigator.clipboard.writeText)try{navigator.clipboard.writeText(a).then((()=>{showCopyMessage(s,t,!0)})).catch((e=>{console.error("Clipboard API failed:",e),fallbackCopyText(a,s)}))}catch(e){console.error("Clipboard API error:",e),fallbackCopyText(a,s)}else fallbackCopyText(a,s);else console.error("No valid URL found to copy."),showCopyMessage(s,"Invalid URL",!1)}function fallbackCopyText(e,s){console.log("Using fallback copy method (execCommand).");const t=document.createElement("input");t.type="text",t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);try{document.execCommand("copy")?(console.log("Copied successfully using execCommand."),showCopyMessage(s,"Copied!",!0)):(console.error("execCommand failed."),showCopyMessage(s,"Copy failed",!1))}catch(e){console.error("execCommand error:",e),showCopyMessage(s,"Copy failed",!1)}document.body.removeChild(t)}function showCopyMessage(e,s,t){const a=$("."+e);a.removeClass("text-success text-danger d-none").addClass(t?"text-success":"text-danger").text(s),setTimeout((()=>{a.text(""),a.addClass("d-none")}),3e3)}function validationOfDate(e,s){return e=e.split("-"),s=s.split("-"),startTime=new Date(e[2],e[0]-1,e[1]).getTime(),endTime=new Date(s[2],s[0]-1,s[1]).getTime(),startTime>endTime?(mesg="Report start date must be less than Report end date.",mesg):""}function toTitleCase(e){return e.toLowerCase().replace(/(?:^|\s)\w/g,(function(e){return e.toUpperCase()}))}function toSentenceCase(e){e=e.split(". ");for(var s=0;s<e.length;s++)e[s]=e[s].charAt(0).toUpperCase()+e[s].slice(1);return e.join(". ")}function changeDateFormat(e,s){return"mm-dd-yyyy"==s?(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>9?e.getDate():"0"+e.getDate())+"-"+e.getFullYear():"yyyy-mm-dd"==s?e.getFullYear()+"-"+(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>9?e.getDate():"0"+e.getDate()):"yyyy-mm-dd hh:mm:ss"==s?e.getFullYear()+"-"+(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>9?e.getDate():"0"+e.getDate())+" "+(e.getHours()>9?e.getHours():"0"+e.getHours())+":"+(e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes())+":"+(e.getSeconds()>9?e.getSeconds():"0"+e.getSeconds()):"MMM-dd-yyyy hh:mm:ss"==s?M.months[e.getMonth()]+" "+(e.getDate()>9?e.getDate():"0"+e.getDate())+", "+e.getFullYear()+" "+(e.getHours()>9?e.getHours():"0"+e.getHours())+":"+(e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes())+":"+(e.getSeconds()>9?e.getSeconds():"0"+e.getSeconds()):"dd-mm-yyyy"==s?(e.getDate()>9?e.getDate():"0"+e.getDate())+"-"+(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+e.getFullYear():"MMM-dd-yyyy"==s?M.months[e.getMonth()]+" "+(e.getDate()>9?e.getDate():"0"+e.getDate())+", "+e.getFullYear():e.getFullYear()+"-"+(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>9?e.getDate():"0"+e.getDate())}function getDateInDateFormat(e){e=(e=e.replace(",","")).split(" ");var s=M.months.indexOf(e[0]);return new Date(e[2],s>9?s:"0"+s,e[1])}function callBatchesByMulltipleGradeId(e,s,t,a,o,r,n,l){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"BATCH-NAME-LIST-BASED-ON-MULTIPLE-STANDARD",s,o,r,n,l)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(s){"0"==s.status||"2"==s.status?showMessage(!0,s.message):buildDropdown(s.mastersData.subject,$("#"+e+" #"+a),"Select class")},error:function(e){console.log(e)}})}function callStudentBatchesByGradeId(e,s,t,a,o,r,n,l,i){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster(e,"MULTIPLE-STUDENT-LIST",s,o,r,n,l,i)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(s){"0"==s.status||"2"==s.status?showMessage(!0,s.message):buildDropdown(s.mastersData.studentList,$("#"+e+" #"+a),"Select")},error:function(s){$("#"+e+" #pastTaughtSubjectId").prop("disabled",!1)}})}function convertTZ(e,s){return new Date(("string"==typeof e?new Date(e):e).toLocaleString("en-US",{timeZone:s}))}function validEndInvalidField(e,s){e?($("#"+s).closest(".valid-field").addClass("true"),$("#"+s).closest(".valid-field").removeClass("false"),$("#"+s+"-error").hide()):null==e?($("#"+s).closest(".valid-field").removeClass("false"),$("#"+s).closest(".valid-field").removeClass("true")):($("#"+s).closest(".valid-field").addClass("false"),$("#"+s).closest(".valid-field").removeClass("true"),$("#"+s+"-error").show())}function formValdate(e,s,t){for(var a=0;a<s.length;a++){var o=$("#"+e+" #"+s[a]).attr("type"),r=$("#"+e+" #"+s[a]).val();""!=(r=null!=r&&null!=r?r.trim():"")&&"checkbox"!=o&&"tel"!=o?validEndInvalidField(!0,s[a]):"checkbox"==o?$("#"+e+" #"+s[a]).is(":checked")?validEndInvalidField(!0,"pcModeWhatsapp"):validEndInvalidField(null,s[a]):"tel"==o?0==$("#"+e+" #"+s[a]).val().length?validEndInvalidField(null,s[a]):$("#"+e+" #"+s[a]).val().length<3&&$("#"+e+" #"+s[a]).val().length>0?validEndInvalidField(!1,s[a]):validEndInvalidField(!0,s[a]):validEndInvalidField(null==o&&null,s[a])}for(var n=0;n<t.length;n++){var l=$("#"+e+" #"+t[n]).attr("type"),i=$("#"+e+" #"+t[n]).val();""!=(i=null!=i&&null!=i?i.trim():"")&&"checkbox"!=l&&"tel"!=l?validEndInvalidField(!0,t[n]):"checkbox"==l?$("#"+e+" #"+t[n]).is(":checked")?validEndInvalidField(!0,t[n]):validEndInvalidField(null,t[n]):"tel"==l?0==$("#"+e+" #"+t[n]).val().length?validEndInvalidField(null,t[n]):$("#"+e+" #"+t[n]).val().length<3&&$("#"+e+" #"+t[n]).val().length>0?validEndInvalidField(!1,t[n]):validEndInvalidField(!0,t[n]):validEndInvalidField(null,t[n])}}window.addEventListener("offline",(e=>{"theme1"==tt?showMessage(!0,"Your device is offline, please check your internet connection."):showMessageTheme2(0,"Your device is offline, please check your internet connection.","",!0)})),window.addEventListener("online",(e=>{"theme1"==tt?showMessage(!1,"You are back online"):showMessageTheme2(1,"You are back online","",!0)})),$(document).ready((function(){})),$("#msgTheme2").click((function(){$(".server-message").removeClass("show")})),$(document).ajaxStart((function(){customLoader(!0)})),$.ajaxSetup({beforeSend:function(e,s){if(null!=s.data&&"application/json"==s.contentType){var t={};t.payload=encode(s.data),s.data=JSON.stringify(t)}e.setRequestHeader("UNIQUEUUID",UNIQUEUUID)}}),$(document).ajaxError((function(e,s,t,a){if(console.log("event is"+e+"jqxhr is"+s+"settings"+t+"exception is"+a),console.log("exception ajax request URL:",t.url),customLoader(!1),!checkonlineOfflineStatus())if(navigator.onLine)if(isJson(s.responseText)){var o=JSON.parse(s.responseText);console.log("parse Response is:"+s.status),o.hasOwnProperty("message")?(showMessage(1,o.message),showModalMessage(1,TECHNICAL_GLITCH)):(showMessage(1,TECHNICAL_GLITCH),showModalMessage(1,TECHNICAL_GLITCH))}else showMessage(1,TECHNICAL_GLITCH),showModalMessage(1,TECHNICAL_GLITCH);else"theme1"==tt?showMessage(!0,"Your device is offline, please check your internet connection."):showMessageTheme2(0,"Your device is offline, please check your internet connection.","",!0)})),$(document).ajaxStop((function(){customLoader(!1)})),window.onload=function(){if("function"==typeof history.pushState)history.pushState("jibberish",null,null),window.onpopstate=function(){history.pushState("newjibberish",null,null)};else{var e=!0;window.onhashchange=function(){e?e=!1:(e=!0,window.location.hash=Math.random())}}},history.pushState(null,null,location.href),window.onpopstate=function(){history.go(1)},$(document).ready((function(){$(".chat-message").hover((function(){$(".chat-message").css({background:"#2ebf51","border-color":"#2ebf51"})}),(function(){$(".chat-message").css({background:"#1d963a","border-color":"#0f9f13"})})),$(window).outerWidth()<991&&$(".vertical-nav-menu li a").click((function(){$(".closed-sidebar-mobile").removeClass("sidebar-mobile-open"),$(".mobile-toggle-nav").removeClass("is-active")})),$(".mobile-toggle-header-nav").click((function(){$(this).toggleClass("active"),$(".app-header__content").toggleClass("header-mobile-open")})),$(".mobile-toggle-nav").click((function(){$(this).hasClass("is-active")||($(".app-header__content").removeClass("header-mobile-open"),$(".mobile-toggle-header-nav").removeClass("active"))})),$(".mobile-toggle-header-nav").click((function(){$(this).hasClass("active")||($(".closed-sidebar-mobile").removeClass("sidebar-mobile-open"),$(".mobile-toggle-nav").removeClass("is-active"))}))})),$(".show-password").on("click",(function(){var e=$("#passwordType");""!=e.val()&&("password"==e.attr("type")?e.attr("type","text"):e.attr("type","password"),$(this).find("i").toggleClass("fa-eye fa-eye-slash"))}));var i=0;function disabledBackButton(){history.pushState(null,null,location.href),window.onpopstate=function(){history.go(1)}}function checkCSCValidation(e,s,t){if(""==e||null==e||null==e)return validEndInvalidField(null,s),!1;validEndInvalidField(!0,s)}function pCheckCSCValidation(e,s,t){if(""==e||null==e||null==e)return validEndInvalidField(null,s),!1;validEndInvalidField(!0,s)}function getNumberWithPrecision(e,s){return Number.parseFloat(e).toFixed(s)}function getVauleAsNumber(e){var s=$("#"+e).val();return $.isNumeric(s)?s:0}function getTrimmedValue(e,s){$("#"+e+" #"+s).val($("#"+e+" #"+s).val().trim())}function checkTextBox(e){var s=$("#"+e);$("#"+e+" input").length>0&&(s.find(":text").each((function(){getTrimmedValue(e,this.id)})),s.find("input[type='email']").each((function(){getTrimmedValue(e,this.id)})))}function removeItemOnce(e,s){var t=e.indexOf(s);return t>-1&&e.splice(t,1),e}function removeItemAll(e,s){for(var t=0;t<e.length;)e[t]===s?e.splice(t,1):++t;return e}function toSeconds(e,s,t){return 3600*e+60*s+t}function secondsToHms(e){e=Number(e);var s=Math.floor(e/3600),t=Math.floor(e%3600/60);Math.floor(e%3600%60);return(s>0?s+"h ":"")+(t>0?t+"m":"")}function convertMsToTime(e){let s=Math.floor(e/1e3),t=Math.floor(s/60),a=Math.floor(t/60);return s%=60,t%=60,a%=24,`${padTo2Digits(a)}h ${padTo2Digits(t)}m ${padTo2Digits(s)}s`}function padTo2Digits(e){return e.toString().padStart(2,"0")}function getSystemTimezone(){var e="";try{e=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){console.log("getSystemTimezone: "+e.message)}return e}function hidePassWordSuggession(e){$(e).parent().find(".password-sugession").hide()}function checkPasswordStrength(e,s,t,a,o){var r='<div class="password-sugession"><h6 class="password-sugession-title"><b>Password must include at least:</b></h6>\t<p class="password-sugession-type password-uppercase-letter"><span class="ps-valid"><i class="fa fa-check"></i></span><span class="ps-invalid"><i class="fa fa-times"></i></span> <span class="ps-dot">.</span> 1 uppercase letter</p><p class="password-sugession-type password-lowercase-letter"><span class="ps-valid"><i class="fa fa-check"></i></span><span class="ps-invalid"><i class="fa fa-times"></i></span> <span class="ps-dot">.</span> 1 lowercase letter</p><p class="password-sugession-type password-special-letter"><span class="ps-valid"><i class="fa fa-check"></i></span><span class="ps-invalid"><i class="fa fa-times"></i></span> <span class="ps-dot">.</span> 1 special character</p><p class="password-sugession-type password-number"><span class="ps-valid"><i class="fa fa-check"></i></span><span class="ps-invalid"><i class="fa fa-times"></i></span> <span class="ps-dot">.</span> 1 number</p><p class="password-sugession-type password-length"><span class="ps-valid"><i class="fa fa-check"></i></span><span class="ps-invalid"><i class="fa fa-times"></i></span> <span class="ps-dot">.</span> min 8 characters & max 20 characters</p>';if("CP"==a&&(r+='<p class="password-sugession-type comfirm-password"><span class="ps-valid"><i class="fa fa-check"></i></span><span class="ps-invalid"><i class="fa fa-times"></i></span> <span class="ps-dot">.</span> password and confirm password should be same</p>'),$("#"+s+" #"+t).parent().css({position:"relative"}),$("#"+s+" #"+t).parent().find(".password-sugession").length<1&&$("#"+s+" #"+t).parent().append(r),$(e).parent().find(".password-sugession").show(),"P"==a)var n=$("#"+t).val();else{n=$("#"+t).val();var l=$("#"+o).val()}var i=/^(?=.*[a-z])/.test(n),d=/^(?=.*[A-Z])/.test(n),c=/^(?=.*\d)/.test(n),u=/^(?=.*[@$!%*?&#])/.test(n);0==n.length?($(".ps-dot").show(),$(".ps-valid").hide(),$(".ps-invalid").hide(),$(".password-length").css({color:"inherit"}),$(".password-lowercase-letter").css({color:"inherit"}),$(".password-uppercase-letter").css({color:"inherit"}),$(".password-number").css({color:"inherit"}),$(".password-special-letter").css({color:"inherit"})):(n.length<8&&n.length<=20?($(".password-length .ps-valid").hide(),$(".password-length .ps-invalid").show(),$(".password-length .ps-dot").hide(),$(".password-length").css({color:"red"})):($(".password-length .ps-valid").show(),$(".password-length .ps-invalid").hide(),$(".password-length .ps-dot").hide(),$(".password-length").css({color:"green"})),i?($(".password-lowercase-letter .ps-valid").show(),$(".password-lowercase-letter .ps-invalid").hide(),$(".password-lowercase-letter .ps-dot").hide(),$(".password-lowercase-letter").css({color:"green"})):($(".password-lowercase-letter .ps-valid").hide(),$(".password-lowercase-letter .ps-invalid").show(),$(".password-lowercase-letter .ps-dot").hide(),$(".password-lowercase-letter").css({color:"red"})),d?($(".password-uppercase-letter .ps-valid").show(),$(".password-uppercase-letter .ps-invalid").hide(),$(".password-uppercase-letter .ps-dot").hide(),$(".password-uppercase-letter").css({color:"green"})):($(".password-uppercase-letter .ps-valid").hide(),$(".password-uppercase-letter .ps-invalid").show(),$(".password-uppercase-letter .ps-dot").hide(),$(".password-uppercase-letter").css({color:"red"})),c?($(".password-number .ps-valid").show(),$(".password-number .ps-invalid").hide(),$(".password-number .ps-dot").hide(),$(".password-number").css({color:"green"})):($(".password-number .ps-valid").hide(),$(".password-number .ps-invalid").show(),$(".password-number .ps-dot").hide(),$(".password-number").css({color:"red"})),u?($(".password-special-letter .ps-valid").show(),$(".password-special-letter .ps-invalid").hide(),$(".password-special-letter .ps-dot").hide(),$(".password-special-letter").css({color:"green"})):($(".password-special-letter .ps-valid").hide(),$(".password-special-letter .ps-invalid").show(),$(".password-special-letter .ps-dot").hide(),$(".password-special-letter").css({color:"red"})),n!=l?($(".comfirm-password .ps-valid").hide(),$(".comfirm-password .ps-invalid").show(),$(".comfirm-password .ps-dot").hide(),$(".comfirm-password").css({color:"red"})):($(".comfirm-password .ps-valid").show(),$(".comfirm-password .ps-invalid").hide(),$(".comfirm-password .ps-dot").hide(),$(".comfirm-password").css({color:"green"})))}function parseUrlToJson(e){var s={};s.userId=USER_ID;var t=e.split("?");if(t.length>1){var a=t[1].split("&");for(index=0;index<a.length;index++){var o=a[index].split("=");s[o[0]]=o[1]}}return s}function getAsPost(e,s){console.log("getAsPost1 "+e);var t=JSON.stringify(parseUrlToJson(e));t=encode(t),console.log("getAsPost2 "+e);var a=BASE_URL+CONTEXT_PATH+SCHOOL_UUID+e.split("?")[0]+"/"+UNIQUEUUID+"?payload="+t;null==s||null==s||""==s?window.open(a):window.open(a,"_self"),customLoader(!1)}function getAsPostWithoutUniqueID(e){var s=BASE_URL+CONTEXT_PATH+SCHOOL_UUID+e;window.open(s),customLoader(!1)}function getAsPostWithoutUUID(e,s){console.log("getAsPost1 "+e);var t=JSON.stringify(parseUrlToJson(e));t=encode(t),console.log("getAsPost2 "+e);var a=BASE_URL+CONTEXT_PATH+SCHOOL_UUID+e.split("?")[0]+"?payload="+t;null==s||null==s||""==s?window.open(a):window.open(a,"_self"),customLoader(!1)}function encode(e){return window.btoa(encodeURI(e))}function decode(e){return window.atob(e)}function disablePastTimes(e,s,t){var a=t.getHours(),o=t.getMinutes();$("#"+e).timepicker({format:"HH:mm",minTime:a+":"+o})}function getSettingRequest(e){var s={};return s.schoolId=e,s}async function getSchoolSettingsTechnical(e){try{var s=await getDesiredObject("sst"+e);return"object"!=typeof s||s.ntc?(s=await getDataBasedUrlAndPayload("technical",getSettingRequest(e)),localStorage.setItem("sst"+e,JSON.stringify(s)),s):s}catch(e){showMessage(!0,e)}}async function getSchoolSettingsLinks(e){try{var s=await getDesiredObject("sslink"+e);return"object"!=typeof s||s.ntc?(s=await getDataBasedUrlAndPayload("links",getSettingRequest(e)),localStorage.setItem("sslink"+e,JSON.stringify(s)),s):s}catch(e){showMessage(!0,e)}}async function getSchoolSettingsOffice(e){try{var s=await getDesiredObject("ssoffice"+e);return"object"!=typeof s||s.ntc?(s=await getDataBasedUrlAndPayload("office",getSettingRequest(e)),localStorage.setItem("ssoffice"+e,JSON.stringify(s)),s):s}catch(e){showMessage(!0,e)}}async function getCommonCustomScript(e,s){try{var t=await getDesiredObject("commonscript"+s);if("object"==typeof t&&!t.ntc)return t;var a={};return a.userId=e,t=await getDataBasedUrlAndPayload("common-script-variables",a),localStorage.setItem("commonscript"+s,JSON.stringify(t)),t}catch(e){showMessage(!0,e)}}function getSettingsByTypeAndKey(e,s){var t={};return $.ajax({url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+`/api/v1/get-setting?metaType=${e}&metaKey=${s}`,method:"GET",contentType:"application/json",async:!1,success:function(e){t=e},error:function(e){console.error("Error fetching settings")}}),t}function getPlaneFormattedPhone(e){return null==e||null==e||""==e?"":e.replaceAll("(","").replaceAll(")","").replaceAll("-","").replaceAll(" ","")}function convertTo24Hour(e){let[s,t]=e.split(" "),[a,o]=s.split(":");return"12"===a&&(a="00"),"PM"===t&&(a=parseInt(a,10)+12),`${a.toString().padStart(2,"0")}:${o}`}function inputNumberValidation(e){e.target.value=e.target.value.replace(/\D/g,"")}function getTimePlusInterval(e,s){var t=new Date(e),a=new Date(t.getTime()+60*s*1e3),o=a.getHours().toString().padStart(2,"0"),r=a.getMinutes().toString().padStart(2,"0"),n=(a.getSeconds().toString().padStart(2,"0"),o>=12?"PM":"AM");return(o=(o%=12)||12).toString().padStart(2,"0")+":"+r+" "+n}function getSession(){var e=!1;return $.ajax({type:"GET",url:getURLForCommon("check-session"),async:!1,global:!1,success:function(s){e=s},error:function(e){checkonlineOfflineStatus()||showMessage(!0,e.responseText)}}),e}function callWithSession(e,s){getSession()?s?goAheadGet(e):window.open(e):redirectLoginPage()}function callWithSessionWithGetAsPost(e,s){getSession()?getAsPost(e,s):redirectLoginPage()}$(document).on("shown.bs.modal",".modal",(function(e){const s=$(this);$(".modal-backdrop");let t=1050+20*$(".modal.show").not(this).length;s.css("z-index",t),setTimeout((()=>{$(".modal-backdrop").not(".modal-stack").last().css("z-index",t-10).addClass("modal-stack")}),10)})),$(document).on("hidden.bs.modal",".modal",(function(){if(0===$(".modal.show").length)$(".modal-backdrop").remove(),$("body").removeClass("modal-open");else{const e=$(".modal.show").last(),s=1050+20*($(".modal.show").length-1);e.css("z-index",s),$(".modal-backdrop").last().css("z-index",s-10)}})),$(document).ready((function(){$(".hamburger").on("click",(function(){$(".card-body, table, tbody").resize()}))})),$(document).ready((function(){$("#captcha").keyup((function(){$(this).val($(this).val().toUpperCase())})),$("#marqueeDiv").css({color:"red"})}));var debouncing=function(e,s){var t;return function(...a){clearTimeout(t),t=setTimeout((()=>{e(...a)}),s)}};function getTimeDifference(e,s){return moment.duration(moment(s,"HH:mm:ss a").diff(moment(e,"HH:mm:ss a")))}function getTimeWithFormat(e){var s=e/6e4;return`${Math.floor(s/60)}h ${s%60}m`}function getTimeFormat(e){return`${parseInt(e.split(":")[0])}h ${parseInt(e.split(":")[1])}m`}function getTimeFormatByMiliSecond(e){var s=e/6e4,t=Math.floor(s/60);t<10&&(t="0"+t);var a=s%60;return a<10&&(a="0"+a),t+":"+Math.round(a)}function autodiposeModel(e){window.setTimeout((function(){$("#"+e).modal("hide")}),1e4)}function getEndTimeDropdownValue(e,s){for(var t="",a=e;a<1440;a+=s){var o=Math.floor(a/60),r=o>=12?"PM":"AM";o>12&&(o-=12),0===o&&(o=12);var n=`${o}:${(a%60).toString().padStart(2,"0")} ${r}`;t+=`<option value="${n}">${n}</option>`}return t}function detectBrave(){if(navigator.brave&&navigator.brave.isBrave)navigator.brave.isBrave().then((function(e){e?$(".cookie-consent").hide():isShowcookie&&$(".cookie-consent").show()}));else{if(navigator.userAgent.includes("Chrome")){new Error("Test Error").stack.includes("chrome-extension://")?$(".cookie-consent").hide():isShowcookie&&$(".cookie-consent").show()}}}function getDashboardDataBasedUrlAndPayload(e,s,t,a){return customLoader(!0),new Promise((function(o,r){$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard",t),data:JSON.stringify(a),dataType:"json",global:e,success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():s&&("theme1"==tt?s(!1,e.message):showMessageTheme2(0,e.message,"",!0)):(customLoader(!1),o(e))},error:function(e,t,a){s&&("theme1"==tt?s(!1,a.responseText):showMessageTheme2(0,a.responseText,"",!0)),r(a)}})}))}function getDashboardDataBasedUrlAndPayloadWithParentUrl(e,s,t,a,o){return new Promise((function(r,n){$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML(o,t),data:JSON.stringify(a),dataType:"json",global:e,success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():s&&("theme1"==tt?s(!1,e.message):showMessageTheme2(0,e.message,"",!0)):r(e)},error:function(e,t,a){s&&("theme1"==tt?s(!1,a.responseText):showMessageTheme2(0,a.responseText,"",!0)),n(a)}})}))}function getActualData(){var e={};return"true"==LOCATION_SERVICE_BYPASS?e=JSON.parse(DEFAULT_LOCATION):$.ajax({global:!1,type:"GET",url:PRO_IP_API_URL,async:!1,success:function(s){e=s}}),e}function getCurrentTimeFromDateAsString(e){return getCurrentTimeFromDate(new Date(e))}function getCurrentTimeOnly(){return getCurrentTimeFromDate(new Date)}function getCurrentTimeFromDate(e){return(e.getHours()>9?e.getHours():"0"+e.getHours())+":"+(e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes())+":"+(e.getSeconds()>9?e.getSeconds():"0"+e.getSeconds())}function getBeforeAndAfterDate(e,s){var t=new Date(e);return new Date(t.getTime()+60*s*60*1e3)}function getDataBasedUrlAndPayload(e,s){return new Promise((function(t,a){$.ajax({type:"POST",contentType:"application/json",url:getURLFor(e,""),data:JSON.stringify(s),dataType:"json",success:function(e){t(e)},error:function(e,s,t){a(t),"theme1"==tt?showMessage(!0,TECHNICAL_GLITCH):showMessageTheme2(0,TECHNICAL_GLITCH,"",!0)}})}))}function getNeedToCall(){return{ntc:!0}}async function getFreshValue(e,s){const t={metaType:s,metaKey:await getSettingsByTypeAndKey(e,s)};localStorage.setItem(s,JSON.stringify(t))}function getDesiredObject(e){var s="SCRIPT_VERSION";return new Promise(((t,a)=>{null==localStorage.getItem(s)?getFreshValue("CONFIGURATION",s).then((()=>{checkAndReturn(e,t)})).catch(a):checkAndReturn(e,t)}))}function checkAndReturn(e,s){var t=JSON.parse(localStorage.getItem("SCRIPT_VERSION"));JSON.parse(t.metaKey).data.metaValue!=SCRIPT_VERSION?(localStorage.clear(),s(getNeedToCall())):null==localStorage.getItem(e)?s(getNeedToCall()):s(JSON.parse(localStorage.getItem(e)))}function getPrimaryColor(){return ROOTCSS.split(":#")[1].split(";")[0]}function showMessageTheme2Content(){return'<div class="server-message">\n\t\t<span class="msg" id="msgTheme2"></span>\n\t</div>'}function getWelcomeMessage(){var e=(new Date).getHours();return e>=0&&e<12?"Good morning":e>=12&&e<16?"Good afternoon":e>=16&&e<21||e>=21&&e<24?"Good evening":void 0}$(document).ready((function(){$(".mobile-toggle-header-nav").click((function(){$(this).toggleClass("active"),$(".app-header__content").toggleClass("header-mobile-open")})),detectBrave()}));