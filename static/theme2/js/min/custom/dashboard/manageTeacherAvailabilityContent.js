async function renderTeacherAvailability(e){roleAndModule=getUserRights(SCHOOL_ID_OF_USER,USER_ROLE_ID,USER_ID,e);var t=await teacherTimeAvailabilityContent("Teacher Availability Management");function a(e){let[t,a]=e.split(" "),[l,d]=t.split(":").map(Number);return"PM"===a&&12!==l&&(l+=12),"AM"===a&&12===l&&(l=0),60*l+d}function l(e){for(var t="",a=e;a<1440;a+=30){var l=Math.floor(a/60),d=l>=12?"PM":"AM";l>12&&(l-=12),0===l&&(l=0);var i=`${l}:${(a%60).toString().padStart(2,"0")} ${d}`;t+=`<option value="${i}">${i}</option>`}return t}$("body").append(t),$("#recommendedTeacherlistForm").html(recommendedTeacherlistFilterForm()),callSlotList("recommendedTeacherlistForm","addPreferenceStartTime"),$("#addPreferenceStartTime").data("select2")&&$("#addPreferenceStartTime").select2("destroy"),$("#addPreferenceEndTime").data("select2")&&$("#addPreferenceEndTime").select2("destroy"),$("#addPreferenceStartTime").select2({theme:"bootstrap4",placeholder:"Select start time",dropdownParent:"#recommendedTeacherlistForm"}).on("change",(function(){var e=$(this).val(),t=$("#addPreferenceEndTime");t.empty();var l=$("#addPreferenceStartTime option:nth-child(2)").val(),d=$("#addPreferenceStartTime option:nth-child(3)").val(),i=calculateTimeGap(l,d);if(e){var s=a(e)+i;t.append(getEndTimeDropdownValue(s,i)),t.append('<option value="11:59 PM">11:59 PM</option>'),$("#addPreferenceEndTime").prop("disabled",!1).trigger("change")}$("#addPreferenceEndTime").trigger("change"),$("#addPreferenceEndTime").select2("destroy").select2({theme:"bootstrap4",placeholder:"Select end time",dropdownParent:"#recommendedTeacherlistForm"})})),$("#addPreferenceEndTime").select2({theme:"bootstrap4",placeholder:"Select end time",dropdownParent:"#recommendedTeacherlistForm"}),$("#addPreferenceEndTime").val("").trigger("change"),$("#courseName").select2({theme:"bootstrap4",dropdownParent:"#recommendedTeacherlistForm"}),initializeTypeahead("recommendedTeacherlistForm","courseName"),$("#teacherProfileStatus").select2({theme:"bootstrap4"}),$(".timepicker").length>0&&($(".timepicker").timepicker({format:"hh:mm"}),$(".timepicker").on("click",(function(){var e=parseInt($(this).closest(".modal.fade.show").css("z-index"))+1999;$(".popover.timepicker-popover").css({"z-index":e})}))),$("#startTime").select2({theme:"bootstrap4"}).on("change",(function(){var e=new Date($("#timeAvailableDateFrom").val()),t=new Date($("#timeAvailableDateTo").val());if(e.valueOf()==t.valueOf()){var d=$(this).val(),i=$("#endTime");if(i.empty(),d){var s=a(d)+30;i.append(l(s)),i.append('<option value="11:59 PM">11:59 PM</option>')}$("#endTime").trigger("change"),$("#endTime").select2("destroy").select2({theme:"bootstrap4"})}else if(""==!$("#timeAvailableDateTo").val()){var o=$("#startTime").html();$("#endTime").empty(),$("#endTime").append(o),$("#endTime").trigger("change"),$("#endTime").select2("destroy").select2({theme:"bootstrap4"})}})),$("#endTime").select2({theme:"bootstrap4"}).on("change",(function(){var e=$("#startTime").val(),t=$(this).val();if(e&&t)a(e),a(t)})),$("#timeAvailableDateFrom").datepicker({autoclose:!0,format:"M dd, yyyy"}).on("changeDate",(function(e){$("#endTime").empty(),function(e){$("#timeAvailableDateTo").val(""),$("#timeAvailableDateTo").datepicker("destroy");var t=new Date(e);t.setDate(t.getDate()),$("#timeAvailableDateTo").datepicker({autoclose:!0,startDate:t,format:"M dd, yyyy"})}(e.date.valueOf())})),$("#timeAvailableDateTo").datepicker({autoclose:!0,format:"M dd, yyyy",startDate:new Date}).on("changeDate",(function(e){if(new Date($("#timeAvailableDateFrom").val()).valueOf()==e.date.valueOf()){var t=$("#startTime").val(),d=$("#endTime");if(d.empty(),t){var i=a(t)+30;d.append(l(i)),d.append('<option value="11:59 PM">11:59 PM</option>')}$("#endTime").trigger("change"),$("#endTime").select2("destroy").select2({theme:"bootstrap4"})}else{var s=$("#startTime").html();$("#endTime").empty(),$("#endTime").append(s),$("#endTime").trigger("change"),$("#endTime").select2("destroy").select2({theme:"bootstrap4"})}})),getAllTimeZone("timeZoneFrom"),getAllTimeZone("timeZoneTo"),courseProviderList("teacherFilterTime","lmsPlatform"),$("#timeZoneFrom").select2({theme:"bootstrap4"}).on("change",(function(){var e=$("#timeZoneFrom option:selected").clone(),t=$("#timeZoneFrom option:selected").nextAll().clone();$("#timeZoneTo").select2("destroy").select2(),$("#timeZoneTo").empty().append(e),t.each((function(){$("#timeZoneTo").append($(this))})),$("#timeZoneTo").select2({theme:"bootstrap4"}),$("#timeZoneTo").trigger("change")})),$("#timeZoneTo").select2({theme:"bootstrap4"}),$("#subjectId").select2({theme:"bootstrap4"});var d=new Date;d=d.toString().split(" ")[1]+" "+d.toString().split(" ")[2]+", "+d.toString().split(" ")[3],$("#timeAvailableDateFrom").val(d),$("#timeAvailableDateTo").val(d),$(document).on("show.bs.modal",".modal",(function(e){if(!$(e.target).hasClass("datepicker")&&0!==$(e.target).closest(".modal").length){var t=1050+20*$(".right-slide-modal:visible").length,a=$(this);customModalShow(a,t),setTimeout((function(){}),500)}})),$(document).on("hidden.bs.modal",".modal",(function(){var e=$(this).css("z-index")-1;$("body").find("."+e).remove()})),$("#teacherTimeSearch").on("click",(function(){return $("#totalTeacher").text("0"),$("#agreedHrs").text("0"),$("#availableHrs").text("0"),$("#occupiedHrs").text("0"),$("#unoccupiedHrs").text("0"),$("#remaining").text("0"),$("#availableHrs").attr("data-available-second",0),$("#occupiedHrs").attr("data-occupied-second",0),$("#unoccupiedHrs").attr("data-unoccupied-second",0),$("#remaining").attr("data-remaining-second",0),$("#totalTeacher").attr("data-total-teacher",0),""==$("#timeAvailableDateFrom").val()?(showMessageTheme2(!1,"Please select start date"),!1):""==$("#timeAvailableDateTo").val()?(showMessageTheme2(!1,"Please select End date"),!1):new Date($("#timeAvailableDateFrom").val())>new Date($("#timeAvailableDateTo").val())?(showMessageTheme2(!1,"Start date must be less than End date."),!1):void callTeacherListForAvailability("teacherFilterTime","")})),$("#teacherTimeSearchReset").on("click",(function(){$("#timeZoneFrom").val("").trigger("change"),$("#timeZoneTo").val("").trigger("change"),$("#teacherName").val(""),$("#teacherEmail").val(""),$("#teacherProfileStatus").val("").trigger("change"),$("#timeAvailableSearchtype").val("TODAY").trigger("change")})),$("#timeAvailableSearchtype").on("change",(function(){var e=$("#timeAvailableSearchtype").val(),t=function(e){var t="",a="",l=[],d=[];if("WEEK"==e){const e=new Date,t=e.getDay(),a=new Date(e);a.setDate(e.getDate()-t);const i=new Date(a);i.setDate(a.getDate()+6);l=a.toDateString().split(" "),d=i.toDateString().split(" ")}else if("MONTH"==e){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0);l=t.toDateString().split(" "),d=a.toDateString().split(" ")}else{d=l=(new Date).toString().split(" ")}return t=l[1]+" "+l[2]+", "+l[3],a=d[1]+" "+d[2]+", "+d[3],{start:t,end:a}}(e),a=$("#timeAvailableSearchtype option:selected").text();"MONTH"==e?$(".daywisezoom").text("Total"):($(".daywisezoom").text(a+" | Total"),$(".daywisezoom").css({display:"block"})),"TODAY"==e?$(".hideTimeAvailableDate").css({display:"none"}):"WEEK"==e||"MONTH"==e?($("#timeAvailableDateFrom").attr("disabled","true"),$("#startTime").attr("disabled","true"),$("#timeAvailableDateTo").attr("disabled","true"),$("#endTime").attr("disabled","true"),$(".hideTimeAvailableDate").css({display:"block"})):($("#timeAvailableDateFrom").removeAttr("disabled"),$("#startTime").removeAttr("disabled"),$("#timeAvailableDateTo").removeAttr("disabled"),$("#endTime").removeAttr("disabled"),$(".hideTimeAvailableDate").css({display:"block"})),$("#timeAvailableDateFrom").val(t.start),$("#timeAvailableDateTo").val(t.end)})),getTimeForDropdown("startTime"),getTimeForDropdown("endTime"),$("#startTime").val("00:00 AM"),$("#endTime").val("11:59 PM"),$("#teacherTimeSearchReset").trigger("click"),$("select#standardId").unbind("change").bind("change",(function(){callSubjectsByGradeId("teacherFilterTime",this.value,"standardId","subjectId","","",37)}))}function getTimeForDropdown(e){for(var t=$("#"+e),a=0;a<24;a++)for(var l=0;l<60;l+=30){var d=a%12,i=(d=d||"00")+":"+(l<10?"0"+l:l)+" "+(a<12?"AM":"PM");t.append($("<option></option>").val(i).html(i))}t.append('<option value="11:59 PM">11:59 PM</option>')}async function teacherTimeAvailabilityContent(e){return'<div class="app-container app-theme-white body-tabs-shadow fixed-header fixed-sidebar">'+await dashboardHeader()+'<div class="app-main pb-4"><div class="col p-0"><div class="app-main__inner pt-2"><div class="app-page-title"><div class="page-title-wrapper"><div class="page-title-heading"><div class="page-title-icon"><i class="fas fa-user-cog text-primary"></i></div><div>'+e+'</div></div></div> </div><div class="main-card mb-3 card"><div class="card-body bg-light-primary"><div class="full text-right"><a href="javascript:void(0)" class="btn btn-primary" onclick="getRecommendedTeacherListModal()">Get Recommended Teacher</a></div><form id="teacherFilterTime"><div class="row mt-2"><div class="col-xl-3 col-lg-4 col-md-4 col-sm-6 col-12 mb-2"><label class="full text-primary m-0">Teacher Name</label><input type="text" class="form-control" name="teacherName" id="teacherName" value=""></div><div class="col-xl-3 col-lg-4 col-md-4 col-sm-6 col-12 mb-2"><label class="full text-primary m-0">Teacher Email</label><input type="text" class="form-control" name="teacherEmail" id="teacherEmail" value=""></div><div class="col-xl-2 col-lg-4 col-md-4 col-sm-6 col-12 mb-2"><label class="full text-primary m-0">LMS Platform</label><select name="lmsPlatform" id="lmsPlatform" class="form-control"></select></div><div class="col-md-2 col-sm-6 col-xs-12"><label>Select Grade</label><select name="standardId" id="standardId" class=" multiselect-dropdown form-control"><option value="">Select Grade</option>'+getStandardContent(SCHOOL_ID,!0)+'</select></div><div class="col-md-2 col-sm-6 col-xs-12"><label>Select Course</label><select name="subjectId" id="subjectId" class="form-control"></select></div><div class="col-xl-2 col-lg-4 col-md-4 col-sm-6 col-12 mb-2"><label class="full text-primary m-0">Profile Status</label><select class="form-control" id="teacherProfileStatus" name="teacherProfileStatus" multiple="multiple"><option value="0">On Boarded</option><option value="1">Under Training</option><option value="2">On Hold</option></select></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"><label class="full text-primary m-0">Time Zone From</label><select class="form-control" name="timeZoneFrom" id="timeZoneFrom"></select></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"><label class="full text-primary m-0">Time Zone To</label><select class="form-control" name="timeZoneTo" id="timeZoneTo"></select></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"></div><div class="col-xl-2 col-lg-4 col-md-4 col-sm-6 col-12 mb-2"><label class="full text-primary m-0">Select Date <span class="font-weight-bold text-dark ml-2 d-inline-block"style="font-size:10px">(UTC +8:00) - Singapore</span></label><select class="form-control" id="timeAvailableSearchtype" name="timeAvailableSearchtype"><option value="TODAY">Today</option><option value="WEEK">Week</option><option value="MONTH">Month</option><option value="CUSTOM">Custom</option></select></div><div class="col-xl-10 col-lg-8 col-md-8 col-lg-8"> <div class="row"><div class="col-xl-2 col-lg-4 col-md-4 col-sm-6 col-12 mb-2 "><div class="w-100 hideTimeAvailableDate"><label class="full text-primary m-0">Start Date</label><input type="text" class="form-control" name="timeAvailableDateFrom" id="timeAvailableDateFrom"></div></div><div class="col-xl-2 col-lg-4 col-md-4 col-sm-6 col-12 mb-2 "><div class="w-100 hideTimeAvailableDate"><label class="full text-primary m-0">Start Time</label><select class="form-control" name="startTime" id="startTime" style="font-size:11px !important"></select></div></div><div class="col-xl-2 col-lg-4 col-md-4 col-sm-6 col-12 mb-2 "><div class="w-100 hideTimeAvailableDate"><label class="full text-primary m-0">End Date</label><input type="text" class="form-control" name="timeAvailableDateTo" id="timeAvailableDateTo"></div></div><div class="col-xl-2 col-lg-4 col-md-4 col-sm-6 col-12 mb-2 "><div class="w-100 hideTimeAvailableDate"><label class="full text-primary m-0">End Time</label><select class="form-control" name="endTime" id="endTime" style="font-size:11px !important"></select></div></div><div class="col-xl-4 col-lg-12 col-md-12 col-sm-12 col-12 mb-2"><div class="w-100 text-right"><label class="full text-primary m-0">&nbsp;</label><a href="javascript:void(0)" id="teacherTimeSearchReset" class="btn btn-success">Reset</a>&nbsp;&nbsp;<a href="javascript:void(0)" id="teacherTimeSearch" class="btn btn-primary">Apply</a></div></div></div></div></div><hr/></form><div class="row"><div class="col-12 px-2 d-flex flex-wrap mt-4 justify-content-center"><div class="border-dark border p-2 rounded flex-grow-1 mx-2 mb-2" style="border-top-width:6px !important"><h6>Total Teacher</h6><span class="text-decoration-none font-weight-bold text-success d-none" style="padding:2px;" data-total-teacher="0" id="totalTeacher">0</span><span class="text-decoration-none font-weight-bold text-dark float-right" id="totalTeacherLive">0</span><div class="mb-3 progress progress-bar bg-success" id="teacherCountProgress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">&nbsp;</div></div> <div class="bg-light-primary border-primary border p-2 rounded flex-grow-1 mx-2 mb-2" style="border-top-width:6px !important"><h6>Availability (hh:mm)</h6><span class="text-decoration-none font-weight-bold text-dark" data-available-second="0" id="availableHrs">0</span> </div><div class="bg-light-danger border-danger border p-2 rounded flex-grow-1 mx-2 mb-2" style="border-top-width:6px !important"><h6>Booked (hh:mm)</h6><span class="text-decoration-none font-weight-bold text-dark" data-occupied-second="0" id="occupiedHrs">0</span></div><div class="bg-light-success border-success border p-2 rounded flex-grow-1 mx-2 mb-2" style="border-top-width:6px !important"><h6>Remaining (hh:mm)</h6><span class="text-decoration-none font-weight-bold text-dark"  data-unoccupied-second="0" id="unoccupiedHrs">0</span> </div><div class="bg-light-warning border-warning border p-2 rounded flex-grow-1 mx-2 mb-2" style="border-top-width:6px !important"><h6>Total Availability Not Given (hh:mm)</h6><span class="text-decoration-none font-weight-bold text-dark"  data-remaining-second="0" id="remaining">0</span></div></div></div><div class="row"><div class="col-12 lead-table-wrapper mt-3 table-responsive" style="max-height: 70vh;"><table class="table table-bordered font-12 border-radius-table border-0 table-hover scrollFixedTable " style="min-width: 1300px;width: 100%;" id="teacher-available-timelist"><thead style="position: sticky; top: 0; left: 0; z-index: 1;"><tr><th class="bg-primary font-weight-bold text-white rounded-top-left-10 border-bottom-0" style="width:5% !important">S.No.</th><th class="bg-primary font-weight-bold text-white border-bottom-0" style="width:25% !important">Teacher Name<br/>Grade | Course<br/>Country | TimeZone</th><th class="bg-primary font-weight-bold text-white border-bottom-0" style="width:30% !important">Contract Hours = Live Class+Admin Task<br/>Assigned <span class="badge badge-dot badge-info" title="Assigned" style="border-radius: 0px;">Student Assigned</span> = 1:1 <span class="badge badge-dot badge-dark" title="1:1" style="border-radius: 0px;">1:1</span> + Group <span class="badge badge-dot" title="Group" style="border-radius: 0px;background-color: #ff059d;">Group</span></th><th class="bg-primary font-weight-bold text-white border-bottom-0" style="width:10% !important">Availability<br/>live Class (hh:mm)</th><th class="bg-primary font-weight-bold text-white border-bottom-0" style="width:5% !important">Booked<br/>(hh:mm)</th><th class="bg-primary font-weight-bold text-white border-bottom-0" style="width:5% !important">Remaining<br/>(hh:mm)</th><th class="bg-primary font-weight-bold text-white border-bottom-0" style="width:10% !important">Availability Not Given (hh:mm)</th><th class="bg-primary font-weight-bold text-white border-bottom-0" style="width:10% !important; border-radius: 0px 12px 0px 0px;">Submitted Zoom Hours (hh:mm)<br/><span class="daywisezoom">Day Wise | Total</span></th></tr></thead><tbody class="teacher-time-body"><tr class="td-border-design"><td class="bold" style="border-width:1px;border-color:#eee; text-align:center;" colspan="10">No Record found</td></tr></tbody></table></div></div></div><div id="for-scroll-to-fixed-height" style="height: 1500px;display: none;"></div></div></div></div></div></div>'+TeacherTimeAvailabilityPopup()+teacherTimeAvailabilityValidClassPopup()+teacherTimeAvailabilityBookClass()+teacherTimeAvailabilityAddPopup()+getStudentListPopup()+await dashboardFooter()+warningModelContent()+loaderContent()+recommendedTeacherlistModal()}async function dashboardHeader(){var e=await getSchoolSettingsLinks(SCHOOL_ID);return'<div class="sticky-header"><div class="app-header header-shadow"><div class="app-header__logo"><a href="'+e.schoolWebsite+'" target="blank" class="logo-src" style="background:url('+e.logoUrl+SCRIPT_VERSION+');"></a></div></div></div>'}async function dashboardFooter(){await getSchoolSettingsTechnical(SCHOOL_ID);return'<div class="app-wrapper-footer"><div class="server-message"><span class="msg" id="msgTheme2"></span></div></div>'}function warningModelContent(){return'<div class="modal fade fade-scale" id="remarksresetDelete" tabindex="-1"><div class="modal-dialog modal-sm modal-dialog-centered box-shadow-none" role="document"><div class="modal-content text-center"><div class="modal-header pt-2 pb-2 bg-danger text-white justify-content-center"><h5 class="heading" id="warningMessage">Are you sure?</h5></div><div id="statusMessage-1" class="modal-body delete-modal"><i class="fa fa-times fa-4x text-danger"></i></div><div class="modal-footer"><div class="m-auto"><button id="resetDeleteErrorWarningYes" type="button" class="btn btn-outline-danger">Yes</button><button id="resetDeleteErrorWarningNo" type="button" class="btn btn-danger" onclick="selfCloseModal(this, \'remarksresetDelete\');" >No</button><button id="resetDeleteErrorWarningCancel" type="button" class="btn btn-success" data-dismiss="modal" style="">Close</button></div></div></div></div></div>'}function loaderContent(){var e='<div id="commonloaderIdNewLoader" class="loader-wrapper d-flex justify-content-center align-items-center loader-style hide-loader">';return 1==SCHOOL_ID?e+='<img src="'+PATH_FOLDER_IMAGE2+'loader-new.gif" alt="'+SCHOOL_NAME+' Loader" class="new-loader-2024" />':e+='<div class="ball-rotate"><div style="background-color: rgb(247, 185, 36);"></div></div><p>Loading ...</p>',e+="</div>"}function teacherTimeAvailabilityValidClassPopup(){return'<div class="modal fade pr-0 right-slide-modal" id="teacherOccupiedClass" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-lg p-0 float-right"><div class="modal-content"><div class="modal-header bg-primary py-2"><h5 class="modal-title text-white">Teacher Occupied Class</h5><button type="button" class="close bg-white rounded-top-left-10 rounded-bottom-left-10 opacity-10 p-2" data-dismiss="modal" aria-label="Close" style="position: absolute;left:-32px;top:62px"><span aria-hidden="true">&times;</span></button></div><div class="modal-body overflow-auto"><div class="row"><div class="col-12 overflow-auto"><table class="table table-bordered table-striped font-12 " style="min-width: 1000px;width: 100%;"><thead><tr><th>S.No.</th><th>Class With</th><th>Course Name</th><th>Class Timings</th></tr></thead><tbody class="tblTimeBookList"></tbody></table></div></div></div></div></div></div>'}function teacherTimeAvailabilityBookClass(){return'<div class="modal fade pr-0 right-slide-modal" id="bookAClassModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-lg p-0 float-right"><div class="modal-content"><div class="modal-header bg-primary py-2"><h5 class="modal-title text-white">Book A Class</h5><button type="button" class="close bg-white rounded-top-left-10 rounded-bottom-left-10 opacity-10 p-2" data-dismiss="modal" aria-label="Close" style="position: absolute;left:-32px;top:62px"><span aria-hidden="true">&times;</span></button></div><div class="modal-body overflow-auto"><div class="row"><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"><label class="m-0">Create Class for</label><select name="day" id="day" class="form-control"></select></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"><label class="m-0">Type of Class</label><select name="task" id="task" class="form-control"><option value="">One Day Class</option><option value="">Parent Teacher Meeting</option><option value="">Demo Class</option><option value="">Custom</option></select></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"><label class="m-0">Grade</label><select name="task" id="task" class="form-control"></select></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"><label class="m-0">Student Name</label><select name="studentName" id="studentName" class="form-control"></select></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"><label class="m-0">Course Name</label><select name="courseName" id="courseName" class="form-control"></select></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"><label class="m-0">Start Time</label><input type="text" class="form-control datepicker" name="meetingDate" id="meetingDate" autocomplete="off"></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"><label class="m-0">Start Time</label><input type="text" class="form-control timepicker" name="statrTime" id="statrTime" autocomplete="off"></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"><label class="m-0">Duration <i>(mins)</i></label><input type="text" class="form-control" value="50" name="duration" id="duration" disabled></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2 ml-auto text-right"><a href="javascript:void(0)" class="btn btn-primary" onclick="$(/"#validateClassModal/").modal(/"show/")">Validate Class</a></div></div></div></div></div></div>'}function teacherTimeAvailabilityAddPopup(){return'<div class="modal fade pr-0 right-slide-modal" id="addAvailiblityModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-lg p-0 float-right"><div class="modal-content"><div class="modal-header bg-primary py-2"><h5 class="modal-title text-white">Add Availability</h5><button type="button" class="close bg-white rounded-top-left-10 rounded-bottom-left-10 opacity-10 p-2" data-dismiss="modal" aria-label="Close" style="position: absolute;left:-32px;top:62px"><span aria-hidden="true">&times;</span></button></div><div class="modal-body overflow-auto"><div class="row"><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"><label class="m-0">Select a day</label><select name="day" id="day" class="form-control"><option value="sun">Sunday</option><option value="mon">Mondal</option><option value="tue">Tuesday</option><option value="wed">Wednesday</option><option value="thr">Thursday</option><option value="fri">Friday</option><option value="sat">Saturday</option></select></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"><label class="m-0">Select a task</label><select name="task" id="task" class="form-control"><option value="lc">Live Classes</option><option value="at">Admin Task</option></select></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"><label class="m-0">Start Time</label><input type="text" class="form-control timepicker" name="statrTime" id="statrTime" autocomplete="off"></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2"><label class="m-0">End Time</label><input type="text" class="form-control timepicker" name="endTime" id="endTime" autocomplete="off"></div><div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 mb-2 ml-auto text-right"><a href="javascript:void(0)" class="btn btn-primary">ADD</a><a href="javascript:void(0)" class="btn btn-outline-primary mr-2">Close</a>></div><div class="col-12 mt-2"><table class="table table-bordered font-12 border-radius-table border-0"><thead><tr><th class="bg-primary font-weight-bold text-white text-center rounded-top-left-10 border-bottom-0">Date & Time</th><th class="bg-primary font-weight-bold text-white text-center border-bottom-0">Task Name</th><th class="bg-primary font-weight-bold text-white text-center border-bottom-0">Slot</th><th class="bg-primary font-weight-bold text-white text-center border-bottom-0">Total Time</th><th class="bg-primary font-weight-bold text-white text-center border-bottom-0 rounded-top-right-10">Action</th></tr></thead><tbody class="lead-table-css"><tr class="td-border-design"><td class="rounded-bottom-left-10 text-center" style="border-width: 1px;border-color:#eee">Sun May 19, 2024</td><td class="text-center" style="border-width: 1px;border-color:#eee">Live Classes</td><td class="text-center" style="border-width: 1px;border-color:#eee"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-success border border-success rounded-5 font-10" data-teach-strtime="20:28:00" data-teach-entime="22:28:00">08:28 PM - 10:28 PM</span></td><td class="text-center" style="border-width: 1px;border-color:#eee">2h</td><td class="text-center rounded-bottom-right-10" style="border-width: 1px;border-color:#eee"><a href="javascript:void(0)" class="ml-1 text-danger" tabindex="0"><i class="lnr-trash"></i></a></td></tr></tbody></table><div class="full text-right"><a href="javascript:void(0)" class="btn btn-outline-success">Save</a></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button><button type="button" class="btn btn-primary">Save changes</button></div></div></div></div>'}function TeacherTimeAvailabilityPopup(){return'<div class="modal fade pr-0 right-slide-modal safd" id="availiblityModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-xl p-0 float-right"><div class="modal-content"><div class="modal-header bg-primary py-2"><h5 class="modal-title text-white w-100"><span class="teacherNameClass">--</span><span class="d-inline-block ml-2 agreedHourLabel"></span><span class="timezoneWithOffset pull-right">--</span></h5><button type="button" class="close bg-white rounded-top-left-10 rounded-bottom-left-10 opacity-10 p-2" data-dismiss="modal" aria-label="Close" style="position: absolute;left:-32px;top:62px"><span aria-hidden="true">&times;</span></button></div><div class="modal-body overflow-auto"><div class="row"><div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12 mb-2 mb-md-0 text-center text-md-left"><span class="slider-navigation"></span></div><div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12 mb-2 mb-md-0 text-center text-md-right"></div></div><div class="slider-wrapper slick-slider-time-availiblity pt-4 timeOccupied"><div class="timeOccupiedCurrent overflow-auto"></div><div class="timeOccupiedNext overflow-auto"></div></div></div></div></div></div>'}function recommendedTeacherlistModal(){return'<div class="modal fade pr-0 right-slide-modal" id="recommendedTeacherlistModal" tabindex="-1" role="dialog"><div class="modal-dialog modal-xl p-0 float-right"><div class="modal-content"><div class="modal-header bg-primary py-2"><h5 class="modal-title text-white w-100">Get Recommended Teachers</h5><button type="button" class="close bg-white rounded-top-left-10 rounded-bottom-left-10 opacity-10 p-2" data-dismiss="modal" aria-label="Close" style="position: absolute;left:-32px;top:62px"><span aria-hidden="true">&times;</span></button></div><div class="modal-body overflow-y-auto"><form id="recommendedTeacherlistForm" class="full"></form><div class="row"><div class="col-12"><hr/><label class="m-0 full font-weight-bold mb-2 selected-student" style="display:none">Recommended Teachers for <span id="selectedStudentTime"></span></label></div><div class="col-12 overflow-y-auto" style="height:425px"><table class="table table-bordered font-12 border-radius-table border-0 table-hover" id="recommendedTeachers" style="min-width: 1300px; width: 100%;table-layout:fixed" id="recommendedTeacherTable"><thead><tr><th style="top:0;left:0;z-index:1;width:4%" class="position-sticky bg-primary font-weight-bold text-white rounded-top-left-10 border-bottom-0 ">S. No.</th><th style="top:0;left:0;z-index:1;width:12%" class="position-sticky bg-primary font-weight-bold text-white border-bottom-0">Course Name</th><th style="top:0;left:0;z-index:1;width:19%" class="position-sticky bg-primary font-weight-bold text-white border-bottom-0">Assigned Teacher</th><th style="top:0;left:0;z-index:1;width:18%" class="position-sticky bg-primary font-weight-bold text-white border-bottom-0">Selected Teacher</th><th style="top:0;left:0;z-index:1;width:47%" class="position-sticky bg-primary font-weight-bold text-white border-bottom-0 rounded-top-right-10">Available Teachers (Approximate hours based on matched time preferences are listed below).</th></tr></thead><tbody class="" style="max-height:420px;"></tbody></table></div><div class="col-12 text-right mt-2 bulkUpdateBtnWrapper"><a href="javascript:void(0)" class="btn btn-primary p-1 mr-1 disabled" onclick="saveAutoAssignTeacherRequest(\'recommendedTeacherlistForm\',0,0,0,\'true\')" >Update</a></div></div></div></div></div></div>'}function recommendedTeacherTr(e,t){var a=1,l="",d=[];return t>10&&t<18?($.each(e,(function(e,t){d.push(t.subjectId)})),getAllRecommendedTeacherBySubject(e[0].subjectId,"recommended"+e[0].subjectId,d,0,e[0].assignedTeacher.teacherUserId),getTeacherTimeAvailable(e[0].assignedTeacher.teacherUserId,e[0].subjectId),l+='<tr><td class="rounded-bottom-left-10" style="width:4%">'+a+++"</td>",l+='<td style="width:12%" class="font-weight-semi-bold font-size-md">All Courses</td>',l+='<td class="assignedTeacherTd'+e[0].subjectId+'" style="width:19%">',0!=e[0].assignedTeacher.teacherUserId?l+='<div class="border bg-white rounded-5 w-100 mr-2 recommended-teacher-thumb" style="max-width:230px;min-width:230px;" id="clone-0-0'+e[0].subjectId+'" data-order="'+e[0].assignedTeacher.orderId+'"><div class="card-body d-flex px-2 pt-2 align-items-center pb-0"><span><img  width="42" class="rounded-circle user-header-img" src="'+e[0].assignedTeacher.profilePic+'" alt=""><div class="custom-checkbox custom-control mt-3"><input type="checkbox" id="0-0'+e[0].subjectId+'-checkbox" class="custom-control-input" onchange="selecteTeacher(\'clone-0-0'+e[0].subjectId+"','0-0"+e[0].subjectId+"-checkbox','update-and-reset-0-0"+e[0].subjectId+"', 'selectedTeacherTd"+e[0].subjectId+'\')"><label class="custom-control-label" for="0-0'+e[0].subjectId+'-checkbox" style="display:none">&nbsp;</label></div></span><div class="pl-2"><div class="teacher-name font-weight-semi-bold font-size-md">'+e[0].assignedTeacher.teacherName+'</div><div class="teacher-timezone" style="word-break:break-all">'+e[0].assignedTeacher.timeZone+'</div><div class="teacher-availability"><span class="total-hour text-primary available-'+e[0].assignedTeacher.teacherUserId+'">'+e[0].assignedTeacher.availability+'</span> | <span class="total-hour text-success remaining-'+e[0].assignedTeacher.teacherUserId+'">'+e[0].assignedTeacher.remaining+'</span> | <span class="total-hour text-danger booked-'+e[0].assignedTeacher.teacherUserId+'">'+e[0].assignedTeacher.booked+'</span></div><div class="mb-2"><a href="javascript:void(0)" class="btn btn-sm btn-primary p-1 mt-1" style="font-size:11px; font-weight:300px;line-height:1" onclick="viewWeeklyTimeDetails(\''+e[0].assignedTeacher.teacherName+"', '"+e[0].assignedTeacher.teacherUserId+"','"+e[0].subjectId+'\');">View Weekly Calendar</a><a href="javascript:void(0)" class="btn btn-sm btn-success p-1 mt-1 sendMail" id="send-0-0'+e[0].subjectId+'" style="font-size:11px; font-weight:300px;line-height:1" onclick="sendMailFromAutoTeacherAssign(\'0\')">Send Mail</a></div></div></div><div class="full text-center pb-2" id="update-and-reset-0-0'+e[0].subjectId+'" style="display:none"><a href="javascript:void(0)" class="btn btn-sm btn-primary p-1 mr-1" style="font-size:11px; font-weight:300px;line-height:1" onclick="assignTeacher(\'clone-0-0'+e[0].subjectId+"','0-0"+e[0].subjectId+"-checkbox','update-and-reset-0-0"+e[0].subjectId+"', 'assignedTeacherTd"+e[0].subjectId+"', 'selectedTeacherTd"+e[0].subjectId+"', 'recommended"+e[0].subjectId+"','"+e[0].subjectId+"', '"+e[0].assignedTeacher.teacherUserId+"','"+d+"','send-0-0"+e[0].subjectId+'\')">Update</a><a href="javascript:void(0)" class="btn btn-sm btn-danger p-1" style="font-size:11px; font-weight:300px;line-height:1" onclick="reset(\'clone-0-0'+e[0].subjectId+"','0-0"+e[0].subjectId+"-checkbox','update-and-reset-0-0"+e[0].subjectId+"', 'recommended"+e[0].subjectId+"', 'selectedTeacherTd"+e[0].subjectId+"','\"\"','send-0-0"+e[0].subjectId+"')\">Remove</a></div></div>":l+='<div class="card-body d-flex px-2 pt-2 align-items-center pb-0">Teacher Not Assigned</div>',l+='</td><td class="selectedTeacherTd'+e[0].subjectId+'" style="width:18%"><span class="blankText font-weight-semi-bold font-size-md">Teacher Not Selected</span></td><td class="rounded-bottom-right-10 overflow-x-auto" style="width:47%"><div class="full"><div class="d-flex recommended'+e[0].subjectId+'"><div class="loader-wrapper d-flex justify-content-center align-items-center"><div class="loader">Getting best results...<div class="line-scale"><div></div><div></div><div></div><div></div><div></div></div></div> </div>',l+="</div></div></td></tr>"):$.each(e,(function(e,t){getAllRecommendedTeacherBySubject(t.subjectId,"recommended"+t.subjectId,"",e,t.assignedTeacher.teacherUserId),getTeacherTimeAvailable(t.assignedTeacher.teacherUserId,t.subjectId),l+='<tr><td class="rounded-bottom-left-10" style="width:4%">'+a+++'</td><td style="width:12%" class="font-weight-semi-bold font-size-md subject-name-'+t.subjectId+'">'+t.subjectName+'<input type="hidden" class="form-control subjectId" id="hiddenSubjectId" name="hiddenSubjectId" value="'+t.subjectId+'"/></td><td class="assignedTeacherTd'+t.subjectId+'" style="width:19%">',0!=t.assignedTeacher.teacherUserId?l+='<div class="border bg-white rounded-5 w-100 mr-2 recommended-teacher-thumb" style="max-width:230px;min-width:230px;" id="clone-0-0'+t.subjectId+'" data-order="'+t.assignedTeacher.orderId+'"><div class="card-body d-flex px-2 pt-2 align-items-center pb-0"><span><img  width="42" class="rounded-circle user-header-img" src="'+t.assignedTeacher.profilePic+'" alt=""><div class="custom-checkbox custom-control mt-3"><input type="checkbox" id="0-0'+t.subjectId+'-checkbox" class="custom-control-input" onchange="selecteTeacher(\'clone-0-0'+t.subjectId+"','0-0"+t.subjectId+"-checkbox','update-and-reset-0-0"+t.subjectId+"', 'selectedTeacherTd"+t.subjectId+'\')"><label class="custom-control-label" for="0-0'+t.subjectId+'-checkbox" style="display:none">&nbsp;</label></div></span><div class="pl-2"><div class="teacher-name font-weight-semi-bold font-size-md">'+t.assignedTeacher.teacherName+'</div><div class="teacher-timezone" style="word-break:break-all">'+t.assignedTeacher.timeZone+'</div><div class="teacher-availability"><span class="total-hour text-primary available-'+t.assignedTeacher.teacherUserId+'">'+t.assignedTeacher.availability+'</span> | <span class="total-hour text-success remaining-'+t.assignedTeacher.teacherUserId+'">'+t.assignedTeacher.remaining+'</span> | <span class="total-hour text-danger booked-'+t.assignedTeacher.teacherUserId+'">'+t.assignedTeacher.booked+'</span></div><div class="mb-2"><a href="javascript:void(0)" class="btn btn-sm btn-primary p-1 mt-1" style="font-size:11px; font-weight:300px;line-height:1" onclick="viewWeeklyTimeDetails(\''+t.assignedTeacher.teacherName+"', '"+t.assignedTeacher.teacherUserId+"','"+t.subjectId+'\')">View Weekly Calendar</a><a href="javascript:void(0)" class="btn btn-sm btn-success p-1 mt-1 sendMail" id="send-0-0'+t.subjectId+'"  style="font-size:11px; font-weight:300px;line-height:1;" onclick="sendMailFromAutoTeacherAssign('+t.subjectId+')">Send Mail</a></div></div></div><div class="full text-center pb-2" id="update-and-reset-0-0'+t.subjectId+'" style="display:none"><a href="javascript:void(0)" class="btn btn-sm btn-primary p-1 mr-1" style="font-size:11px; font-weight:300px;line-height:1" onclick="assignTeacher(\'clone-0-0'+t.subjectId+"','0-0"+t.subjectId+"-checkbox','update-and-reset-0-0"+t.subjectId+"', 'assignedTeacherTd"+t.subjectId+"', 'selectedTeacherTd"+t.subjectId+"', 'recommended"+t.subjectId+"','"+t.subjectId+"', '"+t.assignedTeacher.teacherUserId+"','send-0-0"+t.subjectId+'\')">Update</a><a href="javascript:void(0)" class="btn btn-sm btn-danger p-1" style="font-size:11px; font-weight:300px;line-height:1" onclick="reset(\'clone-0-0'+t.subjectId+"','0-0"+t.subjectId+"-checkbox','update-and-reset-0-0"+t.subjectId+"', 'recommended"+t.subjectId+"', 'selectedTeacherTd"+t.subjectId+"','\"\"','send-0-0"+t.subjectId+"')\">Remove</a></div></div>":l+='<div class="card-body d-flex px-2 pt-2 align-items-center pb-0">Teacher Not Assigned</div>',l+='</td><td class="selectedTeacherTd'+t.subjectId+'" style="width:18%"><span class="blankText font-weight-semi-bold font-size-md">Teacher Not Selected</span><input type="hidden" class="form-control selectedTeacherUserId" id="selectedTeacherUserId-'+e+'" name="selectedTeacherUserId-'+e+'" value="" /></td><td class="rounded-bottom-right-10 overflow-x-auto" style="width:47%"><div class="recommended-total-'+t.subjectId+'"></div><div class="full"><div class="d-flex recommended'+t.subjectId+'"><div class="loader-wrapper d-flex justify-content-center align-items-center"><div class="loader">Getting best results... <div class="line-scale"><div></div><div></div><div></div><div></div><div></div></div></div> </div>',l+="</div></div></td></tr>"})),l}function recommendedTeacherBySubjectTr(e,t,a,l,d){var i=0,s="";return $.each(e.recommendedTeachers,(function(e,o){o.teacherUserId!=d&&(s+='<div class="border bg-white rounded-5 w-100 mr-2 recommended-teacher-thumb" style="max-width:230px;min-width:230px;" id="clone-'+o.teacherId+"-"+e+t+'" data-order="'+o.orderId+'"><div class="card-body d-flex px-2 pt-2 align-items-center pb-0"><span><img  width="42" class="rounded-circle user-header-img" src="'+o.profilePic+'" alt=""><div class="custom-checkbox custom-control mt-3"><input type="checkbox" id="'+o.teacherId+"-"+e+t+'-checkbox" class="custom-control-input" onchange="selecteTeacher(\'clone-'+o.teacherId+"-"+e+t+"','"+o.teacherId+"-"+e+t+"-checkbox','update-and-reset-"+o.teacherId+"-"+e+t+"', 'selectedTeacherTd"+t+"','"+o.teacherUserId+"',"+l+')"><label class="custom-control-label" for="'+o.teacherId+"-"+e+t+'-checkbox">&nbsp;</label></div></span><div class="pl-2"><div class="teacher-name font-weight-semi-bold font-size-md">'+o.teacherName+'</div><div class="teacher-timezone" style="word-break:break-all">'+o.timeZone+'</div><div class="teacher-availability"><span class="total-hour text-primary available-'+o.teacherUserId+'">'+o.availability+' | </span><span class="total-hour text-success remaining-'+o.teacherUserId+'">'+o.remaining+' | </span><span class="total-hour text-danger booked-'+o.teacherUserId+'">'+o.booked+'</span></div><div class="mb-2"><a href="javascript:void(0)" class="btn btn-sm btn-primary p-1 mt-1" style="font-size:11px; font-weight:300px;line-height:1" onclick="viewWeeklyTimeDetails(\''+o.teacherName+"', '"+o.teacherUserId+"','"+t+'\')">View Weekly Calendar</a><a href="javascript:void(0)" class="btn btn-sm btn-success p-1 mt-1 sendMail" id="send-0-0'+o.teacherId+"-"+e+t+'" style="font-size:11px; font-weight:300px;line-height:1;display:none" onclick="sendMailFromAutoTeacherAssign(\''+t+'\')">Send Mail</a></div></div></div><div class="full text-center pb-2" id="update-and-reset-'+o.teacherId+"-"+e+t+'" style="display:none"><a href="javascript:void(0)" class="btn btn-sm btn-primary p-1 mr-1" style="font-size:11px; font-weight:300px;line-height:1" onclick="assignTeacher(\'clone-'+o.teacherId+"-"+e+t+"','"+o.teacherId+"-"+e+t+"-checkbox','update-and-reset-"+o.teacherId+"-"+e+t+"', 'assignedTeacherTd"+t+"', 'selectedTeacherTd"+t+"', 'recommended"+t+"','"+t+"', '"+o.teacherUserId+"', '"+a+"','send-0-0"+o.teacherId+"-"+e+t+'\')">Update</a><a href="javascript:void(0)" class="btn btn-sm btn-danger p-1 3" style="font-size:11px; font-weight:300px;line-height:1" onclick="reset(\'clone-'+o.teacherId+"-"+e+t+"','"+o.teacherId+"-"+e+t+"-checkbox','update-and-reset-"+o.teacherId+"-"+e+t+"', 'recommended"+t+"', 'selectedTeacherTd"+t+"','selectedTeacherUserId-"+l+"','send-0-0"+o.teacherId+"-"+e+t+"')\">Remove</a></div></div>",i+=1)})),$(".recommended-total-"+t).html(i+" Teachers found"),s}function recommendedTeacherlistFilterForm(){return'<div class="row"><div class="col-xl-5 col-lg-5 col-md-6 col-sm-12 col-12 mb-2"><label class="m-0 font-weight-bold">Student Name</label><input type="hidden" class="form-control" id="standardIdInput" name="standardIdInput"  /><input type="hidden" class="form-control" id="studentStandardId" name="studentStandardId"  /><input type="hidden" class="form-control" id="studentUserId" name="studentUserId"  /><input type="text" class="form-control" id="typeahead" name="typeahead" placeholder="Search by Student Name or student ID" /></div><div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-12 mb-2 flex-column align-items-center gradeAndLearningProgram" style="display:none"><label class="m-0 full font-weight-bold">Grade | Learning program | LMS Platform</label><div class="mt-2 text-left w-100"><label class="m-0" id="gradeName"></label> | <label class="m-0" id="enrollDetails"></label></div></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12 mb-2"><label class="m-0 font-weight-bold">Course Name</label><select class="form-control" id="courseName" name="courseName"></select></div></div><div class="row"><div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"><label class="m-0 font-weight-bold">Add Student Preference (You can add upto 3 preferences)</label></div><div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-6 mb-2"><label class="m-0 full">&nbsp;</label><select class="form-control" id="addPreferenceStartTime"><option></option></select></div><div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-6 mb-2"><label class="m-0 full">&nbsp;</label><select class="form-control" id="addPreferenceEndTime" disabled><option></option></select></div><span class="d-inline-block"><label class="m-0 full">&nbsp;</label><a href="javascript:void(0)" class="btn btn-primary btn-lg p-2" onclick="addTimePreference(\'addPreferenceStartTime\',\'addPreferenceEndTime\')"><i class="fa fa-plus"></i></a></span><div class="d-inline-block" id="timePreferenceSlotWrapper"><span id="notSlotAdd" class="d-inline-block position-relative font-weight-bold" style="top:30px">No Time Preference Added.</span></div><span class="d-block ml-auto pr-3"><label class="m-0 full">&nbsp;</label><a href="javascript:void(0)" class="btn btn-success mr-1" onclick="recommendedTeachersResetForm();">Reset</a><a href="javascript:void(0)" class="btn btn-primary" onclick="getAllRecommendedTeacher(\'recommendedTeacherlistForm\');">Get Available Teachers</a></span></div>'}function recommendedTeacherAvailabilityModal(e){return'<div class="modal fade" id="recommendedTeacherAvailabilityModal" tabindex="-1" role="dialog" aria-modal="true" ><div class="modal-dialog h-auto modal-dialog-centered modal-xl" role="document" style="box-shadow:none !important"><div class="modal-content h-auto"><div class="modal-header bg-primary py-2 align-items-center"><h6 class="modal-title text-white font-weight-semi-bold teacherName" data-teacherUserId=""></h6><button type="button" class="close text-white" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body">'+recommendedTeacherAvailabilityModalBody(e)+'</div><div class="modal-footer justify-content-between"><p class="font-dark font-weight-bold m-0">**All slots are in the '+e.timeZoneName+' timezone</p><p class="font-dark font-weight-bold m-0"><span class="bg-success d-inline-block rounded-circle" style="width:8px;height:8px;"></span> Available &nbsp;<span class="bg-danger d-inline-block rounded-circle" style="width:8px;height:8px;"></span> Booked &nbsp;<span class="d-inline-block rounded-circle" style="width:8px;height:8px;background:#d6d3d3"></span> Not Available</p><p class="font-dark font-weight-bold m-0 invisible">**All slots are in the '+e.timeZoneName+" timezone</p></div> </div></div></div>"}function recommendedTeacherAvailabilityModalBody(e){for(var t=!1,a=0,l=0,d=0,i=e.teacherWeeklyTimeCurrLiveClass.teacherAssignTimeWeekList.length,s='<div class="recommendedTeacher-availability-slider w-100 position-relative"><button class="slick-prev slick-arrow" aria-label="Previous" type="button" aria-disabled="true" style="" onclick="prevWeeklyTimeDetails(\''+e.previousDateOfWeekFirstDay+'\')">Previous</button><button class="slick-next slick-arrow" aria-label="Previous" type="button" aria-disabled="true" style="" onclick="nextWeeklyTimeDetails(\''+e.nextDateOfWeekLasttDay+'\')">Next</button><div class="overflow-y-auto" style="height:425px"><table class="table font-12 border-0"><thead><tr>';a<=i-1;)$.each(e.teacherWeeklyTimeCurrLiveClass.teacherAssignTimeWeekList[a].teacherAllDataInOneList,(function(e,t){var a=t.displayStartDate.split(","),l=(a=a[0].split(" "))[1]+" "+a[2],d=a[0];s+='<td class="px-1 py-2 border-0 position-sticky" style="top:0;left:0;z-index:1; background:#f3f3f3"><div class="font-weight-bold text-center font-12" style="line-height:1">'+l+'</div><div class="text-center font-12" style="line-height:1">'+d+"</div></td>"})),a++;for(s+="</tr></thead><tbody><tr>";l<=i-1;)$.each(e.teacherWeeklyTimeCurrLiveClass.teacherAssignTimeWeekList[l].teacherAllDataInOneList,(function(e,a){s+='<td class="border-0 vertical-align-top">';var l=checkdateIsPastOrNot(a.displayStartDateWithoutDay);a.dayWiseAllData.length>0&&$.each(a.dayWiseAllData,(function(e,a){"Booked"==a.status?s+='<div class="d-flex align-items-center"><div class="border rounded-5 px-2 py-1 mb-1 text-center ml-4" style="width:fit-content;'+(l?"background:#f5f5f5;color:#c0c0c0;border-color:#c0c0c0 !important":"background:#ffd6d6;color:#ff0000;border-color:#ff0000 !important")+'">'+a.displayStartTime+" - "+a.displayEndTime+"</div></div>":"Available"==a.status&&"outside"==a.timerange?s+='<div class="d-flex align-items-center"><div class="border rounded-5 px-2 py-1 mb-1 text-center ml-4" style="width:fit-content;'+(l?"background:#f5f5f5;color:#c0c0c0;border-color:#c0c0c0 !important":"background:#d7f1d6;color:#06a700;border-color:#06a700 !important")+'">'+a.displayStartTime+" - "+a.displayEndTime+"</div></div>":(l?t=!1:(t=!0,d++),s+='<div class="d-flex align-items-center"><div class="border rounded-5 px-2 py-1 mb-1 text-center ml-4 " style="width:fit-content;'+(l?"background:#f5f5f5;color:#c0c0c0;border-color:#c0c0c0 !important":"background:#d7f1d6;color:#06a700;border-color:#06a700 !important;border-width:2px !important;font-weight:bold")+'">'+a.displayStartTime+" - "+a.displayEndTime+" </div> "+(l?"":'<i class="fa fa-check text-primary ml-1"></i>')+"</div>")})),a.dayWiseAllData.length<1&&(s+='<div class="rounded-5 px-2 py-1 mb-1 mx-auto text-center" style="width:129px; color:#c0c0c0">----</div>'),s+="</td>"})),l++;return s+="</tr></tbody></table></div>",t&&(s+='<div class="font-weight-bold py-2 d-flex align-items-center justify-content-center"><i class="fa fa-check text-primary mr-1"></i> <span> '+d+" possible matches ("+d+" hrs) have been found for the selected preference from "+e.teacherWeeklyTimeCurrLiveClass.teacherAssignTimeWeekList[0].weeklyStartDateStandardFormat+" to "+e.teacherWeeklyTimeCurrLiveClass.teacherAssignTimeWeekList[0].weeklyEndDateStandardFormat+"</span></div>"),s+="</div>"}function timePreferenceSlots(e){var t="";return $.each(e,(function(e,a){t+='<span class="d-inline-block ml-2 selectedPreferenceSlot" id="selectedPreferenceSlot'+e+'" startTime="'+a.startTime+'" endTime="'+a.endTime+'"><div class="m-0 font-weight-bold">Preference '+(e+1)+'</div><label class="bg-light-primary text-primary rounded-5 d-inline-block p-1 border border-primary px-2"><span class="d-inline-block startTimeText">'+a.startTime+'</span> - <span class="d-inline-block endTimeText">'+a.endTime+'</span><a href="javascript:void(0)" class="d-inline-block bg-white text-danger p-1 border border-danger ml-1 rounded-5" style="line-height:14px" onclick="removeSelectTimeSlot(\'selectedPreferenceSlot'+e+'\')"><i class="fa fa-times"></i></a></label></span>'})),t}function getTeacherCurrentAvailability(e){var t="";return $.each(e.teacherAssignTimeWeekList,(function(a,l){t+='<div class="full"><table class="table mb-0 table-bordered font-12 border-0" style="width: 100%;min-width: 940px;"><tbody>',0==a&&(t+='<tr><td class="border-0 p-0">&nbsp;</td><td class="border-0 p-0"><table class="table roop-table mb-0 border-radius-table border-0"><tbody><tr><td colspan="2" class="border-0" style="width:30%"><h5>'+e.reportStartEndDate+'</h5></td><td class="border-0 text-center" style="width:calc(18% + 83px)"><div class="bg-light-primary border-primary border p-1 rounded flex-grow-1 mx-2 mb-2" style="border-top-width:6px !important"><h6 class="m-0" style="font-size:14px">Total Availability Given (hh:mm)<br/><span class="text-decoration-none font-weight-bold text-dark" id="availableHrs">'+e.totalTimeHrs+'</span></h6> </div></td><td class="border-0 text-center" style="width:calc(18% + 83px)"><div class="bg-light-danger border-danger border p-1 rounded flex-grow-1 mx-2 mb-2" style="border-top-width:6px !important"><h6 class="m-0" style="font-size:14px">Total Availability Occupied (hh:mm)<br/><span class="text-decoration-none font-weight-bold text-dark" id="occupiedHrs">'+e.totalTimeOcupHrs+'</span></h6></div></td><td class="border-0 text-center" style="width:calc(18% + 83px)"><div class="bg-light-success border-success border p-1 rounded flex-grow-1 mx-2 mb-2" style="border-top-width:6px !important"><h6 class="m-0" style="font-size:14px">Total Availability Unoccupied (hh:mm)<br/><span class="text-decoration-none font-weight-bold text-dark" id="unoccupiedHrs">'+e.totalTimeUnOcupHrs+"</span></h6> </div></td></tr></tbody></table></td></tr>"),t+='<tr><td rowspan="5" class="font-weight-semi-bold bg-dark text-white font-size-lg position-relative availability-week-row rounded-top-left-10 rounded-bottom-left-10 border-0"><span class="availability-week">WEEK '+(a+1)+'</span></td><td class="border-0 p-0"><table class="table roop-table mb-0 border-radius-table border-0" style="'+(null!=l.weeklyTime?"table-layout:fixed":"")+'"><thead><tr class="text-white"><th valign="middle" class="bg-primary" style="width: 15%;border-width: 0;">Day &amp; Date</th><th valign="middle" class="bg-primary" style="width: 15%;border-width: 0;">Task Name</th><th valign="middle" class="text-right bg-primary" style="border-width: 0;width: 18% !important;">Availability Given</th><th valign="middle" class="text-left bg-primary availability-total-hour-th" style="border-width: 0;width: 83px !important;">Total Hour</th><th valign="middle" class="text-right bg-primary" style="border-width: 0;width: 18% !important;">Availability Occupied</th><th valign="middle" class="text-left bg-primary availability-total-hour-th" style="border-width: 0;width: 83px !important;">Total Hour</th><th valign="middle" class="text-right bg-primary" style="border-width: 0;width: 18% !important;">Availability Unoccupied</th><th valign="middle" class="text-left bg-primary availability-total-hour-th" style="border-width: 0;width: 83px !important;">Total Hour</th></tr></thead><tbody>',null!=l.weeklyTime?($.each(l.weeklyTime,(function(e,a){var l=a.startDate.toString().replace("-","");t+='<tr><td class="bg-primary cursor text-center px-0 expandable-row border-right-0 border-left-0 border-bottom"><div class="squeezed-details text-white">'+a.displayStartDate+'&nbsp;<i class="fa fa-angle-down"></i></div><div class="expandable-details">'+a.displayStartDate+'&nbsp;<i class="fa fa-angle-up"></i></div></td><td class="vertical-align-top border-right-0 border-left-0 border-bottom p-0" colspan="2"><div class="squeezed-details font-weight-semi-bold text-primary"><table class="table roop-table mb-0"><tbody><tr><td class="border-0" style="width:43%">';var d=a.slotType;const i=d.split(",");if("N"==a.dayCheck&&(d=""),i.length>1)for(let e=0;e<i.length;e++){const a=i[e];t+=a+"<br/>"}else t+=d;t+='</td><td class="text-right border-0" style="width:57%">',"N"!=a.dayCheck&&$.each(a.teacherPreferTime,(function(e,a){if(0==e){var l=a.entityId>0?"btn-dashed":"border";t+='<span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-primary '+l+' border-primary rounded-5 font-10" data-teach-strtime="'+a.startTime+'" data-teach-entime="'+a.endTime+'">'+a.displayStartTime+" - "+a.displayEndTime+"</span>"}})),t+='</td></tr></tbody></table></div><div class="expandable-details font-weight-semi-bold text-primary"><table class="table roop-table mb-0"><tbody>';var s=0;t+='<tr><td class="border-0" style="width:43%">',"N"!=a.dayCheck?$.each(a.teacherPreferTime,(function(e,a){"Live Classes"==a.slotType?0==e&&(t+=a.slotType):s+=1})):s+=1,t+='</td><td class="text-center border-0" style="width:57%"><div class="expandable-details"><div class="overflow-auto full" style="'+(s>0?"max-height: 95px":"max-height: 212px")+';">',"N"!=a.dayCheck&&$.each(a.teacherPreferTime,(function(e,a){if("Live Classes"==a.slotType){var l=a.entityId>0?"btn-dashed":"border";t+='<span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-primary '+l+' border-primary rounded-5 font-10" data-teach-strtime="'+a.startTime+'" data-teach-entime="'+a.endTime+'">'+a.displayStartTime+" - "+a.displayEndTime+"</span>"}})),t+="</div></div></td></tr>",t+='<tr><td class="border-0" style="width:43%">';var o=0;"N"!=a.dayCheck?$.each(a.teacherPreferTime,(function(e,a){"Admin Task"==a.slotType&&(0==o&&(t+=a.slotType),o+=1)})):o+=1,t+='</td><td class="text-center border-0" style="width:57%"><div class="expandable-details"><div class="overflow-auto full" style="max-height: 95px;">',"N"!=a.dayCheck&&$.each(a.teacherPreferTime,(function(e,a){if("Admin Task"==a.slotType){var l=a.entityId>0?"btn-dashed":"border";t+='<span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-primary '+l+' border-primary rounded-5 font-10" data-teach-strtime="'+a.startTime+'" data-teach-entime="'+a.endTime+'">'+a.displayStartTime+" - "+a.displayEndTime+"</span>"}})),t+="</div></div></td></tr>",t+='</tbody></table></div></td><td class="text-left px-0 vertical-align-top position-relative border-right-0 border-left-0 border-bottom availability-total-hour-td" style="width: 200px;"><div class="squeezed-details"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-primary border border-primary rounded-5 font-10">'+a.totalHrsSpent+'</span></div><div class="expandable-details"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-primary border border-primary rounded-5 font-10">'+a.totalHrsSpent+'</span></div></td><td class="text-right px-0 vertical-align-top position-relative border-right-0 border-left-0 border-bottom" style="width: 200px;"><div class="squeezed-details">',$.each(a.timeOccupied,(function(e,d){0==e&&(getTeacherTimeBooked(""+d.bookedId,""+d.bookedType,""+a.startDate,""+l),t+='<span class="dropdown d-inline-block"><a href="javascript:void(0);" class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-danger border border-danger rounded-5 font-10 text-decoration-none" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" data-meeting-id="'+d.bookedId+'" data-meeting-type="'+d.bookedType+'" data-teach-strtime="'+d.startTime+'" data-teach-entime="'+d.endTime+'">'+d.displayStartTime+" - "+d.displayEndTime+'</a><div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu-lg dropdown-menu notResponsive p-2 border-primary bg-light-primary" style="box-shadow:0px 0px 4px 1px rgb(0 127 255 / 65%) !important"><div class="arrow"></div><table class="w-100"><tbody><tr class="hideClassWith'+l+"_"+d.bookedId+'"><th class="border-0 p-1 vertical-align-top text-left font-11">Class With:</th><td class="border-0 p-1 vertical-align-top text-left font-11 withClass'+l+"_"+d.bookedId+'"></td></tr><tr><th class="border-0 p-1 vertical-align-top text-left font-11 textCoursename'+l+"_"+d.bookedId+'">Course Name:</th><td class="border-0 p-1 vertical-align-top text-left font-11 courseName'+l+"_"+d.bookedId+'"></td></tr><tr><th class="border-0 p-1 vertical-align-top text-left font-11">Class Type:</th><td class="border-0 p-1 vertical-align-top text-left font-11 classType'+l+"_"+d.bookedId+'"></td></tr><tr class="hideStudentTime'+l+"_"+d.bookedId+'"><th class="border-0 p-1 vertical-align-top text-left font-11">Student Timings:</th><td class="border-0 p-1 vertical-align-top text-left font-11 classStudentTime'+l+"_"+d.bookedId+'"></td></tr><tr><th class="border-0 p-1 vertical-align-top text-left font-11">Admin Timings:</th><td class="border-0 p-1 vertical-align-top text-left font-11 classAdminTime'+l+"_"+d.bookedId+'"></td></tr><tr class="hideClassBuffer'+l+"_"+d.bookedId+'"><th class="border-0 p-1 vertical-align-top text-left font-11">Buffer Time:</th><td class="border-0 p-1 vertical-align-top text-left font-11 bufferTime'+l+"_"+d.bookedId+'"></td></tr></tbody></table></div></span>')}));t+='</div><div class="expandable-details"><div class="overflow-auto full overflow-div" style="max-height: 212px;">',$.each(a.timeOccupied,(function(e,d){getTeacherTimeBooked(""+d.bookedId,""+d.bookedType,""+a.startDate,""+l),t+='<span class="dropdown d-inline-block"><a href="javascript:void(0);" class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-danger border border-danger rounded-5 font-10 text-decoration-none" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" data-meeting-id="'+d.bookedId+'" data-meeting-type="'+d.bookedType+'" data-teach-strtime="'+d.startTime+'" data-teach-entime="'+d.endTime+'" >'+d.displayStartTime+" - "+d.displayEndTime+'</a><div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu-lg dropdown-menu notResponsive p-2 border-primary bg-light-primary" style="box-shadow:0px 0px 4px 1px rgb(0 127 255 / 65%) !important"><div class="arrow"></div><table class="w-100"><tbody><tr class="hideClassWith'+l+"_"+d.bookedId+'"><th class="border-0 p-1 vertical-align-top text-left font-11">Class With:</th><td class="border-0 p-1 vertical-align-top text-left font-11 withClass'+l+"_"+d.bookedId+'"></td></tr><tr><th class="border-0 p-1 vertical-align-top text-left font-11 textCoursename'+l+"_"+d.bookedId+'">Course Name:</th><td class="border-0 p-1 vertical-align-top text-left font-11 courseName'+l+"_"+d.bookedId+'"></td></tr><tr><th class="border-0 p-1 vertical-align-top text-left font-11">Class Type:</th><td class="border-0 p-1 vertical-align-top text-left font-11 classType'+l+"_"+d.bookedId+'"></td></tr><tr class="hideStudentTime'+l+"_"+d.bookedId+'"><th class="border-0 p-1 vertical-align-top text-left font-11">Student Timings:</th><td class="border-0 p-1 vertical-align-top text-left font-11 classStudentTime'+l+"_"+d.bookedId+'"></td></tr><tr><th class="border-0 p-1 vertical-align-top text-left font-11">Admin Timings:</th><td class="border-0 p-1 vertical-align-top text-left font-11 classAdminTime'+l+"_"+d.bookedId+'"></td></tr><tr class="hideClassBuffer'+l+"_"+d.bookedId+'"><th class="border-0 p-1 vertical-align-top text-left font-11">Buffer Time:</th><td class="border-0 p-1 vertical-align-top text-left font-11 bufferTime'+l+"_"+d.bookedId+'"></td></tr></tbody></table></div></span>'})),t+='</div></div></td><td class="text-left px-0 vertical-align-top position-relative border-right-0 border-left-0 border-bottom availability-total-hour-td" style="width: 200px;"><div class="squeezed-details"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-danger border border-danger rounded-5 font-10 text-decoration-none">'+a.totalHrsOccupied+'</span></div><div class="expandable-details"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-danger border border-danger rounded-5 font-10 text-decoration-none">'+a.totalHrsOccupied+'</span></div></td><td class="text-right border-right-0 border-left-0 border-bottom px-0 vertical-align-top position-relative" style="width: 200px;"><div class="squeezed-details">',"N"!=a.dayCheck&&$.each(a.timeUnOccupied,(function(e,a){0==e&&(t+='<span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-success border border-success rounded-5 font-10" data-teach-strtime="'+a.startTime+'" data-teach-entime="'+a.endTime+'">'+a.displayStartTime+" - "+a.displayEndTime,t+="</span>")}));t+='</div><div class="expandable-details"><div class="overflow-auto full" style="max-height: 212px;">',"N"!=a.dayCheck&&$.each(a.timeUnOccupied,(function(e,a){t+='<span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-success border border-success rounded-5 font-10" data-teach-strtime="'+a.startTime+'" data-teach-entime="'+a.endTime+'">'+a.displayStartTime+" - "+a.displayEndTime+"</span>"})),t+='</div></div></td><td class="text-left px-0 vertical-align-top position-relative border-right-0 border-left-0 border-bottom availability-total-hour-td" style="width: 100px;"><div class="squeezed-details"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-success border border-success rounded-5 font-10">'+a.totalHrsUnOccupied+'</span></div><div class="expandable-details"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-success border border-success rounded-5 font-10">'+a.totalHrsUnOccupied+"</span></div></td></tr>"})),t+='<tr><td colspan="2" class="border-top-0 border-right-0 text-center bold">&nbsp;</td><td colspan="" class="border-top-0 border-right-0 text-right bold">Total</td><td class="text-left pl-0 border-right-0 border-left-0"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-white bg-primary rounded-5 font-10">'+l.totalWeekTimeHrs+'</span></td><td class="border-top-0 border-right-0 border-left-0 text-right bold">Total</td><td class="text-left pl-0 border-right-0 border-left-0"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-white bg-danger rounded-5 font-10">'+l.totalWeekTimeOcupHrs+'</span></td><td class="border-right-0 border-left-0 text-right bold">Total</td><td class="rounded-bottom-right-10 border-left-0 text-left pl-0"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-white bg-success rounded-5 font-10">'+l.totalWeekTimeUnOcupHrs+"</span></td></tr>"):t+='<tr><td colspan="6" class="rounded-bottom-right-10 border-top-0 text-center bold">No Availability</td></tr>',t+="</tbody></table></td></tr>",t+="</tbody></table></div>"})),t}function getTeacherNextAvailablity(e){var t="";return $.each(e.teacherAssignTimeWeekList,(function(e,a){t+='<div class="full"><table class="table mb-0 table-bordered font-12 border-0" style="width: 100%;min-width: 940px;"><tbody>',0==e&&(t+='<tr><td class="border-0 p-0">&nbsp;</td><td class="border-0 p-0"><table class="table roop-table mb-0 border-radius-table border-0">\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td colspan="2" class="border-0" style="width:30%">\n\t\t\t\t\t\t\t\t\t\t\t\t<h5>September 27, 2024</h5>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="border-0 text-center" style="width:calc(18% + 83px)">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="bg-light-primary border-primary border p-1 rounded flex-grow-1 mx-2 mb-2" style="border-top-width:6px !important">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 class="m-0" style="font-size:14px">Total Availability Given (hh:mm) <span class="text-decoration-none font-weight-bold text-dark" id="availableHrs">0</span></h6> \n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="border-0 text-center" style="width:calc(18% + 83px)">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="bg-light-danger border-danger border p-1 rounded flex-grow-1 mx-2 mb-2" style="border-top-width:6px !important">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 class="m-0" style="font-size:14px">Total Availability Occupied (hh:mm) <span class="text-decoration-none font-weight-bold text-dark" id="occupiedHrs">0</span></h6>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="border-0 text-center" style="width:calc(18% + 83px)">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="bg-light-success border-success border p-1 rounded flex-grow-1 mx-2 mb-2" style="border-top-width:6px !important">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 class="m-0" style="font-size:14px">Total Availability Unoccupied (hh:mm) <span class="text-decoration-none font-weight-bold text-dark" id="unoccupiedHrs">0</span></h6> \n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table></td></tr>'),t+='<tr><td rowspan="5" class="font-weight-semi-bold bg-dark text-white font-size-lg position-relative availability-week-row rounded-top-left-10 rounded-bottom-left-10 border-0"><span class="availability-week">WEEK '+(e+1)+'</span></td><td class="border-0 p-0"><table class="table roop-table mb-0 border-radius-table border-0" style="'+(null!=a.weeklyTime?"table-layout:fixed":"")+'"><thead><tr class="text-white"><th valign="middle" class="bg-primary" style="width: 15%;border-width: 0;">Day &amp; Date</th><th valign="middle" class="bg-primary" style="width: 15%;border-width: 0;">Task Name</th><th valign="middle" class="text-right bg-primary" style="border-width: 0;width: 18% !important;">Availability Given</th><th valign="middle" class="text-left bg-primary availability-total-hour-th" style="border-width: 0;width: 83px !important;">Total Hour</th><th valign="middle" class="text-right bg-primary" style="border-width: 0;width: 18% !important;">Availability Occupied</th><th valign="middle" class="text-left bg-primary availability-total-hour-th" style="border-width: 0;width: 83px !important;">Total Hour</th><th valign="middle" class="text-right bg-primary" style="border-width: 0;width: 18% !important;">Availability Unoccupied</th><th valign="middle" class="text-left bg-primary availability-total-hour-th" style="border-width: 0;width: 83px !important;">Total Hour</th></tr></thead><tbody>',null!=a.weeklyTime?($.each(a.weeklyTime,(function(e,a){var l=a.startDate.toString().replace("-","");t+='<tr><td class="bg-primary cursor text-center px-0 expandable-row border-right-0 border-left-0 border-bottom"><div class="squeezed-details text-white">'+a.displayStartDate+'&nbsp;<i class="fa fa-angle-down"></i></div><div class="expandable-details">'+a.displayStartDate+'&nbsp;<i class="fa fa-angle-up"></i></div></td><td class="vertical-align-top border-right-0 border-left-0 border-bottom p-0" colspan="2"><div class="squeezed-details font-weight-semi-bold text-primary"><table class="table roop-table mb-0"><tbody><tr><td class="border-0" style="width:43%">';var d=a.slotType;const i=d.split(",");if(i.length>1)for(let e=0;e<i.length;e++){const a=i[e];t+=a+"<br/>"}else t+=d;t+='</td><td class="text-right border-0" style="width:57%">',$.each(a.teacherPreferTime,(function(e,a){if(0==e){var l=a.entityId>0?"btn-dashed":"border";t+='<span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-primary '+l+' border-primary rounded-5 font-10" data-teach-strtime="'+a.startTime+'" data-teach-entime="'+a.endTime+'">'+a.displayStartTime+" - "+a.displayEndTime+"</span>"}})),t+='</td></tr></tbody></table></div><div class="expandable-details font-weight-semi-bold text-primary"><table class="table roop-table mb-0"><tbody>';var s=0;t+='<tr><td class="border-0" style="width:43%">',$.each(a.teacherPreferTime,(function(e,a){"Live Classes"==a.slotType?0==e&&(t+=a.slotType):s+=1})),t+='</td><td class="text-center border-0" style="width:57%"><div class="expandable-details"><div class="overflow-auto full" style="'+(s>0?"max-height: 95px":"max-height: 212px")+';">',$.each(a.teacherPreferTime,(function(e,a){if("Live Classes"==a.slotType){var l=a.entityId>0?"btn-dashed":"border";t+='<span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-primary '+l+' border-primary rounded-5 font-10" data-teach-strtime="'+a.startTime+'" data-teach-entime="'+a.endTime+'">'+a.displayStartTime+" - "+a.displayEndTime+"</span>"}})),t+="</div></div></td></tr>",t+='<tr><td class="border-0" style="width:43%">';var o=0;$.each(a.teacherPreferTime,(function(e,a){"Admin Task"==a.slotType&&(0==o&&(t+=a.slotType),o+=1)})),t+='</td><td class="text-center border-0" style="width:57%"><div class="expandable-details"><div class="overflow-auto full" style="max-height: 95px;">',$.each(a.teacherPreferTime,(function(e,a){if("Admin Task"==a.slotType){var l=a.entityId>0?"btn-dashed":"border";t+='<span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-primary '+l+' border-primary rounded-5 font-10" data-teach-strtime="'+a.startTime+'" data-teach-entime="'+a.endTime+'">'+a.displayStartTime+" - "+a.displayEndTime+"</span>"}})),t+="</div></div></td></tr>",t+='</tbody></table></div></td><td class="text-left px-0 vertical-align-top position-relative border-right-0 border-left-0 border-bottom availability-total-hour-td" style="width: 200px;"><div class="squeezed-details"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-primary border border-primary rounded-5 font-10">'+a.totalHrsSpent+'</span></div><div class="expandable-details"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-primary border border-primary rounded-5 font-10">'+a.totalHrsSpent+'</span></div></td><td class="text-right px-0 vertical-align-top position-relative border-right-0 border-left-0 border-bottom" style="width: 200px;"><div class="squeezed-details">',$.each(a.timeOccupied,(function(e,d){0==e&&(getTeacherTimeBooked(""+d.bookedId,""+d.bookedType,""+a.startDate,""+l),t+='<span class="dropdown d-inline-block"><a href="javascript:void(0);" class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-danger border border-danger rounded-5 font-10 text-decoration-none" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" data-meeting-id="'+d.bookedId+'" data-meeting-type="'+d.bookedType+'" data-teach-strtime="'+d.startTime+'" data-teach-entime="'+d.endTime+'">'+d.displayStartTime+" - "+d.displayEndTime+'</a><div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu-lg dropdown-menu notResponsive p-2 border-primary bg-light-primary" style="box-shadow:0px 0px 4px 1px rgb(0 127 255 / 65%) !important"><div class="arrow"></div><table class="w-100"><tbody><tr class="hideClassWith'+l+"_"+d.bookedId+'"><th class="border-0 p-1 vertical-align-top text-left font-11">Class With:</th><td class="border-0 p-1 vertical-align-top text-left font-11 withClass'+l+"_"+d.bookedId+'"></td></tr><tr><th class="border-0 p-1 vertical-align-top text-left font-11 textCoursename'+l+"_"+d.bookedId+'">Course Name:</th><td class="border-0 p-1 vertical-align-top text-left font-11 courseName'+l+"_"+d.bookedId+'"></td></tr><tr><th class="border-0 p-1 vertical-align-top text-left font-11">Class Type:</th><td class="border-0 p-1 vertical-align-top text-left font-11 classType'+l+"_"+d.bookedId+'"></td></tr><tr class="hideStudentTime'+l+"_"+d.bookedId+'"><th class="border-0 p-1 vertical-align-top text-left font-11">Student Timings:</th><td class="border-0 p-1 vertical-align-top text-left font-11 classStudentTime'+l+"_"+d.bookedId+'"></td></tr><tr><th class="border-0 p-1 vertical-align-top text-left font-11">Admin Timings:</th><td class="border-0 p-1 vertical-align-top text-left font-11 classAdminTime'+l+"_"+d.bookedId+'"></td></tr><tr class="hideClassBuffer'+l+"_"+d.bookedId+'"><th class="border-0 p-1 vertical-align-top text-left font-11">Buffer Time:</th><td class="border-0 p-1 vertical-align-top text-left font-11 bufferTime'+l+"_"+d.bookedId+'"></td></tr></tbody></table></div></span>')}));t+='</div><div class="expandable-details"><div class="overflow-auto full overflow-div" style="max-height: 212px;">',$.each(a.timeOccupied,(function(e,d){getTeacherTimeBooked(""+d.bookedId,""+d.bookedType,""+a.startDate,""+l),t+='<span class="dropdown d-inline-block"><a href="javascript:void(0);" class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-danger border border-danger rounded-5 font-10 text-decoration-none" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" data-meeting-id="'+d.bookedId+'" data-meeting-type="'+d.bookedType+'" data-teach-strtime="'+d.startTime+'" data-teach-entime="'+d.endTime+'" >'+d.displayStartTime+" - "+d.displayEndTime+'</a><div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu-lg dropdown-menu notResponsive p-2 border-primary bg-light-primary" style="box-shadow:0px 0px 4px 1px rgb(0 127 255 / 65%) !important"><div class="arrow"></div><table class="w-100"><tbody><tr class="hideClassWith'+l+"_"+d.bookedId+'"><th class="border-0 p-1 vertical-align-top text-left font-11">Class With:</th><td class="border-0 p-1 vertical-align-top text-left font-11 withClass'+l+"_"+d.bookedId+'"></td></tr><tr><th class="border-0 p-1 vertical-align-top text-left font-11 textCoursename'+l+"_"+d.bookedId+'">Course Name:</th><td class="border-0 p-1 vertical-align-top text-left font-11 courseName'+l+"_"+d.bookedId+'"></td></tr><tr><th class="border-0 p-1 vertical-align-top text-left font-11">Class Type:</th><td class="border-0 p-1 vertical-align-top text-left font-11 classType'+l+"_"+d.bookedId+'"></td></tr><tr class="hideStudentTime'+l+"_"+d.bookedId+'"><th class="border-0 p-1 vertical-align-top text-left font-11">Student Timings:</th><td class="border-0 p-1 vertical-align-top text-left font-11 classStudentTime'+l+"_"+d.bookedId+'"></td></tr><tr><th class="border-0 p-1 vertical-align-top text-left font-11">Admin Timings:</th><td class="border-0 p-1 vertical-align-top text-left font-11 classAdminTime'+l+"_"+d.bookedId+'"></td></tr><tr class="hideClassBuffer'+l+"_"+d.bookedId+'"><th class="border-0 p-1 vertical-align-top text-left font-11">Buffer Time:</th><td class="border-0 p-1 vertical-align-top text-left font-11 bufferTime'+l+"_"+d.bookedId+'"></td></tr></tbody></table></div></span>'})),t+='</div></div></td><td class="text-left px-0 vertical-align-top position-relative border-right-0 border-left-0 border-bottom availability-total-hour-td" style="width: 200px;"><div class="squeezed-details"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-danger border border-danger rounded-5 font-10 text-decoration-none">'+a.totalHrsOccupied+'</span></div><div class="expandable-details"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-danger border border-danger rounded-5 font-10 text-decoration-none">'+a.totalHrsOccupied+'</span></div></td><td class="text-right border-right-0 border-left-0 border-bottom px-0 vertical-align-top position-relative" style="width: 200px;"><div class="squeezed-details">',$.each(a.timeUnOccupied,(function(e,a){0==e&&(t+='<span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-success border border-success rounded-5 font-10" data-teach-strtime="'+a.startTime+'" data-teach-entime="'+a.endTime+'">'+a.displayStartTime+" - "+a.displayEndTime,t+="</span>")}));t+='</div><div class="expandable-details"><div class="overflow-auto full" style="max-height: 212px;">',$.each(a.timeUnOccupied,(function(e,a){t+='<span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-success border border-success rounded-5 font-10" data-teach-strtime="'+a.startTime+'" data-teach-entime="'+a.endTime+'">'+a.displayStartTime+" - "+a.displayEndTime+"</span>"})),t+='</div></div></td><td class="text-left px-0 vertical-align-top position-relative border-right-0 border-left-0 border-bottom availability-total-hour-td" style="width: 100px;"><div class="squeezed-details"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-success border border-success rounded-5 font-10">'+a.totalHrsUnOccupied+'</span></div><div class="expandable-details"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-success border border-success rounded-5 font-10">'+a.totalHrsUnOccupied+"</span></div></td></tr>"})),t+='<tr><td colspan="2" class="border-top-0 border-right-0 text-center bold">&nbsp;</td><td colspan="" class="border-top-0 border-right-0 text-right bold">Total</td><td class="text-left pl-0 border-right-0 border-left-0"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-white bg-primary rounded-5 font-10">'+a.totalWeekTimeHrs+'</span></td><td class="border-top-0 border-right-0 border-left-0 text-right bold">Total</td><td class="text-left pl-0 border-right-0 border-left-0"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-white bg-danger rounded-5 font-10">'+a.totalWeekTimeOcupHrs+'</span></td><td class="border-right-0 border-left-0 text-right bold">Total</td><td class="rounded-bottom-right-10 border-left-0 text-left pl-0"><span class="p-1 mb-1 mr-1 text-center font-weight-semi-bold d-inline-block text-white bg-success rounded-5 font-10">'+a.totalWeekTimeUnOcupHrs+"</span></td></tr>"):t+='<tr><td colspan="6" class="rounded-bottom-right-10 border-top-0 text-center bold">No Availability</td></tr>',t+="</tbody></table></td></tr>",t+="</tbody></table></div>"})),t}function resetTeacherTimeAvailability(){}function getStudentListPopup(){var e="";return e+='<div id="studentListAvailablePopup" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">',e+='<div class="modal-dialog modal-dialog-centered modal-lg mt-4" style="height: 90vh;">',e+='<div class="modal-content border-0">',e+='<div class="modal-header pt-2 pb-2 theme-bg text-white">',e+='<h5 class="modal-title" id="teacherAssignName"></h5>',e+='<button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">',e+='<span aria-hidden="true"></span>',e+="</button>",e+="</div>",e+='<div class="modal-body" style="overflow-y: auto;">',e+='<table class="table table-bordered" id="stdAssignToTimeAvailList">',e+="<thead>",e+='<th width="80px">Sr.no.</th>',e+="<th>Student Name</th>",e+="<th>Grade</th>",e+="<th>Learning Mode</th>",e+="</thead>",e+='<tbody style="font-size:11px;" id="studentTeachAssignList">',e+="</tbody>",e+="</table>",e+="</div>",e+=" </div>",e+="</div>",e+="</div>"}