var ROLE_MODULE_ID=moduleId;function getStudentAssigneFilterContent(t,e,l,s){return'<div class="col-md-12 p-0"><div class="filter-wrapper"><form name="studentAssignedReportFilter" id="studentAssignedReportFilter" action="javascript:void(0)"><div class="main-filter-wrpper row"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="d-flex align-items-end flex-wrap "><div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12"><span class="h6 bold mt-3 mr-4 pl-sm-0 reportTitle"></span><select class="form-control  d-inline-block px-2" style="width:auto !important" id="reportDropdown" onchange="teacherReportByDate(\'studentAssignedReportFilter\');"><option value="sevenDays">7 Days</option><option value="fifteenDays">15 Days</option><option value="oneMonth" selected>1 Month</option><option value="custom">Custom</option></select></div><div class="col-xl-2 col-lg-2 col-md-2 col-sm-3 col-xs-12 mt-3"><label>Start Date</label><input class="form-control" type="text" id="startDate" autocomplete="off"/></div><div class="col-xl-2 col-lg-2 col-md-2 col-sm-3 col-xs-12 mt-3"><label>End Date</label><input class="form-control" type="text" id="endDate" autocomplete="off"/></div><div class="col-xl-2 col-lg-5 col-md-4 col-sm-6 col-xs-12 mt-3"><label>Teacher Name</label><input type="text" name="teacherName" id="teacherName" class="form-control" value="" maxlength="100" onkeydown="return M.isChars(event);"></div><div class="col-xl-2 col-lg-4 col-md-4 col-sm-6 col-xs-12 mt-3"><label>Teacher Email</label><input type="text" name="officialEmail" id="officialEmail" class="form-control" value="" maxlength="100" onkeydown="return M.isEmail(event);"/></div><div class="col-xl-2 col-lg-2 col-md-2 col-sm-3 col-xs-12 mt-3"><label>Profile Status</label><select class="form-control  px-2" id="profileStatus"><option value="A" selected>Completed</option><option value="W">Withdrawn</option><option value="">All</option></select></div><div class="col-xl-2 col-lg-2 col-md-2 col-sm-3 col-xs-12 mt-3"><label>Progress</label><select class="form-control  px-2" id="progressStatus"><option value="">All</option><option value="RED">Red</option><option value="YELLOW">Yellow</option><option value="GREEN">Green</option></select></div><div class="col-xl-2 col-lg-2 col-md-2 col-sm-3 col-xs-12 mt-3" style="display:none;"><label>Teacher ID</label><input type="hidden" name="teacherId" id="teacherId" class="form-control" value="" maxlength="100"/></div><div class="col-xl-2 col-lg-2 col-md-2 col-sm-4 col-xs-12 mt-3" style="display:block;"><label>Page Size</label><input type="hidden" name="page" id="page" class="form-control" value="0" maxlength="3"/><input type="text" name="pageSize" id="pageSize" class="form-control" value="5" maxlength="3"/></div><div class="ml-sm-1 col-md-12 col-sm-12 col-xs-12"" style="display:none;"><label>Order Key</label><input type="hidden" name="orderKey" id="orderKey" class="form-control" value="U.USER_FULL_NAME" maxlength="10"/><input type="hidden" name="orderBy" id="orderBy" class="form-control" value="asc" maxlength="4"/></div><div class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-xs-12 mt-3"><button class="btn btn-success btn-shadow float-right pr-4 pl-4 mr-2" onclick="studentAssginedReportSearch(\'studentAssignedReportFilter\',\''+t.moduleId+"',"+l+",'"+s+'\');"><i class="fa fa-check"></i>&nbsp;Apply</button><button class="btn btn-primary btn-shadow float-right pr-4 pl-4 mr-2" onclick="studentAssginedReportSearchReset(\'studentAssignedReportFilter\')"><i class="fa fa-check"></i>&nbsp;Reset</button></div></div></div></div></form></div></div>'}function getStudentAssignedReportContent(t,e,l,s,a){ROLE_MODULE_ID=e.moduleId;var i=`<div class="app-page-title">\n\t\t\t<div class="page-title-wrapper">\n\t\t\t\t<div class="page-title-heading">\n\t\t\t\t\t<div class="page-title-icon"><i class="pe-7s-users text-primary"></i></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span class="text-primary welcome-name-text">${t}</span>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`;return i+='<div class="main-card mb-3 card"><div class="card-body"><div class="row"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">'+getStudentAssigneFilterContent(e,l,s,a)+'</div></div><br><div id="studentAssginedReportSearchContentDiv" class="col-lg-12 col-md-12 col-sm-12 col-xs-12"></div></div></div>'}function studentAssignReportSingleData(t,e){var l="",s="",a=$("#profileStatus").val(),i=getDateInDateFormat($("#startDate").val());i=changeDateFormat(i,"yyyy-mm-dd");var o=getDateInDateFormat($("#endDate").val());o=changeDateFormat(o,"yyyy-mm-dd");var d="getAsPost('/report/teacher-class-report?moduleId=150&euid="+e.tencryptedUserId+"&profileStatus="+a+"&startDateFilter="+i+"&endDateFilter="+o+"','self')";$.each(e.learningProgamCount,(function(t,a){l+=a.learningProgramName+"/",s+='<div class="filter-item align-items-top bg-gray"><div class="p-3 text-center"><p class="filter-item-title">'+a.learningProgramName+'</p><h3 class="m-0 bold text-dark lh-22"><a href="javaScript:void(0);" onclick="getStudentAssignedReportWithFilterSubmit(\'TSLearingProgram\','+e.teacherId+",'"+a.learningProgramName+"');\">"+parseInt(a.activeCount+a.inactiveCount)+("GL"==a.learningProgramName?" ("+e.batchCount+")":"")+'</a></h3><h5 class="mt-3 h4"><span class="bold"><a href="javaScript:void(0);" class="text-success" onclick="getStudentAssignedReportWithFilterSubmit(\'TSA\','+e.teacherId+",'"+a.learningProgramName+"');\">"+a.activeCount+'</a></span>/<span class="text-danger bold"><a href="javaScript:void(0);" class="text-danger" onclick="getStudentAssignedReportWithFilterSubmit(\'TSI\','+e.teacherId+",'"+a.learningProgramName+"');\">"+a.inactiveCount+"</a></span></h5></div></div>"})),l=l.substring(0,l.length-1);var c="",r=0,n='<option value="">Select Grade</option>';$.each(e.gradeStudentCount,(function(t,e){c+=e.gradeNameShort+"-",r+=parseInt(e.studentCount),n+='<option value="'+e.gradeId+'">'+e.gradeName+" ("+e.studentCount+")</option>"})),c=c.substring(0,c.length-1);var m="",p=0;$.each(e.recommendedClasses,(function(t,e){p+=parseInt(e.count),m+='<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 p-0"><div class="text-center"><p class="filter-item-title">'+e.learningProgram+'</p><h3 class="m-0 bold text-dark lh-22">'+e.count+"</h3></div></div>"}));var v="",u=0;return $.each(e.completedClasses,(function(t,e){u+=parseInt(e.count),v+='<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 p-0"><div class="text-center"><p class="filter-item-title">'+e.learningProgram+'</p><h3 class="m-0 bold text-dark lh-22">'+e.count+"</h3></div></div>"})),'<div id="grades_'+e.teacherId+'" grades="'+e.batchesDetails+'" class="d-flex flex-wrapper justify-content-between mb-3 bg-gray"><div class="filter-item"><div class="p-3"><h3 class="m-0 bold blue-text"><a href="javascript:void(0)" onclick="('+d+')" > '+e.teacherName+'</a></h3><p class="m-0">'+e.timezone+"<br/>"+e.offset+'</p><h4 class="m-0 bold text-danger lh-18 mt-2">'+e.employeeType+" ("+e.profileStatus+')</h4></div></div><div class="filter-item align-items-top"><div class="p-3"><p class="filter-item-title">Assigned<br/>Mode</p><h3 class="m-0 bold text-dark lh-22">'+l+'</h3></div></div><div class="filter-item align-items-top"><div class="p-3"><p class="filter-item-title">Grades</p><h3 class="m-0 bold text-dark lh-22">'+c+'</h3></div></div><div class="filter-item align-items-top"><div class="p-3"><p class="filter-item-title">Total Student</p><h3 class="m-0 bold text-dark lh-22"><a href="javaScript:void(0);" onClick="getStudentAssignedReportWithFilterSubmit(\'TSTotal\','+e.teacherId+",'');\">"+r+'</a></h3><select id="gradeId_'+e.teacherId+'" class="form-control" onchange="getStudentAssignedReportWithFilterSubmit(\'TSGrade\','+e.teacherId+",'');\">"+n+"</select></div></div>"+s+'<div class="filter-item align-items-top"><div class="p-3 text-center"><p class="filter-item-title">Working Days</p><h3 class="m-0 bold text-dark lh-22">'+e.workingDays+'</h3></div></div><div class="filter-item align-items-top"><div class="p-3 text-center"><p class="filter-item-title">Days Taught</p><h3 class="m-0 bold text-dark lh-22">'+e.daysTaught+'</h3></div></div><div class="filter-item align-items-top"><div class="p-3"><p class="filter-item-title">Recommended<br/>teaching hours</p><h3 class="m-0 bold text-dark lh-22">'+e.recommendedTeachingHours+'</h3></div></div><div class="filter-item align-items-top"><div class="p-3"><p class="filter-item-title">Total No. of<br/>teaching hours</p><h3 class="m-0 bold text-dark lh-22">'+e.totalTeachingHours+'</h3></div></div><div class="filter-item align-items-top"><div class="d-flex flex-wrap p-3"><div class="col-lg-12 p-0"><p class="filter-item-title">Recommended<br/>Class</p><h3 class="m-0 bold text-dark lh-22">'+p+'</h3></div><div class="col-lg-12 d-flex p-0">'+m+'</div></div></div><div class="filter-item align-items-top"><div class="d-flex flex-wrap p-3"><div class="col-lg-12 p-0"><p class="filter-item-title">Completed<br/>Class</p><h3 class="m-0 bold text-dark lh-22">'+u+'</h3></div><div class="col-lg-12 d-flex p-0">'+v+'</div></div></div><div class="filter-item align-items-top"><div class="p-3"><p class="filter-item-title">Agreed<br/>Payout</p><h3 class="m-0 bold text-dark lh-22">'+e.payout.agreedPayout+'</h3></div></div><div class="filter-item align-items-top"><div class="p-3"><p class="filter-item-title">Actual<br/>Payout</p><h3 class="m-0 bold text-dark lh-22">'+e.payout.actualPayout+"</h3></div></div></div>"}function teacherClassReportData(t,e,l){console.log("teacherClassReportData"+e);var s=$("#profileStatus").val(),a=getDateInDateFormat($("#startDate").val());a=changeDateFormat(a,"yyyy-mm-dd");var i=getDateInDateFormat($("#endDate").val());i=changeDateFormat(i,"yyyy-mm-dd");var o="getAsPost('/report/teacher-class-report?moduleId=150&euid="+e.tencryptedUserId+"&profileStatus="+s+"&startDateFilter="+a+"&endDateFilter="+i+"')",d=0;$.each(e.gradeStudentCount,(function(t,e){d+=parseInt(e.studentCount)}));var c="";c=e.percentWork>=80?"#84c892":e.percentWork>59&&e.percentWork<79?"#dabe4d":"#c88484";var r="";return r+='<tr id="grades_'+e.teacherId+'" grades="'+e.batchesDetails+'" class="text-dark" style="background:'+c+'">',r+='<td class="text-dark">'+l+"</td>",r+='<td class="text-left"><a href="javascript:void(0)" onclick="'+o+'" class="bold text-dark"> '+e.teacherName+"</a><br/>"+e.teacherEmail+"</td>",r+='<td class="text-dark">'+e.cityname+"|"+e.countryname+"|"+e.offset+"</td>",r+='<td class="text-dark">'+e.employeeType+"</td>",r+='<td class="text-dark">'+e.totalTeachingHours+" /"+e.workingHours+"h<br/>"+e.percentWork+"%</td>",r+='<td><a class="text-dark" href="javaScript:void(0);" onClick="getStudentAssignedReportWithFilterSubmit(\'TSTotal\','+e.teacherId+",'');\">"+d+"</a></td>",r+="</tr>"}function getFilterpart1(){return'<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="main-filter-wrpper row"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="d-flex align-items-center flex-wrap"><div class="ml-sm-3 col-md-3 col-xs-12 d-inline-flex align-items-center flex-wrap"><span class="h2 bold mt-3 mr-4 pl-sm-0"></span><select class="form-control  px-2" style="width:auto !important" id="reportDropdown" onchange="teacherReportByDate(\'studentAssignedReportFilter\');"><option value="sevenDays">7 Days</option><option value="fifteenDays">15 Days</option><option value="oneMonth" selected>1 Month</option><option value="custom">Custom</option></select></div><div class="ml-sm-3 col-md-3 col-sm-3 col-xs-12"><input class="form-control" type="text" id="startDate" autocomplete="off" /></div><div class="ml-sm-3 col-md-3 col-sm-3 col-xs-12"><input class="form-control" type="text" id="endDate" autocomplete="off" /></div><div class="ml-sm-3 col-md-2 col-sm-12 col-xs-12 text-right text-md-left"><button class="btn btn-sm bg-success">Submit</button></div></div></div></div></div>'}function studentAssignedReportContent(t,e,l){var s="",a=0;return $.each(t.studentAssigedReports,(function(t,e){s+=teacherClassReportData(t,e,a+=1)})),'<div class="row"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-4"><div class="teacher-filter-wrapper "><div class="table-responsive"><table class="table row-height-small table-bordered  text-center"><thead><tr class="bg-dark-gray"><th class="text-white bg-primary"><b>Sr. no.</b></th><th class="text-white bg-primary"><b>Teacher Name</b></th><th class="text-white bg-primary"><b>Location</b></th><th class="text-white bg-primary"><b>Employee Status</b></th><th class="text-white bg-primary"><b>Working Hours/Agreed</b></th><th class="text-white bg-primary"><b>Total Student</b></th></tr></thead><tbody>'+s+'</tbody></table></div></div></div><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-4"><div class="text-right filterDiv" style="display:none"><button class="btn btn-sm btn-primary" onclick="filterModal(\'studentAssignFilterModal\',\'show\')">Filter</button></div><div id="studentAssginedReportWtihFilterContentDiv" class="table-h-scroll"></div></div></div>'}function filterTeacherReportModal(t){return html='<div class="modal fade bd-example-modal-lg fade-scale square-field" id="studentAssignFilterModal"><div class="modal-dialog modal-lg"><div class="modal-content border-0"><div class="modal-header  theme-bg text-white"><h4 class="modal-title">Filter</h4><button type="button" class="close text-white" data-dismiss="modal" paria-label="Close"><span aria-hidden="true">×</span></button></div><form action="javascript:void(0);" id="studentAssignFilterForm" name="studentAssignFilterForm" autocomplete="off"><div class="modal-body"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="form-row"><div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"><div class="form-group mb-2 p-0"><label class="mb-0 ">Student Name</label><input id="teacherId" name="teacherId" type="hidden" class="form-control" autocomplete="off"><input id="studentName" name="studentName" type="text" class="form-control" autocomplete="off"></div></div><div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"><div class="form-group mb-2 p-0"><label class="mb-0">Student Email</label><input id="studentEmail" name="studentEmail" type="text" class="form-control" autocomplete="off"></div></div><div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"><div class="form-group mb-2 p-0"><label class="mb-0">Learning Program</label><select id="learningProgram" name="learningProgram" multiple="" class="multiselect-dropdown select2-hidden-accessible"><option value="">Select Learning Program</option>'+getLearningProgramContent(t)+'</select></div></div><div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"><div class="form-group mb-2 p-0"><label class="mb-0">Grade</label><select id="standardId" name="standardId" multiple="" class="multiselect-dropdown select2-hidden-accessible"><option value="" disabled>Select Grade*</option>'+getStandardContent(t,!1,!1)+'</select></div></div><div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"><div class="form-group mb-2 p-0"><label class="mb-0">Batch</label><select id="batchId" name="batchId" multiple="" class="multiselect-dropdown select2-hidden-accessible"></select></div></div><div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"><div class="form-group mb-2 p-0"><label class="mb-0">Color</label><select id="color" name="color" multiple="" class="multiselect-dropdown select2-hidden-accessible"><option value="RED">Red</option><option value="GREEN">Green</option><option value="YELLOW">Yellow</option><option value="BLUE">Blue</option></select></div></div><div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"><div class="form-group mb-2 p-0"><label class="mb-0">Sort In</label><select id="orderBy" name="orderBy" class="singleSelect2-dropdown select2-hidden-accessible"><option value="asc">Ascending</option><option value="desc">Descending</option></select></div></div></div></div><br/><div class="text-right"><button type="button" id="studentAssignWithFilterBtn" class="btn btn-success btn-shadow  pr-4 pl-4" onClick="getStudentAssignedReportWithFilterSubmit(\'TSF\',\'\',\'\');">Search</button><button type="button" class="btn btn-danger btn-shadow pr-4 pl-4 ml-2" data-dismiss="modal">Close</button><button type="button"  class="btn btn-primary btn-shadow  pr-4 pl-4" onClick="studentAssgineFilterReset(\'studentAssignFilterForm\')">Reset</button></div></div></form></div></div></div>',html}function getStudentAssigneHeader(t){return html='<th class="text-center"><b>Student Name/Email</b></th><th class="text-center"><b>LP/Grade/Batch/Course</b></th><th class="text-center"><b>Mapping (Start Date - End Date)</b></th><th class="text-center"><b>Last Class Booked Date (Days since last class booked)</b></th><th class="text-center"><b>Last Activity Submitted Date (Days since last assignment submitted)</b></th>',"<thead><tr>"+html+"</tr></thead><tbody></tbody>"}function studentAssignedReportTableWithFilter(t,e){return html='<table id="'+t+'" class="table table-bordered table-striped mt-4">'+getStudentAssigneHeader(e)+"</table><br/>",html}function getStudentAssignedReportWithFilterBody(t,e,l){var s="";return $.each(t,(function(t,e){var l="";l="RED"==e.color?"bg-danger text-white":"GREEN"==e.color?"bg-success text-white":"YELLOW"==e.color?"bg-warning":"BLUE"==e.color?"bg-info text-white":"bg-danger text-white",s+='<tr id="sar'+e.meetingId+'" class="'+l+'"><td>'+e.studentName+" ("+e.studentEmail+")</td><td>"+e.larningProgram+"/"+e.grade+"/"+e.batch+"/"+e.course+"</td><td>"+e.mappingStartDate+" - "+e.mappingEndDate+"</td><td>"+e.lastClassBookedDate+" ("+e.daysSinceBooked+")</td><td>"+e.lastActivityDate+" ("+e.daysSinceActivity+")</td></td>"})),s}