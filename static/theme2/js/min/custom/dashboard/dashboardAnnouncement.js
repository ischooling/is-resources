function validateRequestForSchoolAnnounce(e){if(""==$("#"+e+" #announceFor").val())return showMessage(1,"Please select announce for"),!1;var n=$("#announceFor").val();if(-1!=(n=n.toString()).indexOf("STUDENT")&&""==$("#"+e+" #enrollType").val())return showMessage(1,"Please select enrollment type"),!1;if(""==$("#"+e+" #announceTitle").val())return showMessage(1,"Please enter subject"),!1;if((a=$("#"+e+" #announceTitle").val()).length>100)return showMessage(1,"You cannot have more than 100 characters! now your char length is "+a.length),!1;if(null!=editor1){var a=escapeCharacters(editor1.getData());if(console.log(a),""==a)return showMessage(1,"Please add description "),!1;if(a.length>400)return showMessage(1,"You cannot have more than 250 characters! now your char length is "+a.length),!1}return!0}function submitSchoolAnnounce(e,n){if(hideMessage(""),!validateRequestForSchoolAnnounce(e))return!1;var a=new FormData;a.append("userId",$("#"+e+" #userId").val()),a.append("announceId",$("#"+e+" #announceId").val()),a.append("enrollType",$("#"+e+" #enrollType").select2("val")),a.append("announceFor",$("#"+e+" #announceFor").select2("val")),a.append("standardId",$("#"+e+" #standardId").select2("val")),a.append("batchId",$("#"+e+" #batchId").select2("val")),a.append("studentId",$("#"+e+" #studentId").select2("val")),a.append("schoolId",SCHOOL_ID),a.append("announceTitle",escapeCharacters($("#"+e+" #announceTitle").val())),a.append("attachment",$("#"+e+" #fileuploadAnnounce").get(0).files[0]),null!=editor1&&a.append("announceRemark",escapeCharacters(editor1.getData())),a.append("announceStartDate",$("#"+e+" #announceStartDate").val()),a.append("startTime",$("#"+e+" #startTimeInHrs").val()+":"+$("#"+e+" #startTimeInMin").val()+":00"),a.append("announceEndDate",$("#"+e+" #announceEndDate").val()),a.append("endTime",$("#"+e+" #endTimeInHrs").val()+":"+$("#"+e+" #endTimeInMin").val()+":00"),$.ajax({type:"POST",url:getURLForHTML("dashboard","teacher-school-announce-submit"),data:a,dataType:"json",type:"POST",processData:!1,contentType:!1,enctype:"multipart/form-data",success:function(n){return"0"==n.status||"2"==n.status?showMessage(!0,n.message):($("#"+e+" #enrollType").val("").trigger("change"),$("#"+e+" #announceFor").val("").trigger("change"),$("#"+e+" #standardId").val("").trigger("change"),$("#"+e+" #batchId").val("").trigger("change"),$("#"+e+" #studentId").val("").trigger("change"),$("#"+e+" #batchId").html(""),$("#"+e+" #studentId").html(""),$("#"+e+" #fileupload1Span").text("No file chosen..."),$("#"+e)[0].reset(),showMessage(!1,n.message)),!1},error:function(e){return!1}})}function updateSchoolAnnounce(e,n,a,t){hideMessage("");var o=new FormData;o.append("userId",e),o.append("announceId",n),o.append("controllType",a),$.ajax({type:"POST",url:getURLForHTML("dashboard","teacher-school-announce-update"),data:o,dataType:"json",type:"POST",processData:!1,contentType:!1,enctype:"multipart/form-data",success:function(e){return"0"==e.status||"2"==e.status?showMessage(!0,e.message):(showMessage(!1,e.message),setTimeout((function(){callDashboardPageSchool(t,"school-announce-list")}),1e3)),!1},error:function(e){return!1}})}function callAnnounceReplyList(e,n){hideMessage(""),$.ajax({type:"POST",url:getURLForHTML("dashboard","teacher-announce-reply"),data:JSON.stringify({announceId:e}),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var n;return"FAILED"==(n=e.split("|"))[0]||"EXCEPTION"==n[0]||"SESSIONOUT"==n[0]?showMessage(!0,n[1]):$("#announceReplyListContent").html(e),!1}},error:function(e){return console.log(e),!1}})}