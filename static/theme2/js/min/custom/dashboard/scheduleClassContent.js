function meetingDataByType(e,t){$("#classroomSessionFilter #meetingSubject").val(""),$("#classroomSessionFilter #meetingDate").val(""),$("#classroomSessionFilter #duration").val("50"),"SELF"==e?($("#studentNameDiv").hide(),$("#courseNameDiv").hide(),$("#meetingTypeDiv").hide(),$("#classroomSessionFilter #meetingSubject").prop("disabled",!1),$("#classroomSessionFilter #meetingSubject").val(""),$("#classroomSessionFilter #standardIdDiv").hide(),$("#manageSessionContentDiv").hide(),$(".countryTimezoneWrapper, .meetingDateWrapper, .startTimeHoursWrapper, .durationWrapper").show()):($("#studentNameDiv").show(),$("#courseNameDiv").show(),$("#meetingTypeDiv").show(),$("#classroomSessionFilter #standardIdDiv").show(),$("#classroomSessionFilter #meetingSubject").prop("disabled",!0),"RM"==$("#classroomSessionFilter #meetingFor").val()&&($("#manageSessionContentDiv").show(),$(".countryTimezoneWrapper, .meetingDateWrapper, .startTimeHoursWrapper, .durationWrapper").hide()))}function getMeetingTitle(){var e=$("#classroomSessionFilter #studentName option:selected").text().split("(")[0].trim()+" | "+$("#classroomSessionFilter #subjectIds option:selected").text();$("#classroomSessionFilter #meetingSubject").val(e),getTeacherList("classroomSessionFilter")}function getRequestForSubmitMeetingForStudentSessionSlotsNew(e,t,s,l){var a={},i={},o={},d=($("#"+e+" #subjectIds").val(),$("#"+e+" #meetingSubject").val(),"STUDENT_DOUBT_SESSION"),n=$("#"+e+" #meetingFor").val();if("PTM"==n&&(d=n),"recurringClass"==e)"PTM"==$("#"+e+" #meetingType").val()&&(d="PTM"),"CUSTOM"==$("#"+e+" #meetingType").val()&&(d="CUSTOM"),o.durationMins=$("#"+e+" #classDuration").val(),o.timezone=$("#"+e+" #countryTimezoneFromId").val(),o.studentTimezone=$("#"+e+" #studentTimezoneId").val(),o.meetingPersoneId=$("#"+e+" #studentId").val(),o.schoolPersonId=$("#"+e+" #teacherId").val(),o.paymentCheck=$("#"+e+" #paymentCheck").val(),i.userId=$("#"+e+" #teacherId").val(),null!=$("#"+e+" #teacherId").val()&&null!=$("#"+e+" #teacherId").val()&&""!=$("#"+e+" #teacherId").val()||"CUSTOM"==d&&(i.userId=$("#"+e+" #customTeacherId").val()),o.subjectId=$("#"+e+" #subjectIds").val(),o.meetingVendor=$("#"+e+" #meetingVendor").val(),o.studentStandardId=$("#"+e+" #studentStandardId").val();else{d=$("#classroomSessionFilter #meetingType").val();var r=$("#classroomSessionFilter #studentName").val(),c=$("#classroomSessionFilter #standardId").val();"PTM"!=n&&"CUSTOM"!=n||(d=n),null!=d&&null!=d&&"0"!=d&&""!=d||(d="STUDENT_DOUBT_SESSION"),o.studentStandardId=r,o.standardId=c,o.timezone=$("#classroomSessionFilter #countryTimezone").val(),o.durationMins=$("#classroomSessionFilter #duration").val(),o.subjectId=$("#classroomSessionFilter #subjectIds").val(),i.userId=$("#classroomSessionFilter #userId").val().trim()}o.meetingType=d;var m=$("#"+e+" #meetingDate").val();return m=changeDateFormat(new Date(m),"dd-mm-yyyy"),meetDate=m.split("-"),meetingDate=meetDate[2]+"-"+meetDate[1]+"-"+meetDate[0],o.meetingDate=meetingDate,o.subject=d,"CUSTOM"==d&&(o.subject=$("#"+e+" #customTitle").val()),o.timeHrsFrom=$("#"+e+" #startTimeHours").val(),o.timeMinFrom=$("#"+e+" #startTimeMins").val(),i.hash=getHash(),i.schoolId=SCHOOL_ID,i.schoolUUID=SCHOOL_UUID,i.userType=t,a.authentication=i,a.meetingSlotsDTO=o,a}function meetingSlotModalForValidateScheduleClass(e,t){$(".meetingSlotAdd").prop("disabled",!0);var s="VALIDATE",l=$("#"+e+" #meetingType").val(),a=($("#"+e+" #countryTimezone").val(),$("#"+e+" #meetingDate").val()),i=$("#"+e+" #startTimeHours").val(),o=$("#"+e+" #startTimeMins").val(),d=$("#"+e+" #duration").val(),n=($("#"+e+" #meetingSubject").val(),$("#"+e+" #meetingVendor").val()),r=$("#"+e+" #meetingFor").val(),c=$("#"+e+" #classDuration").val();if($("#teacherAvailabilityTable").hide(),$(".proceedRecurringClassbtn").hide(),"recurringClass"==e){r=l,d=$("#"+e+" #classDuration").val();var m=$("#"+e+" #userNameOrEmail").val();if("CUSTOM"!=l){if(null==m||null==m||0==m||""==m)return $(".meetingSlotAdd").prop("disabled",!1),showMessage(!0,"Student Email is required"),!1;if(null==(v=$("#recurringClass #studentName").val())||null==v||0==v||""==v)return $(".meetingSlotAdd").prop("disabled",!1),showMessage(!0,"Student Name is required"),!1;if(null==(p=$("#recurringClass #subjectIds").val())||null==p||0==p||""==p)return $(".meetingSlotAdd").prop("disabled",!1),showMessage(!0,"Course Name required"),!1}else{var u=$("#"+e+" #customTeacherId").val();if(null!=u&&null!=u&&0!=u&&""!=u||(u=$("#"+e+" #teacherId").val()),null==u||null==u||0==u||""==u)return showMessage(!0,"Please select teacher to create custom class."),!1}if(null==$("#"+e+" #recurringType").val()||""==$("#"+e+" #recurringType").val())return showMessage(!0,"Class Type is required."),!1;if(null==n||null==n||0==n||""==n)return showMessage(!0,"Meeting Vendor is required."),!1;if(null==c||null==c||0==c||""==c)return showMessage(!0,"Classroom Duration is required."),!1}else{if(l="STUDENT_DOUBT_SESSION","CUSTOM"==r&&(l="CUSTOM"),"STUDENT_DOUBT_SESSION"==l){var v=$("#classroomSessionFilter #studentName").val(),p=$("#classroomSessionFilter #subjectIds").val(),g=$("#classroomSessionFilter #standardId").val();if(null==g||""==g||0==g)return $(".meetingSlotAdd").prop("disabled",!1),"TEACHER"==USER_ROLE?showMessageTheme2(0,"Grade field is required"):showMessage(!0,"Grade field is required"),!1;if(null==v||null==v||0==v||""==v)return $(".meetingSlotAdd").prop("disabled",!1),"TEACHER"==USER_ROLE?showMessageTheme2(0,"Student Name required"):showMessage(!0,"Student Name required"),!1;if("PTM"!=$("#classroomSessionFilter #meetingFor").val()){if(null==p||null==p||0==p||""==p)return $(".meetingSlotAdd").prop("disabled",!1),"TEACHER"==USER_ROLE?showMessageTheme2(0,"Course Name required"):showMessage(!0,"Course Name required"),!1}else p=0}if(null==d||null==d||0==d||""==d)return $(".meetingSlotAdd").prop("disabled",!1),showMessage(!0,"Duration field is required"),!1}return"CUSTOM"!=r||null!=$("#"+e+" #customTitle").val()&&""!=$("#"+e+" #customTitle").val()?null==a||null==a||0==a||""==a?($(".meetingSlotAdd").prop("disabled",!1),"TEACHER"==USER_ROLE?showMessageTheme2(0,"Meeting Date field is required"):showMessage(!0,"Meeting Date field is required"),!1):null==i||null==i||""==i||null==o||null==o||""==o?($(".meetingSlotAdd").prop("disabled",!1),"TEACHER"==USER_ROLE?showMessageTheme2(0,"Start Time field is required"):showMessage(!0,"Start Time field is required"),!1):($(".meetingSlotAdd").prop("disabled",!0),hideMessage(""),customLoader(!0),$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","validate-meetingslots-new-submit-by-teacher"),data:JSON.stringify(getRequestForSubmitMeetingForStudentSessionSlotsNew(e,t,s,l)),dataType:"json",success:function(t){if("0"==t.status||"2"==t.status)customLoader(!1),$(".meetingSlotAdd").prop("disabled",!1),"TEACHER"==USER_ROLE?showMessageTheme2(0,t.message):showMessage(!0,t.message);else{if($(".meetingSlotAdd").show(),customLoader(!1),"theme2"==tt)var s=$("#meetingFor").val();else s=$("#meetingType").val();var l=t.recurringClassListForAvailability;"RM"!=s&&"theme2"!=tt?($("#recurringClassShowModel").modal("hide"),$("#recurringClassShowModelValidation").modal("show"),l.length>0?$("#teacherAvailabilityWarningTitle").html('<h4 class="text-center bold text-danger">This slot is not in teacher\'s availability. If you book this class a date-specific availability will be created for this date.</h4>'):$("#teacherAvailabilityWarningTitle").html("")):($("#recurringClassShowModel").modal("show"),l.length>0?($("#teacherAvailabilityWarningTitle").html('<h5 class="text-center bold text-danger">This slot is not in teacher\'s availability. If you book this class a date-specific availability will be created for this date.</h5>'),$(".meetingSlotAdd > span").text("Save anyway")):($("#teacherAvailabilityWarningTitle").html(""),$(".meetingSlotAdd > span").text("Save")));for(var a=t.recurringClassList,i="",o=1,d=!0,n=0;n<a.length;n++){"Available"!=a[n].slotAvailable?($("#teacherAvailabilityWarningTitle").html(""),i+="<tr class='text-danger'>"):i+="<tr>",i=(i=(i=i+" <td>"+o+++"</td>")+'<td><p class="mb-0">'+a[n].studentName+'</p><p class="mb-0">'+a[n].teachName+'</p><p class="mb-0">'+a[n].subjects+"</p></td>")+'<td><p class="mb-0"><b>Teacher Timezone: </b>'+a[n].teacherTime+"</p>";var r=a[n].studentTime;null!=r&&null!=r&&""!=r&&(i+='<p class="mb-0"><b>Student Timezone: </b>'+r+"</p>"),"TEACHER"==USER_ROLE||(i+='<p class="mb-0"><b>Admin Timezone: </b>'+a[n].meetingDate+" ("+a[n].startTime+" - "+a[n].endTime+")</p>"),i=(i+="</td>")+" <td>"+a[n].slotAvailable+"</td>";var c=a[n].slotAvailableReason;i=null!=c&&""!=c&&"NA"!=c&&null!=c?i+" <td>"+c.replaceAll("~","<br>")+"</td>":i+" <td>"+c+"</td>",i+="</tr>","Available"!=a[n].slotAvailable&&(d=!1)}d?($(".meetingSlotAdd").show(),$(".validator-message").hide()):($(".meetingSlotAdd").hide(),$(".validator-message").show()),$("#trRecurring").html(i),null!=s&&null!=s&&""!=s||(s="ODM"),"ODM"==s||"PTM"==s?("classroomSessionFilter"!=e&&$("#meetingType").val(s),$(".hide-on-odm").hide(),$(".hide-on-rm, #meetingTypeNote").show()):"RM"==s&&($(".hide-on-odm").show(),$(".hide-on-rm, #meetingTypeNote").hide()),$(".meetingSlotAdd").prop("disabled",!1)}return customLoader(!1),!1}}),void $(".meetingSlotAdd").prop("disabled",!1)):("TEACHER"!=USER_ROLE?showMessage(!0,"Class Title is required"):showMessageTheme2(0,"Class Title is required"),!1)}function meetingSlotModalForScheduleClass(e,t){$(".meetingSlotAdd").prop("disabled",!0);var s=$("#"+e+" #meetingType").val(),l=($("#"+e+" #countryTimezone").val(),$("#"+e+" #meetingDate").val()),a=$("#"+e+" #startTimeHours").val(),i=$("#"+e+" #startTimeMins").val(),o=$("#"+e+" #duration").val(),d=($("#"+e+" #meetingSubject").val(),$("#"+e+" #meetingFor").val());if(null!=s&&null!=s&&""!=s||"TEACHER"!=USER_ROLE||(s="ODM"==d?"STUDENT_DOUBT_SESSION":d),"recurringClass"==e){o=$("#"+e+" #classDuration").val();var n=$("#"+e+" #userNameOrEmail").val();if("CUSTOM"!=s){if(null==n||null==n||0==n||""==n)return $(".meetingSlotAdd").prop("disabled",!1),showMessage(!0,"Student Email is required"),!1;if(null==(r=$("#recurringClass #studentName").val())||null==r||0==r||""==r)return $(".meetingSlotAdd").prop("disabled",!1),showMessage(!0,"Student Name is required"),!1;if(null==(c=$("#recurringClass #subjectIds").val())||null==c||0==c||""==c)return $(".meetingSlotAdd").prop("disabled",!1),showMessage(!0,"Course Name required"),!1}else if(!(null!=n&&null!=n&&0!=n&&""!=n||null!=$("#"+e+" #customTeacherId").val()&&""!=$("#"+e+" #customTeacherId").val()))return showMessage(!0,"Please Select teacher to create custom class"),!1;if(null==$("#"+e+" #recurringType").val()||""==$("#"+e+" #recurringType").val())return showMessage(!0,"Class Type is required."),!1}else{if("PTM"!=d&&"CUSTOM"!=d||(s=d),null!=s&&null!=s&&"0"!=s&&""!=s||(mType="STUDENT_DOUBT_SESSION"),"STUDENT_DOUBT_SESSION"==s){var r=$("#classroomSessionFilter #studentName").val(),c=$("#classroomSessionFilter #subjectIds").val(),m=$("#classroomSessionFilter #standardId").val();if(""==m||0==m)return $(".meetingSlotAdd").prop("disabled",!1),showMessage(!0,"Grade field is required"),!1;if(null==r||null==r||0==r||""==r)return $(".meetingSlotAdd").prop("disabled",!1),showMessage(!0,"Student Name required"),!1;if(null==c||null==c||0==c||""==c)return $(".meetingSlotAdd").prop("disabled",!1),showMessage(!0,"Course Name required"),!1}if(null==o||null==o||0==o||""==o)return $(".meetingSlotAdd").prop("disabled",!1),showMessage(!0,"Duration field is required"),!1}return null==l||null==l||0==l||""==l?($(".meetingSlotAdd").prop("disabled",!1),showMessage(!0,"Meeting Date field is required"),!1):null==a||null==a||""==a||null==i||null==i||""==i?($(".meetingSlotAdd").prop("disabled",!1),showMessage(!0,"Start Time field is required"),!1):($(".meetingSlotAdd").prop("disabled",!0),hideMessage(""),customLoader(!0),$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","meetingslots-new-submit-by-teacher"),data:JSON.stringify(getRequestForSubmitMeetingForStudentSessionSlotsNew(e,t,"ADD",s)),dataType:"json",success:function(t){return $("#booksclassOutsideAvailabilityConfirmationModal").modal("hide"),"0"==t.status||"2"==t.status?(customLoader(!1),$(".meetingSlotAdd").prop("disabled",!1),"theme2"==tt?showMessageTheme2(0,t.message):showMessage(!0,t.message)):(customLoader(!1),$(".meetingSlotAdd").prop("disabled",!1),"TEACHER"==USER_ROLE?"MEETING SAVED SUCCESSFULLY"==t.message?showMessageTheme2(1,t.message):showMessageTheme2(0,t.message):showMessage(!1,t.message),$("#"+e)[0].reset(),$("#standardId").prop("selectedIndex",0),$("#startTimeHours").prop("selectedIndex",0),$("#startTimeMins").prop("selectedIndex",0),$("#studentName").empty().trigger("change"),$("#subjectIds").find("option").remove(),$("#studentId").val(""),meetingDataByType("STUDENT_DOUBT_SESSION"),$("#recurringClassShowModel").modal("hide"),$("#"+e+" #meetingType").val(s).trigger("change"),"CUSTOM"==s&&($("#meetingLinkInput").val(t.extra),$("#copyMeetingLinkModal").hasClass("show")||($(".meeting-link-copy-btn").html('Copy Link<i class="fa fa-copy ml-2"></i>'),$(".meeting-link-copy-btn").removeClass("btn-success"),$(".meeting-link-copy-btn").addClass("btn-primary")),$("#copyMeetingLinkModal").modal("show")),$("#customTitleDiv").hide()),customLoader(!1),$("#modalMessage, #recurringClassShowModelValidation").modal("hide"),!1}}),void $(".meetingSlotAdd").prop("disabled",!1))}function showHideMeetingCreationForm(e,t){($("#classroomSessionFilter #standardId").val(""),$("#classroomSessionFilter #studentName").val(""),$("#classroomSessionFilter #subjectIds").val(""),$("#classroomSessionFilter #meetingSubject").val(""),$("#classroomSessionFilter #duration").val("50"),$("#studentName").val(null).trigger("change"),$("#meetingDate").datepicker("update",""),$("#startTimeHours").val(""),$("#startTimeMins").val(""),$("#customTitle").val(""),"ODM"==e||"PTM"==e||"CUSTOM"==e)?($("#showMeetingModalDiv").show(),$("#manageSessionContentDiv").hide(),$(".countryTimezoneWrapper, .meetingDateWrapper, .startTimeHoursWrapper, .durationWrapper").show(),$(".hide-on-odm").hide(),"PTM"==e?$("#classroomSessionFilter #courseNameDiv").hide():$("#classroomSessionFilter #courseNameDiv").show(),"CUSTOM"==e?$("#classroomSessionFilter #customTitleDiv").show():$("#classroomSessionFilter #customTitleDiv").hide()):($("#classroomSessionFilter #customTitleDiv").hide(),$("#manageSessionContentDiv").show(),$("#showMeetingModalDiv").hide(),$(".countryTimezoneWrapper, .meetingDateWrapper, .startTimeHoursWrapper, .durationWrapper").hide(),customLoader(!0),(e={moduleId:147,callFrom:"classroomSessionFilter"}).userId=USER_ID,$(".hide-on-odm").show(),$("#timeSlotSession").hide(),customLoader(!1))}function getScheduleSessionFilter(e,t,s,l){var a='<div class="filter-wrapper"><form name="classroomSessionFilter" id="classroomSessionFilter" action="javascript:void(0)"><div class="filter-fields d-flex flex-wrap">';return a+='<input type="hidden" name="userId" id="userId" class="form-control" value="'+s+'">',a+='<input type="hidden" name="meetingSubject" id="meetingSubject" class="form-control" value="">',a+='<input type="hidden" id="userId" name="userId" value="${userId}" />',a+='<input type="hidden" id="schoolId" name="schoolId" value="${schoolId}" />',a+='<input type="hidden" id="recurringId" name="recurringId" value="" />',a+='<input type="hidden" id="studentId" name="studentId" value="" />',a+='<input type="hidden" id="studentTimezoneId" name="studentTimezoneId" value="" />',a+='<input type="hidden" id="gradeName" name="gradeName" value="" />',a+='<input type="hidden" id="controlType" name="controlType" value="${controlType}" />',"TEACHER"!=l&&(a+='<div class="col-lg-3 col-md-4 col-sm-3 col-12 mb-3"><label>Select Learning Program</label><select name="enrollmentType" id="enrollmentType" class="form-control">'+getLearningProgramContent(t)+"</select></div>"),"TEACHER"==l&&(a+='<div class="col-lg-3 col-md-4 col-sm-3 col-12 mb-3 d-none" ><label>Create Class For</label><select name="meetingType" id="meetingType" class="form-control" onchange=" meetingDataByType(this.value)" disabled><option value="STUDENT_DOUBT_SESSION" selected disabled>Student</option></select></div>'),a+='<div class="col-lg-3 col-md-4 col-sm-6 col-12 mb-3"  id="meetingTypeDiv"><label>Type of Class</label><select name="meetingFor" id="meetingFor" class="form-control" onchange="showHideMeetingCreationForm(this.value, '+e.moduleId+')"><option value="ODM" selected>One Day Class</option><option value="PTM">Book a PTM</option><option value="CUSTOM">Create Custom Class</option></select></div>',a+='<div class="col-lg-3 col-md-4 col-sm-3 col-12 mb-3 " id="customTitleDiv" style="display:none;"><label>Class Title</label><input type="text" name="customTitle" id="customTitle" class="form-control" value="" maxlength="100" onkeydown="return M.isEmail(event);"></div>',a+='<div class="col-lg-3 col-md-4 col-sm-3 col-12 mb-3" id="standardIdDiv"><label>Grade</label><select name="standardId" id="standardId" class="form-control" onchange="return getTeacherAssignedStudent(this.value,'+s+');"></select></div>',"TEACHER"!=l&&(a+='<div class="col-lg-3 col-md-4 col-sm-3 col-12"><label>Select LMS Platform</label><select name="courseProviderId" id="courseProviderId" class="form-control">'+getLmsPlatformContent(t)+"</select></div>"),a+='<div class="col-lg-3 col-md-4 col-sm-6 col-12 mb-3" id="studentNameDiv"><label>Student Name</label>',a+="TEACHER"==l?'<select name="studentName" id="studentName" class="form-control" onchange="return callCoursesAssignedToteacher(this.value,'+s+')"></select>':'<input type="text" name="studentName" id="studentName" class="form-control" value="" maxlength="100" onkeydown="return M.isChars(event);">',a+="</div>","TEACHER"!=l&&(a+='<div class="col-lg-3 col-md-4 col-sm-6 col-12 mb-3"><label>Student Email</label><input type="text" name="studentEmail" id="studentEmail" class="form-control" value="" maxlength="100" onkeydown="return M.isEmail(event);"/></div>'),a+='<div class="col-lg-3 col-md-4 col-sm-6 col-12 mb-3"  id="courseNameDiv"><label>Course Name</label>',a+="TEACHER"==l?'<select name="subjectIds" id="subjectIds" class="form-control" onchange="getMeetingTitle()"></select>':'<input type="text" name="subjectIds" id="subjectIds" class="form-control" value="" maxlength="40" onkeydown="return M.isChars(event);">',a+="</div>","TEACHER"!=l&&(a+='<div class="col-lg-3 col-md-4 col-sm-6 col-12 mb-3"  id="meetingSubjectDiv"><label>Meeting Title</label><input type="text" name="meetingSubject" id="meetingSubject" class="form-control" value="" maxlength="200" disabled></div>'),a+='<div class="col-lg-2 col-md-4 col-sm-6 col-12 mb-3 meetingDateWrapper"  id=""><label>Meeting Date</label><input type="text" name="meetingDate" id="meetingDate" class="form-control" value="" onchange="createClassButtonHide()"></div>',a+='<div class="col-lg-2 col-md-4 col-sm-6 col-12 mb-3 startTimeHoursWrapper"  id=""><label>Start Time</label><div class="d-flex align-items-center w-100"><div class="flex-grow-1"><select name="" id="startTimeHours" class="form-control" onchange="createClassButtonHide()"><option value="" disabled selected>HH</option>'+getHoursAndMins(23,1)+'</select></div><span class="d-inline-block mx-1">:</span><div class="flex-grow-1"><select name="" id="startTimeMins" class="form-control" onchange="createClassButtonHide()"><option value="" disabled selected>MM</option>'+getHoursAndMins(59,5)+"</select></div></div></div>",a+=getRecurringClassContent(e.moduleId),a+='<div class="col-lg-2 col-md-4 col-sm-6 col-12 mb-3 durationWrapper"><label>Duration <i>(mins)</i></label><div class="row"><div class="col-lg-5 col-md-6 col-sm-6 col-12 mb-3 durationWrapper"><input type="text" name="duration" id="duration" class="form-control" value="50" disabled></div></div></div>',a+='<div class="col-md-12 col-sm-12 col-12 mt-2 text-right" id="showMeetingModalDiv"><button class="btn btn-primary mr-1 validationBtn" onclick="return meetingSlotModalForValidateScheduleClass(\'classroomSessionFilter\','+e.moduleId+');">Validate Class</button><button class="btn btn-info" type="button" onclick="resetRecurring(\'classroomSessionFilter\','+e.moduleId+')">Reset</button></div></div></form></div>'}function getRecurringClassContent(e){return'<div class="col-md-3 col-sm-6 col-12" style="display: none;"><div class="form-group"><label>TimeZone (Teacher)<sup class="text-danger sup">*</sup></label><select name="countryTimezoneFromId" id="countryTimezoneFromId" class="form-control"></select></div></div><div class="col-md-2 col-sm-6 col-12 hide-on-odm" style="display: none;"><div class="form-group"><label>Classroom Duration<sup class="text-danger sup">*</sup></label><select name="classDuration" id="classDuration" class="form-control" onchange="createClassButtonHide()"><option value="50"  selected>50</option></select></div></div><div class="col-md-2 col-sm-6 col-12 hide-on-odm" style="display: none;"><div class="form-group"><label>Buffer Time<sup class="text-danger sup">*</sup></label><select name="bufferTime" id="bufferTime" class="form-control"><option value="10"  selected>10</option></select></div></div><div class="col-md-2 col-sm-6 col-12 hide-on-odm" style="display: none;"><div class="form-group"><label>Start From Time<sup class="text-danger sup">*</sup></label><select name="startFromTime" id="startFromTime" class="form-control" multiple="multiple"><option value="00">00</option><option value="15">15</option><option value="30">30</option><option value="45">45</option></select></div></div><div class="col-md-4 col-sm-6 col-12 hide-on-odm" style="display: none;"><div class="form-group"><label>Set Time<sup class="text-danger sup">*</sup></label><div style="display:flex;align-items:center"><span style="padding:0 5px"><input type="text" class="teachStartDate form-control" name="classStartDate" placeholder="Select Start Date" id="classStartDate" value="" autocomplete="off" /></span><span style="padding:0 5px"><input type="text" class="teachEndDate form-control " name="classEndDate" placeholder="Select End Date" id="classEndDate" value="" autocomplete="off"/></span><a href="javascript:void(0);" class="btn btn-sm bg-primary text-white" onclick="getSplitTime(\'classroomSessionFilter\');"> <i class="pe-7s-refresh-2"></i></a>  </div></div></div><div class="row hide-on-odm col-12 row" id="timeSlotSession" style="display:none"></div><div class="col-md-12 text-right hide-on-odm" style="display: none;"><button class="btn btn-primary mr-1" type="button" onclick="callRecurringShow(\'classroomSessionFilter\')">Check Class Availability</button><button class="btn btn-success proceedRecurringClassbtn mr-1" type="submit" onclick="booksclassOutsideAvailabilityConfirmationModal(\'hide-on-odm\',\'classroomSessionFilter\','+e+');" style="display: none;"> <i class="fa fa-check"></i> Save</button><button class="btn btn-info" type="button" onclick="resetRecurring(\'classroomSessionFilter\','+e+')">Reset</button></div>'}function booksclassOutsideAvailabilityConfirmationModalContent(){return'<div class="modal fade fade-scale" id="booksclassOutsideAvailabilityConfirmationModal" tabindex="-1"><div class="modal-dialog modal-lg modal-dialog-centered box-shadow-none" role="document" style="max-width:600px;"><div class="modal-content border-primary" style="border-top: 10px solid;"><div class="modal-body"><div class="text-center text-warning mb-2"><i class="fa fa-exclamation-triangle fa-3x" aria-hidden="true"></i></div><div class="full my-2"> <p class="text-center mb-1 font-weight-semi-bold text-primary">The class for <span id="studentBatchName"></span> - <span id="courseActivity"></span> will be scheduled<span id="meetingDateTime"></span>. If this class is outside your current availability, it will be added to your availability. Do you wish to proceed?</p></div></div><div class="modal-footer justify-content-between"> <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Cancel</button><button type="button" class="btn btn-outline-success" id="confirmationBookClassBtn" data-Url="" onclick="">Confirm</button> </div></div></div></div>'}function getScheduleSessionContentTeacher(e,t,s,l,a){return'<div class="app-page-title"><div class="page-title-wrapper"><div class="page-title-heading"><div class="page-title-icon"><i class="pe-7s-notebook text-primary"></i></div><div>'+e+'</div></div></div></div><div class="main-card mb-3 card"><div class="card-body">'+getScheduleSessionFilter(t,s,l,a)+'<br><div class="col-md-12"><div class="row"><div style="width:100%;"><div class="tab-content clearfix"><div class="row"><div id="manageSessionContentDiv" style="width:100%;display:inline-block"></div></div></div></div></div></div></div></div>'+validateOneDayMeetingByTeacherModal(t.moduleId)+copyMeetingLink()+booksclassOutsideAvailabilityConfirmationModalContent(t.moduleId)}function getUpdateMeetingResultModal(e,t){var s='<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" id="updateMeetingResultModal"><div class="modal-dialog modal-md"><form name="updateMeetingResultForm" id="updateMeetingResultForm"><div class="modal-content" style="border: none; border-radius: 1px"><input type="hidden" class="form-control" id="userId" name="userId" value=""><input type="hidden" class="form-control" id="meetingId" name="meetingId" value=""><input type="hidden" class="form-control" id="meetingCurStatus" name="meetingCurStatus" value=""><div class="modal-header p-2 bg-primary text-white"><h4 class="modal-title" id="myLargeModalLabel">Update Class Status</h4><button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="color:#fff;">x</button></div><div class="modal-body"><div class="col-md-12 col-sm-12 col-12"><div class="form-group"><label>Update Class Status</label> <select class="form-control" name="meetingResult" id="meetingResult" required></select></div></div></div><div class="modal-footer">';return"Y"==e.updated&&(s+='<button type="button" class="send btn btn-primary  text-left meetingSaveResult" onClick="updateClassroomSession(\''+e.moduleId+"','"+t+'\');"><i class="fa fa-envelope-o"></i> Save</button>'),s+='<button type="button" class="btn btn-danger waves-effect text-right" data-dismiss="modal">Close</button></div></div></form></div></div>'}function getMeetingUrlModal(e,t){var s='<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" id="meetingUrlModal"><div class="modal-dialog modal-md"><form name="meetingUrlForm" id="meetingUrlForm"><div class="modal-content" style="border: none; border-radius: 1px"><input type="hidden" class="form-control" id="userId" name="userId" value=""><input type="hidden" class="form-control" id="meetingId" name="meetingId" value=""><input type="hidden" class="form-control" id="mailSendStatus" name="mailSendStatus" value=""><div class="modal-header text-center"><h4 class="modal-title" id="myLargeModalLabel">Class Link</h4><button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="color:#fff;">x</button> </div><div class="modal-body"><div class="col-md-12 col-sm-12 col-12"><div class="form-group"><label>Class Link</label><input type="text" class="form-control" id="meetingUrl" name="meetingUrl" maxlength=150 value=""></div></div><div class="col-md-12 col-sm-12 col-12"><div class="form-group"><label>Remarks</label><input type="text" class="form-control" id="remarks" name="remarks" maxlength=200 value=""></div></div></div><div style="text-align:center;"  id="note"><p>Note: Once the link is added, you won\'t be able to change the link.</p></div><div class="modal-footer">';return"Y"==e.added&&(s+='<button type="button" id="saveMeetingUrl" class="send btn btn-primary  text-left meetingUrl" onClick="saveClassroomSessionMeetingUrl(\''+e.moduleId+"','"+t+'\');"><i class="fa fa-envelope-o"></i> Save</button>'),s+='<button type="button" class="btn btn-danger waves-effect text-right" data-dismiss="modal">Close</button></div></div></form></div></div>'}function getSendMailModal(e,t){var s='<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" id="sendMailModal"><div class="modal-dialog modal-md"><form name="sendMailForm" id="sendMailForm"><div class="modal-content" style="border: none; border-radius: 1px"><input type="hidden" class="form-control" id="userId" name="userId" value=""><input type="hidden" class="form-control" id="meetingId" name="meetingId" value=""><div class="modal-header text-center"><h4 class="modal-title" id="myLargeModalLabel">Send Mail</h4><button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="color:#fff;">x</button></div><div style="text-align:center;"><p>Are you sure you want to send this mail?</p></div><div class="modal-footer">';return"Y"==e.added&&(s+='<button type="button" class="send btn btn-primary  text-left sendMail" onClick="sendClassroomSessionMail(\''+e.moduleId+"','"+t+'\');"><i class="fa fa-envelope-o"></i> Yes</button>'),s+='<button type="button" class="btn btn-danger waves-effect text-right" data-dismiss="modal">No</button></div></div></form></div></div>'}function getPublicRecordModal(e,t){var s='<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" id="publishRecordModal"><div class="modal-dialog modal-md"><form name="publishRecordForm" id="publishRecordForm"><div class="modal-content" style="border: none; border-radius: 1px"><input type="hidden" class="form-control" id="userId" name="userId" value=""><input type="hidden" class="form-control" id="meetingId" name="meetingId" value=""><input type="hidden" class="form-control" id="meetingStrId" name="meetingStrId" value=""><div class="modal-header text-center"><h4 class="modal-title" id="myLargeModalLabel"><span id="publishHeadId"></span> Recording</h4><button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="color:#fff;">x</button></div><div style="text-align:center;"><p>Are you sure you want to <span id="publishId"></span> Recording?</p></div><div class="modal-footer">';return"Y"==e.added&&(s+='<button type="button" class="send btn btn-primary  text-left publishRecord" onClick="publishClassroomSession(\''+e.moduleId+"','"+t+'\');"><i class="fa fa-envelope-o"></i> Yes</button>'),s+='<button type="button" class="btn btn-danger waves-effect text-right" data-dismiss="modal">No</button></div></div></form></div></div>'}function getRevokeModal(e,t){var s='<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" id="revokeModal"><div class="modal-dialog modal-md"><form name="revokeForm" id="revokeForm"><div class="modal-content" style="border: none; border-radius: 1px"><input type="hidden" class="form-control" id="userId" name="userId" value=""><input type="hidden" class="form-control" id="meetingId" name="meetingId" value=""><input type="hidden" class="form-control" id="meetingStrId" name="meetingStrId" value=""><div class="modal-header text-center"><h4 class="modal-title" id="myLargeModalLabel"><span id="publishHeadId"></span> Revoke</h4><button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="color:#fff;">x</button></div><div style="text-align:center;"><p>Are you sure you want to Revoke?</p></div><div class="modal-footer">';return"Y"==e.added&&(s+='<button type="button" class="send btn btn-primary  text-left meetingRevoke" onClick="revokeClassroomSession(\''+e.moduleId+"','"+t+'\');"><i class="fa fa-envelope-o"></i> Yes</button>'),s+='<button type="button" class="btn btn-danger waves-effect text-right" data-dismiss="modal">No</button></div></div></form></div></div>'}function validateOneDayMeetingByTeacherModal(e){return'<div class="modal fade" id="recurringClassShowModel"  role="dialog" aria-labelledby="recurringClassShowModelLabel"><div class="modal-dialog modal-xl" role="document"><div class="modal-content"><div class="modal-header py-2 bg-primary"><h5 class="modal-title text-white" id="recurringClassShowModelLabel">Validate Class</h5><button type="button" class="close remove-backdrop" data-dismiss="modal" aria-label="Close"><span aria-hidden="true" class="text-white">&times;</span></button></div><div class="modal-body"><div class="col-12" id="teacherAvailabilityWarningTitle"></div><div class="col-lg-12 col-md-12 col-sm-12 col-12 p-0"><div class="full"><table class="table table-bordered nowrap" ><thead><tr><th class="" style="text-align: center; font-weight: bold">S.No</th><th class="" style="font-weight: bold">Student Name | Teacher Name | Course Name</th><th class="" style="font-weight: bold">Class Timings</th><th class="" style="font-weight: bold">Slot Available</th><th class="" style="font-weight: bold">Reason for Availability</th></tr></thead><tbody id="trRecurring"></tbody></table></div><div class="full"><p class="font-weight-bold validator-message">A class has already been scheduled for this time. Please either reschedule the existing class through "Class Status" or choose a different time.</p><button class="btn btn-sm btn-success meetingSlotAdd float-right" style="display:none" onclick="booksclassOutsideAvailabilityConfirmationModal(\'\',\'classroomSessionFilter\','+e+');"><i class="fa fa-check"></i>&nbsp;<span>Save</span></button></div></div></div></div></div></div>'}function copyMeetingLink(){return'<div class="modal fade" id="copyMeetingLinkModal"  role="dialog"><div class="modal-dialog modal-sm box-shadow-none modal-dialog-centered" role="document"><div class="modal-content"><div class="modal-header py-2 bg-primary"><h5 class="modal-title text-white" id="recurringClassShowModelLabel">Copy Meeting Link</h5><button type="button" class="close remove-backdrop" data-dismiss="modal" aria-label="Close"><span aria-hidden="true" class="text-white">&times;</span></button></div><div class="modal-body"><div class="col-lg-12 col-md-12 col-sm-12 col-12 p-0 text-center position-relative"><input type="text" value="" id="meetingLinkInput" class="position-absolute" style="top:0;left:0;opacity:0;"/><div class="full text-center my-4"><a href="javascript:void(0)" class="btn btn-primary meeting-link-copy-btn" onclick="copyToClipboard(\'meetingLinkInput\',this, true)">Copy Link<i class="fa fa-copy ml-2"></i></a></div></div></div></div></div></div>'}function createClassButtonHide(){$(".meetingSlotAdd").hide()}