$(document).ready((function(){}));var subReportType="";function sendSWPREmail(e,t){$("#sendSWPR").attr("disabled","disabled");var a={};a.studentId=e,a.uploadId=t,a.userId=USER_ID,a.schoolUUID=schoolUUID,a.forDownload="false",$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","send-mail-student-weekly-progress-report"),data:JSON.stringify(a),dataType:"html",cache:!1,timeout:6e5,success:function(e){alert("Progress report has been sent")},error:function(e){return $("#sendSWPR").removeAttr("disabled","disabled"),!1}})}function setCalenderDate(e){console.log($("#semesterId :selected").attr("semesterDateStart")+" - "+$("#semesterId :selected").attr("semesterDateEnd"));var t=new Date($("#semesterId :selected").attr("semesterDateStart")),a=new Date($("#semesterId :selected").attr("semesterDateEnd"));a.setDate(a.getDate()+7),console.log(t+" - "+a),$("#frequencyDate").datepicker("remove"),$("#frequencyDate").val(""),$("#frequencyDate").datepicker({startDate:t,endDate:a,format:"mm-dd-yyyy",autoclose:!0,daysOfWeekDisabled:e})}function showSWPRForUpload(e,t,a){$("#swprUploadModelTitleUpload").html("Upload Weekly Progress Report for "+t),callSWPRForUpload("SWPRUploadForm",e,a),$("#swprUploadModule").modal("show")}function showSWPRForView(e,t,a){$("#swprUploadModelTitleView").html("View Weekly Progress Report for "+t),callSWPRForUpload("SWPRUploadForm",e,a),$("#swprViewModule").modal("show")}function callSWPRForUpload(e,t,a){hideMessage("");var s={};s.studentId=t,s.standardId=a,s.userId=USER_ID,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","get-swpr-for-upload"),data:JSON.stringify(s),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var t;return"FAILED"==(t=e.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?"SESSIONOUT"==t[0]?redirectLoginPage():showMessage(!0,t[1]):$("#swprUploadModuleContents").html(e),!1}},error:function(e){return!1}})}function uploadSWPRCSV(e,t,a){if(hideMessage(""),""==$("#semesterId").val())return showMessage(!0,"Please select session"),!1;if(""==$("#reportId").val())return showMessage(!0,"Please select Report Type"),!1;if(""==$("#frequencyDate").val())return showMessage(!0,"Please select weekly report date"),!1;if(""==$("#fileupload1Hash").val())return showMessage(!0,"Please upload csv file"),!1;var s=$("#frequencyDate").val(),r=(s=s.split("-"))[2]+"-"+s[0]+"-"+s[1],o=$("#startDate").val();if(null==o)var d=null;else d=(o=o.split("-"))[2]+"-"+o[0]+"-"+o[1];var l=$("#endDate").val();if(null==l)var n=null;else n=(l=l.split("-"))[2]+"-"+l[0]+"-"+l[1];var u=$("#retrievedDate").val();if(null==u)var i=null;else i=(u=u.split("-"))[2]+"-"+u[0]+"-"+u[1];var p={};p.studentId=t,p.uploadHashId=$("#fileupload1Hash").val(),p.semesterId=semsterId,p.uploadDate=r,p.standardId=a,p.reportId=$("#reportId").val(),p.uploadstartDate=d,p.uploadendDate=n,p.uploadRetrievedDate=i,p.userId=USER_ID,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","upload-student-weekly-progress-report"),data:JSON.stringify(p),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var s;return"FAILED"==(s=e.split("|"))[0]||"EXCEPTION"==s[0]||"SESSIONOUT"==s[0]?"SESSIONOUT"==s[0]?redirectLoginPage():showMessage(!0,s[1]):showMessage(!1,s[1]),setTimeout((function(){hideMessage(""),callSWPRForUpload("SWPRUploadForm",t,a)}),3100),!1}},error:function(e){return!1}})}function sendMailStudentGradebookSummery(e,t,a,s){subReportType=$("#subReportTypevalue").val();var r={};r.data=e,r.uploadId=t,r.forDownload="false",r.startdate=a,r.enddate=s,r.subReportType=subReportType,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","send-mail-student-get-user-gradebook/"+UNIQUEUUID),data:JSON.stringify(r),dataType:"html",success:function(e){alert("Progress report has been sent")},error:function(e){return $("#sendSWPR").removeAttr("disabled","disabled"),!1}})}function callDateWiseGradebokSummery(e,t,a){var s=$("#startdate").val(),r=$("#enddate").val();if(""==s&&""==r)return showMessageTheme2(0,"Please select report start date and end date","",!1),!1;if(new Date(s)>new Date(r))return showMessageTheme2(0,"Please select start date must be less then end date","",!1),!1;customLoader(!0),hideMessage("");var o={};o.lmsUserId=e,o.lmsProId=t,o.stuserId=a,o.startdate=s,o.enddate=r,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","get-user-gradebook-content"),data:JSON.stringify(o),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(customLoader(!1),""!=e){var t;return"FAILED"==(t=e.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?showMessage(!0,t[1]):$("#enrollMentGrade").html(e),!1}},error:function(e){return console.log(e),!1}})}