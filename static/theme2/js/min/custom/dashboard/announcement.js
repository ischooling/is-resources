var defaultAnnouncementIndex=0;async function renderAnnouncement(e){var n=await getAnnouncementDetails(e,0,10);$("#announcementDiv").html(getAnnouncementContent(n,e,0)),$(".announcement-anchor .announcement-list").click((function(){$(this).parent().find(".horizontal-scroll-table").slideToggle(),$(this).parent().closest("li").siblings().find(".horizontal-scroll-table").slideUp()}))}async function showAnnounceDataById(e,n){try{var a={};a.announceId=e,a.moduleId=n,a.userId=USER_ID,responseData=await getDashboardDataBasedUrlAndPayload(!1,!1,"school-announce-data",a),1==responseData.status&&($("#announcementbyIdData").length>0&&$("#announcementbyIdData").remove(),$("body").append(announcementModalContent(responseData)),$("#announcementbyIdData").modal({backdrop:"static",keyboard:!1}))}catch(e){"theme1"==tt?showMessage(!0,e):showMessageTheme2(0,e,"",!0)}}async function saveAnnouncementAcknowledge(e,n,a){try{var t={};t.announceId=e,t.userId=n,t.moduleId=a,responseData=await getDashboardDataBasedUrlAndPayload(!0,!0,"save-acknowledge-request",t),1==responseData.status&&($("#announcementbyIdData").modal("hide"),$(".accepted-announcement"+e).addClass("d-none"),$("#newAnnouncementCount").text(parseInt($("#newAnnouncementCount").text())-1),"theme1"==tt?showMessage(!0,responseData.message):showMessageTheme2(1,responseData.message,"",!0))}catch(e){"theme1"==tt?showMessage(!0,e):showMessageTheme2(0,e,"",!0)}}async function getAnnouncementDetails(e,n,a){return new Promise((function(t,s){var o={};o.userId=e,o.startFrom=n,o.pageSize=a,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","get-announcement-details"),data:JSON.stringify(o),dataType:"json",global:!1,success:function(e){t(e)},error:function(e,n,a){showMessage(!0,a.responseText),s(a)}})}))}