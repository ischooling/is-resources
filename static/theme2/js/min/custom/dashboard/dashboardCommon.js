function callForDashboardData(e,a,t){if(!validateRequestForDashboardData(e))return!1;var s=!0;"section-linebox"==t&&(s=!1),customLoader(!0),$.ajax({global:s,type:"POST",contentType:"application/json",url:getURLForHTML("dashboard",a.split("?")[0]),data:JSON.stringify(parseUrlToJson(a)),dataType:"html",async:!0,success:function(e){if(""!=e){var s=[];return"FAILED"==(s=e.split("|"))[0]||"EXCEPTION"==s[0]||"SESSIONOUT"==s[0]?"SESSIONOUT"==s[0]?redirectLoginPage():showMessage(!0,s[1]):"SUCCESS"==s[0]?(showMessage(!0,s[1]),-1!=s[1].indexOf("Counselor")&&callDashboardPageSchool("mc30")):null==t||""==t?($("#dashboardContentInHTML").html(e),a.startsWith("add-to-cart-request-data")&&getCartDetails(USER_ID)):"section-linebox"==t?($("#teacherAgreementModal").modal("show"),$("#"+t).html(e)):"subject-plan"==t?($("#bookSessionPaymentModal").modal("show"),$("#"+t).html(e)):"changePasswordContent"==t?($("#changePasswordModal").modal({backdrop:"static",keyboard:!1}),$("#"+t).html(e)):"select-parent-student-id"==t?window.location.reload():"section-linebox"==t?($("#teacherAgreementModal").modal("show"),$("#"+t).html(e)):setTimeout((function(){$("#"+t).html(e)}),1e3),customLoader(!1),!1}},error:function(e){return!1}})}function callForDashboardDataForPasswordChange(e,a,t,s){if(!validateRequestForDashboardData(e))return!1;var r=!0;"section-linebox"==t&&(r=!1),$.ajax({global:r,type:"POST",url:getURLForHTML("dashboard",a),data:"showChancle="+s,dataType:"html",cache:!1,timeout:6e5,async:!1,success:function(e){if(""!=e){var s=[];return"FAILED"==(s=e.split("|"))[0]||"EXCEPTION"==s[0]||"SESSIONOUT"==s[0]?"SESSIONOUT"==s[0]?redirectLoginPage():showMessage(!0,s[1]):"SUCCESS"==s[0]?(showMessage(!0,s[1]),-1!=s[1].indexOf("Counselor")&&callDashboardPageSchool("mc30")):null==t||""==t?($("#dashboardContentInHTML").html(e),a.startsWith("add-to-cart-request-data")&&getCartDetails(USER_ID)):"section-linebox"==t?($("#teacherAgreementModal").modal("show"),$("#"+t).html(e),customLoader(!1)):"subject-plan"==t?($("#bookSessionPaymentModal").modal("show"),$("#"+t).html(e)):"changePasswordContent"==t?($("#changePasswordModal").modal({backdrop:"static",keyboard:!1}),$("#"+t).html(e)):"select-parent-student-id"==t?window.location.reload():setTimeout((function(){$("#"+t).html(e)}),1e3),!1}},error:function(e){return!1}})}function getRequestForStudentCourse(e){return""}function validateRequestForDashboardData(e){return!0}function callDashboardMenu(e){customLoader(!0),"1"==e?callForDashboardData("formIdIfAny","profile-view-content/"+SCHOOL_UUID+"?userId="):"2"==e||("3"==e?callForDashboardData("formIdIfAny","common/logout"):"4"==e||"5c"==e||"5d"==e||"5e"==e||"6a"==e||"6b"==e||"7b"==e||"3"==e||"13"==e||("14"==e?callForDashboardData("formIdIfAny","changed-password-request","changePasswordContent"):"01compose"==e?callForDashboardData("formIdIfAny","email-compose-content?emailType=&emailId=0&schoolId="+SCHOOL_ID):"01inbox"==e?callForDashboardData("formIdIfAny","email-inbox-content?schoolId="+SCHOOL_ID):"01sent"==e?callForDashboardData("formIdIfAny","email-sent-content?schoolId="+SCHOOL_ID):"01draft"==e?callForDashboardData("formIdIfAny","email-draft-content?schoolId="+SCHOOL_ID):"01read"==e?callForDashboardData("formIdIfAny","email-inbox-read-content?readType=read&schoolId="+SCHOOL_ID):"01unread"==e&&callForDashboardData("formIdIfAny","email-inbox-read-content?readType=unread&schoolId="+SCHOOL_ID)))}function callCommonDashboardPage(e){"1"==e&&callForDashboardData("formIdIfAny","edit-profile-content?userId=")}function callCommonDashboardPageForPasswordChange(e,a){callForDashboardDataForPasswordChange("formIdIfAny","changed-password-request","changePasswordContent","No"==a?"No":"Yes")}function callInneraction(e,a){customLoader(!0),"1ta"==e?callForDashboardData("formIdIfAny","teacher-action?actionType=approve&ids="+a):"1td"==e?callForDashboardData("formIdIfAny","teacher-action?actionType=decline&ids="+a):"3a"==e?callForDashboardData("formIdIfAny","view-task-content?taskname=class_work&subjectid="+a):"3b"==e?callForDashboardData("formIdIfAny","view-task-content?taskname=home_work&subjectid="+a):"inbox"==e||"sent"==e?callForDashboardData("formIdIfAny","email-detail-content?emailType="+e+"&emailId="+a+"&schoolId="+SCHOOL_ID):"reply"==e||"forward"==e||"draft"==e?callForDashboardData("formIdIfAny","email-compose-content?emailType="+e+"&emailId="+a+"&schoolId="+SCHOOL_ID):"attendance"==e?callForDashboardData("formIdIfAny","attendance-content"+a):"1a"==e?callForDashboardData("formIdIfAny","profile-view-content/"+SCHOOL_UUID+"?userId="+a+"&actionType="+e):"1StudentAdmin"==e?callForDashboardData("formIdIfAny","student-profile-view-content?userId="+a):"1ParentStudentAdmin"==e?callForDashboardData("formIdIfAny","profile-view-content/"+SCHOOL_UUID+"?userId="+a+"&actionType="+e):"1StudentLogin"==e?callForDashboardData("formIdIfAny","login-student-profile-view-content?userId="+a):"1teacherAdmin"==e?callForDashboardData("formIdIfAny","teacher-profile-view-content?userId="+a):"1ApproveTeacherAdmin"==e?callForDashboardData("formIdIfAny","approve-teacher-profile-view-content?userId="+a):"1RejectTeacherAdmin"==e?callForDashboardData("formIdIfAny","reject-teacher-profile-view-content?userId="+a):"1b"==e?callForDashboardData("formIdIfAny","edit-profile-content?userId="+a):"schoolProfileView"==e?callForDashboardData("formIdIfAny","new-school-profile-view-content?userId="+a):"rejectSchoolProfileView"==e||"rejectSchoolProfileView"==e?callForDashboardData("formIdIfAny","reject-school-profile-view-content?userId="+a):"addToCart"==e&&callForDashboardData("formIdIfAny","add-to-cart-request-data?userId="+a)}function validateChangePassword(e){return null==$("#"+e+" #oldpassword").val().trim()||""==$("#"+e+" #oldpassword").val().trim()?(showMessageTheme2(0," Old password is required.","",!1),!1):null==$("#"+e+" #newpassword").val().trim()||""==$("#"+e+" #newpassword").val().trim()?(showMessageTheme2(0," New password is required.","",!1),!1):null==$("#"+e+" #confirmpassword").val().trim()||""==$("#"+e+" #confirmpassword").val().trim()?(showMessageTheme2(0," Confirm new password is required.","",!1),!1):$("#"+e+" #newpassword").val().trim()!=$("#"+e+" #confirmpassword").val().trim()?(showMessageTheme2(0," New password and confirm password mismatch.","",!1),!1):pattern.test($("#"+e+" #newpassword").val())?!!pattern.test($("#"+e+" #confirmpassword").val().trim())||(showMessageTheme2(0," Confirm password must match all requirements","",!1),!1):(showMessageTheme2(0," New password must match all requirements","",!1),!1)}function changePassword(e){$(".disabledFields").each((function(){$(this).removeAttr("disabled")}));var a={};if(a.oldpassword=encode($("#oldpassword").val()),a.newpassword=encode($("#newpassword").val()),a.confirmpassword=encode($("#confirmpassword").val()),$(".disabledFields").each((function(){$(this).attr("disabled","disabled")})),hideMessageTheme2(""),!validateChangePassword("passwordForm"))return!1;$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","changed-password-content"),data:JSON.stringify(a),dataType:"json",success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():showMessageTheme2(!1,e.message,"",!0):($("#changePasswordModal").modal("hide"),showMessageTheme2(!0,e.message,"",!0))}})}function inquiryReplyData(e){if(null!=editor1&&""==editor1.getData())return showMessage(!0,"Please enter description"),!1;var a={eqid:$("#eqid").val(),toId:$("#toId").val(),emailMsg:escapeCharacters($("#emailMsg").val())};$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("common","inquiry-reply"),data:JSON.stringify(a),dataType:"html",cache:!1,timeout:6e5,success:function(a){if(""!=a){var t;return"FAILED"==(t=a.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?"SESSIONOUT"==t[0]||showMessage(!0,t[1]):($("#queriesModel").modal("hide"),setTimeout((function(){callDashboardPageSchool(e,"inquiries")}),1e3)),!1}},error:function(e){return!1}})}function getRequestForUpdateProfileNew(e,a){var t={},s={};return"STUDENT"==a?t.updateProfileStudentDTO=updateProfileStudentDTO():"TEACHER"==a?t.updateProfileTeacherDTO=updateTeacherProfileDTO():"PARENT"==a?t.updateProfileParentDTO=updateProfileParentDTO():"SCHOOL_ADMIN"==a?t.updateProfileSchoolAdminDTO=updateProfileSchoolAdminDTO():"AUDITOR"==a?t.updateProfileAuditorDTO=getJSONRequest(e):t.addCounselorListDTO="COUNSELOR"==a?updateCounselorProfile(e,a):updateCommanProfile(e,a),s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=a,s.userId=$("#"+e+" #userId").val().trim(),t.authentication=s,t}function callForUpdateProfile(e,a,t,s,r){var o=$("#"+e+" #userId").val().trim();if(""!=s&&null!=s||(s=$("#"+e+" #userId").val().trim()),"STUDENT"==a){if(!$("#checkParentDetails").is(":checked")&&"Y"==$("#checkForParentDetails").val().trim()&&!emailCheck($("#guardianEmail").val().trim(),a))return showMessage(!0,"Email already exist"),!1}else if("TEACHER"==a){if(""==$("#"+e+" #nationalityId").val().trim()||null==$("#"+e+" #nationalityId").val())return showMessage(!0,"Nationality is required"),!1;if(""!=$("#"+e+" #officialEmailId").val().trim()&&!validateEmail($("#"+e+" #officialEmailId").val().trim()))return showMessage(!0,"Official Email is invalid"),!1;var n=$("#"+e+" #accountType").val().trim();if(""==$("#"+e+" #accountPersonName").val().trim()&&""==$("#"+e+" #bankName").val().trim()&&""==$("#"+e+" #bankBranchName").val().trim()&&""==$("#"+e+" #bankBranchAddress").val().trim()&&""==$("#"+e+" #accountNo").val().trim());else{if(""==$("#"+e+" #accountPersonName").val().trim()||null==$("#"+e+" #accountPersonName").val().trim())return showMessage(!0,"Account Holder Name is required"),!1;if(""==$("#"+e+" #bankName").val().trim()||null==$("#"+e+" #bankName").val().trim())return showMessage(!0,"Bank Name is required"),!1;if(""==$("#"+e+" #bankBranchName").val().trim()||null==$("#"+e+" #bankBranchName").val().trim())return showMessage(!0,"Bank Branch Name is required"),!1;if(""==$("#"+e+" #bankBranchAddress").val().trim()||null==$("#"+e+" #bankBranchAddress").val().trim())return showMessage(!0,"Bank Branch Address is required"),!1;if(""==$("#"+e+" #accountNo").val().trim()||null==$("#"+e+" #accountNo").val().trim())return showMessage(!0,"Account Number is required"),!1}if("BANK_ACCOUNT"==n);else if(!validateEmail($("#"+e+" #payPalEmail").val()))return showMessage(!0,"PayPal Emaild ID is invalid"),!1;if(""!=$("#"+e+" #payPalIsdCode").val().trim()&&null!=$("#"+e+" #payPalIsdCode").val()||""!=$("#"+e+" #payPalMobile").val().trim()){if(""==$("#"+e+" #payPalIsdCode").val().trim()||null==$("#"+e+" #payPalIsdCode").val())return showMessage(!1,"Please choose PayPal ISD Code"),!1;if(""==$("#"+e+" #payPalMobile").val().trim()||$("#"+e+" #payPalMobile").val().trim().length<4||$("#"+e+" #payPalMobile").val().trim().length>15)return showMessage(!0,"PayPal Mobile Number is required"),!1}else;}hideMessage(""),$.ajax({type:"POST",url:getURLForHTML("dashboard","update-profile-content"),data:JSON.stringify(getRequestForUpdateProfileNew(e,a)),dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var a;return"FAILED"==(a=e.split("|"))[0]||"EXCEPTION"==a[0]||"SESSIONOUT"==a[0]?"SESSIONOUT"==a[0]?redirectLoginPage():showMessage(!0,a[1]):(showMessageTheme2(!1,"Profile has been updated successfully"),"2"==a[1]?setTimeout((function(){callDashboardPageSchool(s,"manage-user-list","","&schoolId="+r+"&userClickFrom=list&registrationType=ONE_TO_ONE&themeType=")}),2e3):setTimeout((function(){callSchoolInneraction("1a",o,"",s)}),1e3)),!1}return!1},error:function(e){$("#nextStep").prop("disabled",!1),tabActiveStatus(3)}})}function updateTeacherProfileDTO(){var e={};return e.nationalityId=$("#nationalityId").val().trim(),e.altEmailId=escapeCharacters($("#altEmailId").val().trim()),e.altPhoneCodeNo=$("#altPhoneCodeNo").val().trim(),e.altPhoneNo=$("#altPhoneNo").val().trim(),e.graduationSubjects=escapeCharacters($("#graduationSubjects").val().trim()),e.postGraduationSubjects=escapeCharacters($("#postGraduationSubjects").val().trim()),e.otherProfessionalCourse=escapeCharacters($("#otherProfessionalCourse").val().trim()),e.otherSpecialization=escapeCharacters($("#otherSpecialization").val().trim()),e.otherSkills=escapeCharacters($("#otherSkills").val().trim()),e.anyOtherLanguages=escapeCharacters($("#anyOtherLanguages").val().trim()),e.references1=escapeCharacters($("#references1").val().trim()),e.references2=escapeCharacters($("#references2").val().trim()),e.describeYourself=escapeCharacters($("#describeYourself").val().trim()),e.accountPersonName=$("#accountPersonName").val().trim(),e.bankName=$("#bankName").val().trim(),e.bankBranchName=$("#bankBranchName").val().trim(),e.bankBranchAddress=escapeCharacters($("#bankBranchAddress").val().trim()),e.accountNo=$("#accountNo").val().trim(),e.swiftCode=$("#swiftCode").val().trim(),e.routeNo=$("#routeNo").val().trim(),e.accountType=$("#accountType").val().trim(),e.payPalEmail=escapeCharacters($("#payPalEmail").val().trim()),e.payPalIsdCode=$("#payPalIsdCode").val().trim(),e.payPalMobile=$("#payPalMobile").val().trim(),e.payPalAccountHolderName=$("#payPalAccountHolderName").val().trim(),e.teacherSubjectIds=$("#teacherSubjectIds").val().trim(),e.teacherPlacementSubjectIds=$("#teacherPlacementSubjectIds").val().trim(),e.officialEmailId=escapeCharacters($("#officialEmailId").val().trim()),e.providerId=$("#courseProvider").val().trim(),e}function updateProfileSchoolAdminDTO(){var e={};return e.roomCount=$("#roomCount").val().trim(),e.staffCount=$("#staffCount").val().trim(),e.noOfStudentsMiddleSchool=$("#noOfStudentsMiddleSchool").val().trim(),e.noOfStudentsHighSchool=$("#noOfStudentsHighSchool").val().trim(),e.noOfStudentsPostSecondry=$("#noOfStudentsPostSecondry").val().trim(),e.noOfStudentsUnderGraduate=$("#noOfStudentsUnderGraduate").val().trim(),e.noOfStudentsPostGraduate=$("#noOfStudentsPostGraduate").val().trim(),e.numberOfStudentsVocationalSkillDev=$("#numberOfStudentsVocationalSkillDev").val().trim(),e.totalSchoolArea=$("#totalSchoolArea").val().trim(),e.washroomCount=$("#washroomCount").val().trim(),e.aboutSchool=escapeCharacters($("#aboutSchool").val().trim()),e}function updateProfileStudentDTO(){var e={};return e.altPhoneCode=$("#altPhoneCode").val().trim(),e.altPhoneNo=$("#altPhoneNo").val().trim(),e.birthPlace=escapeCharacters($("#birthPlace").val().trim()),e.hobbies=escapeCharacters($("#hobbies").val().trim()),e.nationality=$("#nationality").val().trim(),e.bloodGroup=$("#bloodGroup").val().trim(),e.guardianEmail=escapeCharacters($("#guardianEmail").val().trim()),e.guardianWorkCodeNo=$("#guardianWorkCodeNo").val().trim(),e.guardianWorkContactNo=$("#guardianWorkContactNo").val().trim(),e}function updateProfileParentDTO(){var e={};return e.workStdCode=escapeCharacters($("#workStdCode").val().trim()),e.workPhoneNo=$("#workPhoneNo").val().trim(),e.occupation=escapeCharacters($("#occupation").val().trim()),e}function updateCounselorProfile(e,a){var t={};return t.id=$("#"+e+" #counselerId").val().trim(),t.userId=$("#"+e+" #userId").val().trim(),t.firstName=$("#"+e+" #firstName").val().trim(),t.middleName=$("#"+e+" #middleName").val().trim(),t.lastName=$("#"+e+" #lastName").val().trim(),t.dob=$("#"+e+" #dob").val().trim(),t.gender=$("#"+e+" #gender").val().trim(),t.address=escapeCharacters($("#"+e+" #address").val().trim()),t.countryId=$("#"+e+" #countryId").val().trim(),t.stateId=$("#"+e+" #stateId").val().trim(),t.cityId=$("#"+e+" #cityId").val().trim(),t.pincode=$("#"+e+" #pincode").val().trim(),t.emailId=$("#"+e+" #email").val().trim(),t.altEmailId=$("#"+e+" #altEmailId").val().trim(),t.isdCode=$("#"+e+" #isdCode").val().trim(),t.phoneNo=$("#"+e+" #phoneNo").val().trim(),t.altIsdCode=$("#"+e+" #altIsdCode").val().trim(),t.altPhoneNo=$("#"+e+" #altPhoneNo").val().trim(),t.status=1,t}function updateCommanProfile(e,a){var t={};return t.userId=$("#"+e+" #userId").val().trim(),t.firstName=$("#"+e+" #firstName").val().trim(),t.middleName=$("#"+e+" #middleName").val().trim(),t.lastName=$("#"+e+" #lastName").val().trim(),t.gender=$("#"+e+" #gender").val().trim(),t.countryId=$("#"+e+" #countryId").val().trim(),t.stateId=$("#"+e+" #stateId").val().trim(),t.cityId=$("#"+e+" #cityId").val().trim(),t.emailId=$("#"+e+" #email").val().trim(),t.status=1,t}function callCommonAction(e,a,t,s,r,o,n,i){console.log("formId=>"+e+", actionUrl=>"+a+", module=>"+t+", actionType=>"+s+", userId=>"+r),$.ajax({type:"POST",contentType:"application/json",url:getURLFor(t,a),data:JSON.stringify(getRequestForAction(e,t,s,r,o,n)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?showMessage(!0,e.message):(showMessage(!1,e.message),"approve"==s?$("#approvedRequest"+r).text("Approved"):"decline"==s?$("#approvedRequest"+r).text("Declined"):"non-qualified"==s?($("#interviewApprovalModal").modal("hide"),$("#approvedRequest"+r).text("Rejected"),setTimeout((function(){callDashboardPageSchool(i,"pending-interview-remarks")}),1e3)):"qualified"==s?($("#approvedRequest"+r).text("Qualified"),setTimeout((function(){callDashboardPageSchool(i,"pending-interview-remarks")}),1e3)):"re-active"==s&&$("#profileId_"+r).remove()),!1},error:function(e){"pending-approve-school-visit"==a&&$("#PendingRemarkModal").modal("show")}})}function getRequestForAction(e,a,t,s,r,o){var n={},i={},l={};return i.hash=getHash(),i.schoolId=SCHOOL_ID,i.schoolUUID=SCHOOL_UUID,i.userType=a,i.userId=s,n.authentication=i,l.requestKey=t,l.requestValue=t,l.requestExtra=r,l.requestExtra1=o,n.requestData=l,n}function createSchoolEvent(){hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","create-event"),data:JSON.stringify(getRequestForCreateEvent()),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?showMessage(!0,e.message):(showMessage(!1,e.message),$("#eventModal").modal("toggle"),"TEACHER"==$("#dashboardFor").val()?setTimeout((function(){callDashboardPageTeacher("5")}),1e3):setTimeout((function(){callDashboardPageSchool("4")}),1e3)),!1},error:function(e){return!1}})}function getRequestForCreateEvent(){var e={},a={},t={},s={};return s.eventTitle=$("#eventTitle").val().trim(),s.subjectEventId=$("#subjectEventId").val().trim(),0!=$("#standardId").val().trim()&&null!=$("#standardId").val().trim()&&(s.standardId=$("#standardId").val().trim()),0!=$("#placementStandardId").val().trim()&&null!=$("#placementStandardId").val().trim()&&(s.standardId=$("#placementStandardId").val().trim()),0!=$("#subjectId").val().trim()&&null!=$("#subjectId").val().trim()&&(s.subjectId=$("#subjectId").val().trim()),s.startEndDate=$("#startEndDate").val().trim(),t.createEventDTO=s,a.hash=getHash(),a.schoolId=SCHOOL_ID,a.schoolUUID=SCHOOL_UUID,a.userId=$("#userId").val().trim(),e.authentication=a,e.requestData=t,e}function submitSendEmailSubmit(e,a,t){if(hideMessage(""),!validateRequestForSendEmail(e,a))return!1;$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","compose-email-submit"),data:JSON.stringify(getRequestForsendEmail(e,a,t)),dataType:"json",cache:!1,timeout:6e5,success:function(a){return"0"==a.status||"2"==a.status?showMessage(!0,a.message):(showMessage(!1,a.message),$("#"+e)[0].reset()),!1},error:function(e){return!1}})}function getRequestForsendEmail(e,a,t){var s={},r={},o={},n={},i=$("#"+e+" #draftid").val().trim(),l=$("#"+e+" #toId").val().trim(),c=$("#"+e+" #subject").val().trim(),d=$("#"+e+" #fromId").val().trim();return n.emailId=i,n.label=t,n.emailType="email",n.toId=l,n.fromId=d,null!=editor1&&(n.msg=escapeCharacters(editor1.getData())),n.subject=c,n.draftStatus="normal"==t?"1":"0",o.emailListDTO=n,r.hash=getHash(),r.schoolId=SCHOOL_ID,r.schoolUUID=SCHOOL_UUID,r.userType=a,r.userId=$("#"+e+" #userId").val().trim(),s.authentication=r,s.requestData=o,s}function validateRequestForSendEmail(e,a){return!0}function callForUserSignUp(e){return hideMessage(""),""==$("#roleUser").val().trim()||0==$("#roleUser").val().trim()?(showMessage(!0,"Role Type is required."),!1):""==$("#emailId").val().trim()?(showMessage(!0,"Email is required."),!1):("3"==$("#roleUser").val().trim()?moduleId="TEACHER":moduleId="STUDENT",$("#signup").prop("disabled",!0),void $.ajax({type:"POST",contentType:"application/json",url:getURLForSignup("enrollment/stage-1",moduleId),data:JSON.stringify(getRequestForSignup(e,moduleId)),dataType:"json",cache:!1,timeout:6e5,success:function(a){return"0"==a.status||"2"==a.status?("0001"==a.statusCode&&$("#allReadyEmail #emailVerify").show(),showMessage(!0,a.message),showHideDiv(!1,"signupShortForm"),showHideDiv(!0,"accountConfirmation")):(showHideDiv(!0,"signupShortForm"),showHideDiv(!1,"accountConfirmation"),$("#emailId").html($("#"+e+" #email").val()),showMessage(!0,a.message)),$("#signup").prop("disabled",!1),!1},error:function(e){console.log("ERROR : ",e),$("#signup").prop("disabled",!1)}}))}function getRequestForSignup(e,a){var t={},s={},r={};return r.email=$("#"+e+" #emailId").val().trim(),r.confirmEmail=$("#"+e+" #emailId").val().trim(),r.password="1234567",r.confirmPassword="1234567",null!=$("#"+e+" #captcha").val().trim()&&(r.captcha=$("#"+e+" #captcha").val().trim()),r.signupType="Offline",r.isAdminCreateUser="AdminCreateUser",r.userType=a,s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=a,t.authentication=s,t.data=r,t}function getTeacherList(e,a,t){$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","teacher-mapping-list"),data:JSON.stringify(getRequestTeacherForStudent(e,a)),dataType:"json",cache:!1,timeout:6e5,success:function(e){if("0"==e.status||"2"==e.status)showMessage(!0,e.message);else{var a=e.dashboardDTO.studentTeacherMappingDTOList;tBodyRow='<select id="teachername" name="teachername">',tBodyRow+="<option value=0>--Select Teacher--</option>",$.each(a,(function(e,a){var s="",r=a.teacherName+"  "+a.subjectName;r==t&&(s="selected"),tBodyRow+="<option value="+a.teacherId+" "+s+">"+r+"</option>"})),tBodyRow+="</select>",$(".teacherselect").html(tBodyRow)}return!1},error:function(e){return!1}})}function getRequestTeacherForStudent(e,a){var t={},s={},r={},o=$("#"+e+" #subjectid").val(),n=$("#"+e+" #placementSubjectid").val();return r.requestKey="subject",""!=o&&0!=o&&(r.requestValue=o),r.requestExtra="placementSubject",""!=n&&0!=n&&(r.requestExtra1=n),s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=a,s.userId=$("#"+e+" #userId").val(),t.authentication=s,t.requestData=r,t}function submitStudentTeacherMapp(e,a){if(hideMessage(""),!validateRequestStudentTeacherMapp(e,a))return!1;$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","student-teacher-mapping-submit"),data:JSON.stringify(getRequestForStudentTeacherMapp(e,a)),dataType:"json",cache:!1,timeout:6e5,success:function(a){return"0"==a.status||"2"==a.status?showMessage(!0,a.message):(showMessage(!1,a.message),$("#"+e)[0].reset(),setTimeout((function(){callDashboardPageSchool("3")}),1e3)),!1},error:function(e){return!1}})}function getRequestForStudentTeacherMapp(e,a){var t={},s={},r={},o={},n=$("#"+e+" #mapid").val().trim(),i=$("#"+e+" #studentid").val().trim(),l=$("#"+e+" #subjectid").val().trim(),c=$("#"+e+" #teachername option:selected").val().trim(),d=$("#"+e+" #placementSubjectid").val().trim();return o.mappingId=n,o.teacherId=c,o.studentId=i,o.subjectId=l,o.placementSubjectId=d,r.studentTeacherMappingDTO=o,s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=a,s.userId=$("#"+e+" #userId").val().trim(),t.authentication=s,t.requestData=r,t}function validateRequestStudentTeacherMapp(e,a){return!0}function emailCheckForMail(e,a){var t="";return hideMessage(""),-1!=e.indexOf(",")||validateEmail(e)?($.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("is-user-available"),data:JSON.stringify(getCallRequestForEmailCheckForMail(e,a)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(e){"0"==e.status||"2"==e.status?t=!0:(showMessage(!0,"Email doesn't exist"),t=!1)},error:function(e){console.log("ERROR : ",e)}}),t):(showMessage(!1,"Email is either empty or invalid"),!1)}function getCallRequestForEmailCheckForMail(e,a){var t={},s={},r={requestKey:"EMAIL-AVAILABLE"};return r.email=e,s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType=a,t.authentication=s,t.data=r,t}function callCommonWireTransferPayment(e,a){if(!validateCharacters($("#wireTransferNumber").val().trim()))return showMessage(!1,"Please use the English Keyboard while providing information"),!1;hideMessage(""),$.ajax({type:"POST",contentType:"application/json",url:getURLFor("school","call-wireTransferPayment"),data:JSON.stringify(getRequestForCommonWireTransferPayment(e,a)),dataType:"json",cache:!1,timeout:6e5,success:function(e){return"0"==e.status||"2"==e.status?showMessage(!0,e.message):(showMessage(!0,e.message),$("#callPaymentModal").modal("hide"),$("#callWireTransferModal").modal("hide"),location.reload()),!1},error:function(e){}})}function getRequestForCommonWireTransferPayment(e,a){console.log("getRequestForCommonWireTransferPayment");var t={},s={},r={},o={userType:"SCHOOL_B2B",moduleName:"SCHOOL_B2B"};return o.referenceNumber=escapeCharacters($("#wireTransferNumber").val().trim()),o.paymentType=$("#paymentType").val(),"SCHOOL-STUDENT-FEE"==$("#paymentType").val().trim()&&(o.attachment=$("#fileupload3").parent("span").parent("p").parent("div").find("span.fileName").html()),"One_time_Application_Fee"==$("#paymentType").val().trim()&&(o.attachment=$("#fileupload8").parent("span").parent("p").parent("div").find("span.fileName").html()),"Annual_Dues"==$("#paymentType").val().trim()&&(o.attachment=$("#fileupload2").parent("span").parent("p").parent("div").find("span.fileName").html()),"One_time_Partnership_Fee"==$("#paymentType").val().trim()&&(o.attachment=$("#fileupload2").parent("span").parent("p").parent("div").find("span.fileName").html()),null!=$("#totalCount").val().trim()&&""!=$("#totalCount").val().trim()&&(o.totalCount=$("#totalCount").val().trim()),null!=$("#currentGradeId").val().trim()&&""!=$("#currentGradeId").val().trim()&&(o.gradeId=$("#currentGradeId").val().trim()),null!=$("#schoolId").val().trim()&&""!=$("#schoolId").val().trim()&&(o.schoolId=$("#schoolId").val().trim()),null!=$("#totalStudentIds").val().trim()&&""!=$("#totalStudentIds").val().trim()&&(o.studentId=$("#totalStudentIds").val().trim()),r.wireTransferInfoDTO=o,s.hash=getHash(),s.schoolId=SCHOOL_ID,s.schoolUUID=SCHOOL_UUID,s.userType="SCHOOL_B2B",s.userId=$("#userId").val().trim(),t.authentication=s,t.requestData=r,t}function disabledBankDeatils(e){$("#accountPersonName").prop("disabled",e),$("#bankName").prop("disabled",e),$("#bankBranchName").prop("disabled",e),$("#bankBranchAddress").prop("disabled",e),$("#accountNo").prop("disabled",e),$("#swiftCode").prop("disabled",e),$("#routeNo").prop("disabled",e)}function callStudentRedirectToDashboard(e,a,t){var s={};s.userId=e,s.userPaymentDetailsId=a,s.sendMailStatus=t,$.ajax({type:"POST",url:getURLForHTML("dashboard","send-to-dashboard"),contentType:"application/json",data:JSON.stringify(s),dataType:"html",cache:!1,timeout:6e5,async:!1,success:function(e){if(""!=e){var a;return("FAILED"!=(a=e.split("|"))[0]&&"EXCEPTION"!=a[0]&&"SESSIONOUT"!=a[0]||"SESSIONOUT"!=a[0])&&(showMessage(!0,a[1]),DEFAULT_SEARCH_STATE=!0,callDashboardPageSchool("2b","studentTab","","&schoolId="+SCHOOL_ID),!1)}},error:function(e){showMessage(!0,e.responseText)}})}function callForServerDownMessage(e){if(null==$("#message").val().trim()||null==$("#message").val().trim()||""==$("#message").val().trim())return showMessage(!1,"Maintenance message is mandatory"),!1;$.ajax({type:"POST",url:getURLForHTML("dashboard","maintenance-down-message-activity"),contentType:"application/json",data:JSON.stringify(getRequestForServerDownMessage()),dataType:"html",success:function(a){if(""!=a){var t=JSON.parse(a);return"FAILED"==t.statusResponse.status||"EXCEPTION"==t.statusResponse.status||"SESSIONOUT"==t.statusResponse.status?"SESSIONOUT"==t.statusResponse.status?redirectLoginPage():showMessage(!0,t.statusResponse.message):"SUCCESS"==t.statusResponse.status&&(showMessage(!0,t.statusResponse.message),setTimeout((function(){callDashboardPageSchool(e,"maintenance-down-message")}),1e3)),!1}},error:function(e){console.log(!0,e.responseText)}})}function getRequestForServerDownMessage(){var e={},a={};return"N"==$("#forAllSchool").val()&&(a.schoolId=SCHOOL_ID),a.message=$("#message").val().trim(),a.userId=USER_ID,e.maintenanceDownTimeDTO=a,e.controlType="ADD",e.uniqueId=UNIQUEUUID,e}function callForServerDownMessageEmail(e,a){$.ajax({type:"POST",url:getURLForHTML("dashboard","maintenance-down-message-activity"),contentType:"application/json",data:JSON.stringify(getRequestForServerDownMessageEmail(e)),dataType:"html",success:function(e){if(""!=e){var t=JSON.parse(e);return"FAILED"==t.statusResponse.status||"EXCEPTION"==t.statusResponse.status||"SESSIONOUT"==t.statusResponse.status?"SESSIONOUT"==t.statusResponse.status?redirectLoginPage():showMessage(!0,t.statusResponse.message):"SUCCESS"==t.statusResponse.status&&(showMessage(!0,t.statusResponse.message),setTimeout((function(){callDashboardPageSchool(a,"maintenance-down-message")}),1e3)),!1}},error:function(e){console.log(!0,e.responseText)}})}function getRequestForServerDownMessageEmail(e){var a={},t={};return t.maintenanceId=e,a.maintenanceDownTimeDTO=t,a.controlType="EMAIL",a.id=e,a}function callForServerDownMessageMarquee(e,a){$.ajax({type:"POST",url:getURLForHTML("dashboard","maintenance-down-message-activity"),contentType:"application/json",data:JSON.stringify(getRequestForServerDownMessageMarquee(e)),dataType:"html",success:function(e){if(""!=e){var t=JSON.parse(e);return"FAILED"==t.statusResponse.status||"EXCEPTION"==t.statusResponse.status||"SESSIONOUT"==t.statusResponse.status?"SESSIONOUT"==t.statusResponse.status?redirectLoginPage():showMessage(!0,t.statusResponse.message):"SUCCESS"==t.statusResponse.status&&(showMessage(!0,t.statusResponse.message),setTimeout((function(){callDashboardPageSchool(a,"maintenance-down-message")}),1e3)),!1}},error:function(e){console.log(!0,e.responseText)}})}function getRequestForServerDownMessageMarquee(e){var a={},t={};return t.maintenanceId=e,a.maintenanceDownTimeDTO=t,a.controlType="MARQUEE",a.id=e,a}function showAssignedSubjectToTeacher(e){showAssignedSubjectToTeacherContent(e,1,""),showAssignedSubjectToTeacherContent(e,31,""),showAssignedSubjectToTeacherContent(e,2,"Yes"),showAssignedSubjectToTeacherContent(e,2,"No"),$("#assignSubjects").modal({backdrop:"static",keyboard:!1}),showAssignedSubjectOnProviderId()}function showAssignedSubjectOnProviderId(){var e=$("#courseProvider").val().trim(),a=$("#flaxStatus").val().trim();$(".teacherAddCourseSelectionlist").hide(),"1"==e?$("#teacherAddCourseSelectionlist1").show():"31"==e?$("#teacherAddCourseSelectionlist31").show():"36"==e?$("#teacherAddCourseSelectionlist36").show():"2"==e&&"No"==a?$("#teacherAddCourseSelectionlist2").show():"2"==e&&"Yes"==a&&$("#teacherAddCourseSelectionlist3").show()}function cancelTotalSubjectSelected(){if($("#teacherAddCourseSelectionlist").html(""),$(".subjectIds").each((function(){$(this).hasClass("greenDiv")&&$(this).removeClass("greenDiv")})),$(".placementSubjectIds").each((function(){$(this).hasClass("greenDiv")&&$(this).removeClass("greenDiv")})),null!=PRESERVE_CURRENT_SUBJECTS)for(var e=PRESERVE_CURRENT_SUBJECTS.split(","),a=0;a<e.length;a++)$("#subjectId-"+e[a]).addClass("greenDiv");if(null!=PRESERVE_CURRENT_PLACEMENT_SUBJECTS)for(e=PRESERVE_CURRENT_PLACEMENT_SUBJECTS.split(","),a=0;a<e.length;a++)$("#subjectPlacementId-"+e[a]).addClass("greenDiv");$("#assignSubjects").modal("hide")}function calculateTotalSubjectSelected(){var e="",a="";if($(".subjectIds").each((function(){$(this).hasClass("greenDiv")&&(e=e+","+$(this).attr("data-placement"))})),$(".placementSubjectIds").each((function(){$(this).hasClass("greenDiv")&&(a=a+","+$(this).attr("data-placement"))})),CURRENT_SUBJECTS=e.substr(1),CURRENT_PLACEMENT_SUBJECTS=a.substr(1),""==CURRENT_SUBJECTS&&""==CURRENT_PLACEMENT_SUBJECTS)return showMessage(!0,"Please select at least one subject to proceed."),!1;CURRENT_SUBJECTS.split(",").length,CURRENT_PLACEMENT_SUBJECTS.split(",").length;return $("#assignSubjects").modal("hide"),$("#teacherSubjectIds").val(CURRENT_SUBJECTS),$("#teacherPlacementSubjectIds").val(CURRENT_PLACEMENT_SUBJECTS),PRESERVE_CURRENT_SUBJECTS=CURRENT_SUBJECTS,PRESERVE_CURRENT_PLACEMENT_SUBJECTS=CURRENT_PLACEMENT_SUBJECTS,console.log("CURRENT_SUBJECTS: "+CURRENT_SUBJECTS),console.log("PRESERVE_CURRENT_SUBJECTS: "+PRESERVE_CURRENT_SUBJECTS),console.log("CURRENT_PLACEMENT_SUBJECTS: "+CURRENT_PLACEMENT_SUBJECTS),console.log("PRESERVE_CURRENT_PLACEMENT_SUBJECTS: "+PRESERVE_CURRENT_PLACEMENT_SUBJECTS),CURRENT_SUBJECTS+","+CURRENT_PLACEMENT_SUBJECTS}function showAssignedSubjectToTeacherContent(e,a,t){hideMessage(""),$.ajax({type:"POST",url:getURLForHTML("dashboard","assigned-subject-to-teacher-content"),data:"userId="+e+"&providerId="+a+"&flaxStatus="+t,dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var s;return"FAILED"==(s=e.split("|"))[0]||"EXCEPTION"==s[0]||"SESSIONOUT"==s[0]?showMessage(!0,s[1]):1==a&&""==t?$("#teacherAddCourseSelectionlist1").html(e):31==a&&""==t?$("#teacherAddCourseSelectionlist31").html(e):36!=a&&37!=a&&38!=a||""!=t?2==a&&"No"==t?$("#teacherAddCourseSelectionlist2").html(e):2==a&&"Yes"==t&&$("#teacherAddCourseSelectionlist3").html(e):$("#teacherAddCourseSelectionlist36").html(e),!1}},error:function(e){return console.log(e),!1}})}function submitForTeacherInterviewSlots(e,a,t,s){if(hideMessage(""),"ADDURL"==t&&(""==$("#interviewLink").val().trim()||null==$("#interviewLink").val().trim()))return showMessage(!0,"Interview Link is required"),!1;$.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","meetingslots-submit"),data:JSON.stringify(getRequestForsubmitForTeacherInterviewSlots(e,a,t)),dataType:"json",cache:!1,timeout:6e5,success:function(a){return"0"==a.status||"2"==a.status?showMessage(!0,a.message):(showMessage(!1,a.message),"ADDURL"==t?($("#interviewLinkModal").modal("toggle"),$("#"+e)[0].reset(),setTimeout((function(){callDashboardPageSchool(s,"pending-interview-remarks")}),1e3)):"SENDMAIL"==t&&($("#sendMailInterViewModel").modal("toggle"),$("#"+e)[0].reset(),setTimeout((function(){callDashboardPageSchool(s,"pending-interview-remarks")}),1e3))),!1},error:function(e){return!1}})}function getRequestForsubmitForTeacherInterviewSlots(e,a,t){var s={},r={},o={};return"ADDURL"==t?(o.controllType=t,o.meetingType="INTERVIEW",o.meetingId=$("#"+e+" #meetingId").val().trim(),o.meetingUrl=$("#"+e+" #interviewLink").val().trim()):"SENDMAIL"==t&&(o.controllType=t,o.meetingType="INTERVIEW",o.meetingId=$("#"+e+" #meetingId").val().trim()),r.hash=getHash(),r.schoolId=SCHOOL_ID,r.schoolUUID=SCHOOL_UUID,r.userType=a,r.userId=$("#"+e+" #userId").val().trim(),s.authentication=r,s.meetingSlotDTO=o,s}function notificationContentListingWithQueries(e,a){$("#"+e).DataTable({processing:!1,serverSide:!0,searching:!0,pageLength:10,ajax:{url:CONTEXT_PATH+UNIQUEUUID+"/dashboard/notifications-1"+a,data:function(e){}},fnRowCallback:function(e,a,t,s){},columns:[{data:"sno",name:"sno",title:"S.No"},{data:"createdAt",name:"createdAt",title:"Date"},{data:"notificationTitle",name:"notificationTitle",title:"Title"},{data:"action",name:"action",title:"View Details"}]}),$("#"+e).dataTable().fnSetFilteringEnterPress()}function getBookSessionPayment(e){if(hideMessage(""),""==$("#"+e+" #planId").val().trim())return showMessageTheme2(0," Please select a plan","",!1),!1;if("plan-one"!=$("#"+e+" #planId").val().trim()&&"discoveryAddOn"!=$("#"+e+" #planId").val().trim()&&(""==$("#"+e+" #choosePlanStartDate").val().trim()||null==$("#"+e+" #choosePlanStartDate").val().trim()))return showMessageTheme2(0," Please select plan start date","",!1),!1;"plan-one"!=$("#"+e+" #planId").val().trim()&&"discoveryAddOn"!=$("#"+e+" #planId").val().trim()&&(planStartDate=$("#"+e+" #choosePlanStartDate").val().trim(),planEndDate=$("#"+e+" #choosePlanEndDate").val().trim());var a={};a.userId=USER_ID,a.subjectId=$("#"+e+" #subjectId").val(),a.amount=$("#"+e+" #amount").val(),a.planId=$("#"+e+" #planId").val(),a.planAmount=$("#"+e+" #planAmount").val(),a.studentSessionId=$("#"+e+" #studentSessionId").val(),a.subjectBookStatus=$("#"+e+" #subjectBookStatus").val(),a.sessionCount=$("#"+e+" #planCount").val(),a.finalSessionCount=$("#"+e+" #totalPlanCount").val(),a.planStartDate=planStartDate,a.planEndDate=planEndDate,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","booksession-plan-content"),data:JSON.stringify(a),dataType:"html",success:function(e){if(""!=e){var a;return"FAILED"==(a=e.split("|"))[0]||"EXCEPTION"==a[0]||"SESSIONOUT"==a[0]?"SESSIONOUT"==a[0]?redirectLoginPage():showMessageTheme2(0,a[1],"",!1):(showMessageTheme2(1," Item added to your cart successfully","",!1),getCartDetails(USER_ID)),!1}}})}function getCartDetails(e){var a={};a.userId=e,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","get-cart-details"),data:JSON.stringify(a),dataType:"html",success:function(e){if(""!=e){var a;return"FAILED"==(a=e.split("|"))[0]||"EXCEPTION"==a[0]||"SESSIONOUT"==a[0]?"SESSIONOUT"==a[0]?redirectLoginPage():showMessageTheme2(0,a[1],"",!1):$("#cartTotalList").html(e),!1}}})}function addToCartPayment(e,a,t){hideMessage("");var s={};s.amount=e,s.bookingIds=a,s.subjectId=t,s.userId=USER_ID,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","cart-to-payment-content"),data:JSON.stringify(s),dataType:"html",success:function(e){if(""!=e){var a;return"FAILED"==(a=e.split("|"))[0]||"EXCEPTION"==a[0]||"SESSIONOUT"==a[0]?"SESSIONOUT"==a[0]?redirectLoginPage():showMessageTheme2(0,a[1],"",!1):($("#payTabBookingSessionModal").modal("show"),$("#bookSessionTermModal").html(e)),!1}},error:function(e){return!1}})}function showOtherReason(e){"Other"==$("#reasonEnrollEnd"+e).val()?$("#otherReason"+e).show():($("#otherReason"+e).val(""),$("#otherReason"+e).hide())}function changeTeacher(e,a,t){$("#steachEnrollStartDate"+e).val(""),$("#steachEnrollEndDate"+e).val(""),$("#reasonEnrollEnd"+e).val(""),$("#otherReason"+e).val("")}function helpSupport(){setTimeout((function(){$(".right-wrapper .nav-tabs li a").removeClass("active"),$(".right-wrapper .nav-tabs li:nth-child(4) a").addClass("active"),$(".right-wrapper .tab-content .tab-pane").removeClass("active"),$(".right-wrapper .tab-content .tab-pane:nth-child(4)").addClass("active")}),1e3)}function showPopupAddBatches(e,a,t){hideMessage(""),$.ajax({type:"POST",url:getURLForHTML("dashboard","assigned-subject-to-teacher-content"),data:"userId="+e+"&providerId="+a+"&flaxStatus="+t,dataType:"html",cache:!1,timeout:6e5,success:function(e){if(""!=e){var s;return"FAILED"==(s=e.split("|"))[0]||"EXCEPTION"==s[0]||"SESSIONOUT"==s[0]?showMessage(!0,s[1]):1==a&&""==t?$("#teacherAddCourseSelectionlist1").html(e):31==a&&""==t?$("#teacherAddCourseSelectionlist31").html(e):36!=a&&37!=a&&38!=a||""!=t?2==a&&"No"==t?$("#teacherAddCourseSelectionlist2").html(e):2==a&&"Yes"==t&&$("#teacherAddCourseSelectionlist3").html(e):$("#teacherAddCourseSelectionlist36").html(e),!1}},error:function(e){return!1}})}function callForUpdateCourseFee(e,a){$("#userId").val();if(hideMessage(""),!validateUpdateCourseTeacherDTO())return!1;$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","update-teacher-course"),data:JSON.stringify(getRequestForCourseTeacher()),dataType:"html",success:function(e){if(""!=e){var a;return"FAILED"==(a=e.split("|"))[0]||"EXCEPTION"==a[0]||"SESSIONOUT"==a[0]?"SESSIONOUT"==a[0]?redirectLoginPage():showMessage(!0,a[1]):(showMessage(!1,"Courses Updated"),$("#assignSubjectsTeacher").modal("hide")),!1}return!1},error:function(e){$("#nextStep").prop("disabled",!1),tabActiveStatus(3)}})}function getRequestForCourseTeacher(){var e={},a={},t={};return t.updateProfileTeacherDTO=updateCourseTeacherDTO(),a.hash=getHash(),a.schoolId=SCHOOL_ID,a.schoolUUID=SCHOOL_UUID,a.userType=moduleId,a.userId=$("#userId").val(),e.authentication=a,e.requestData=t,e}function updateCourseTeacherDTO(){var e={},a=[],t="";if($(".allSelectedSubject").each((function(){subjectDTO={};var e=$(this).attr("data-subjectid"),s=$(this).attr("data-lmssubjectid"),r=$(this).attr("data-selectid");if(null==r&&(r=0),t=t+","+e,subjectDTO.subjectId=e,subjectDTO.lmsSubjectId=s,subjectDTO.selectId=r,""==$("#selectSubjectDate-"+e).val())return showMessage(!0,"Please choose start date of "+$("#selectSubjectName-"+e).text()),!1;subjectDTO.startDate=$(this).find(".selectSubjectDate").val(),subjectDTO.endDate=$(this).find(".selectSubjectEndDate").val(),subjectDTO.subjectStatus=$(this).find(".subjectStatus").val(),subjectDTO.statusDate=$(this).find(".subjectStatusDateCl").val(),a.push(subjectDTO)})),CURRENT_SUBJECTS=t.substr(1),""==CURRENT_SUBJECTS)return showMessage(!0,"Please select at least one subject to proceed."),!1;CURRENT_SUBJECTS.split(",").length;return $("#teacherSubjectIds").val(CURRENT_SUBJECTS),e.teacherSubjectIds=$("#teacherSubjectIds").val(),e.providerId=$("#courseProvider").val(),e.subjectDTO=a,console.log("updateProfileTeacherDTO=>",JSON.stringify(e)),e}function validateUpdateCourseTeacherDTO(){var e=[],a="";return $(".allSelectedSubject").each((function(){subjectDTO={};var t=$(this).attr("data-subjectid");if(a=a+","+t,subjectDTO.subjectId=t,""==$("#selectSubjectDate-"+t).val())return showMessage(!0,"Please choose start date of "+$("#selectSubjectName-"+t).text()),!1;subjectDTO.startDate=$("#selectSubjectDate-"+t).val(),e.push(subjectDTO)})),CURRENT_SUBJECTS=a.substr(1),""!=CURRENT_SUBJECTS||(showMessage(!0,"Please select at least one subject to proceed."),!1)}function getTeacherSubjectList(e){hideMessage(""),$("#teacherAssignSubjectModal").modal({backdrop:"static",keyboard:!1}),$.ajax({type:"POST",url:getURLForHTML("dashboard","teacher-subject-list"),data:encodeURI("request="+JSON.stringify(getTeacherSearchSubject(e))),dataType:"html",cache:!1,timeout:6e5,success:function(a){if(""!=a){var t;return"FAILED"==(t=a.split("|"))[0]||"EXCEPTION"==t[0]||"SESSIONOUT"==t[0]?showMessage(!0,t[1]):($("#userId").val(e),$("#assignSubjectToTeacher").html(a)),!1}},error:function(e){return console.log(e),!1}})}function getTeacherSearchSubject(e){var a={};return a.userId=e,a}function subjectBasedTeacherList(e){hideMessage(""),resetDropdown($("#teacherId"),"Select Teacher"),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster("formId","TEACHER-LIST-FOR-BATCH-BY-SUBJECT_ID",e)),dataType:"json",cache:!1,timeout:6e5,success:function(e){if("0"==e.status||"2"==e.status)showMessage(!0,e.message);else{var a=e.mastersData.teacherList,t=$("#teacherId");t.html(""),t.append('<option value="0">Select teacher</option>'),$.each(a,(function(e,a){t.append('<option value="'+a.teacherId+'">'+a.teacherName+"("+a.emailId+") </option>")}))}},error:function(e){$("#"+formId+" #courseId").prop("disabled",!1)}})}function IpAddressFlush(){$.ajax({type:"GET",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/api/v1/release-user?payload=",cache:!1,timeout:6e5,async:!1,success:function(e){showMessage(!0,e.message)}})}