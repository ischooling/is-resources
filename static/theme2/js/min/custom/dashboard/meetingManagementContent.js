function getMeetingManagementContent(){$("<style>").prop("type","text/css").html("\n      .select2-selection.select2-selection--single {\n        border: 1px solid #a1a1a1 !important;\n        border-radius: 5px !important;\n      }\n      .select2-container--default.select2-container--focus .select2-selection--multiple, .select2-container--default .select2-selection--multiple {\n        border: 1px solid #a1a1a1 !important;\n        border-radius: 5px !important;\n      }\n      input[disabled] {\n        background-color: #d6d6d6 !important;\n        cursor: not-allowed !important;\n      }\n    ").appendTo("head");let e='\n    \x3c!-- showMessage --\x3e\n    <div class="modal fade" id="modalMessage" tabindex="-1" role="dialog" style="z-index: 1040; display: none;" aria-hidden="true">\n      <div class="modal-dialog modal-notify modal-info" role="document">\n        <div class="modal-content text-center">\n          <div id="statusMessage" class="modal-body danger-color"></div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- showWarningMessageModal --\x3e\n    <div class="modal fade" id="remarksresetDelete" tabindex="-1" style="background: rgba(0, 0, 0, 0.8);">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content text-center rounded">\n            <div class="modal-header bg-danger justify-content-center"\n              style="top: 0 !important;width:100% !important;background-color:#f44336 !important; padding: 15px 10px;border-radius: 5px 5px 0px 0px !important">\n              <p class="heading mb-0" style="color: #fff; font-size: 16px; font-weight: bold;" id="warningMessage">Are you sure?</p>\n            </div>\n              <div id="statusMessage-1" class="modal-body delete-modal" style="padding-top:12px">\n                <i class="fa fa-trash fa-4x" style="color:#f44336 !important;"></i>\n              </div>\n            <div class="modal-footer text-center rounded">\n              <div class="text-center" style="margin: 0 auto;">\n              <button id=\'resetDeleteErrorWarningYes\' type="button" class="rounded btn" style="color:#f44336 !important;border:1px solid #f44336 !important;background:transparent !important;font-weight: 700;">Yes</button>\n              <button id=\'resetDeleteErrorWarningNo\' type="button" class="rounded btn btn-danger " data-dismiss="modal" style="font-weight: 700;" >No</button>\n              <button id=\'resetDeleteErrorWarningCancel\' type="button" class="rounded btn btn-default" data-dismiss="modal" style="font-weight: 700;">Close</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- MessageTheme2 --\x3e\n    <div class="server-message">\n      <span class="msg" id="msgTheme2"></span>\n    </div>\n\n    \x3c!-- Loader --\x3e\n    <div id="commonloaderId" class="unique-loader loader-bg" style="display:none;">';return 1==SCHOOL_ID?e+=`<img src="${PATH_FOLDER_IMAGE2}loader-new.gif" alt="${SCHOOL_NAME} Loader" class="new-loader-2024" />`:e+='<div id="commonloaderBody" class="loader" style="display:none">\n          Please Wait... <span></span>\n        </div>',e+='</div>\n\n    <div class="main-card mb-3">\n      <div class="card mt-4" style="box-shadow: 0px 0px;">\n        <div id="card-body" class="card-body px-4 mx-5">'+filterFormAndList()+getMeetingFormHtml()+savedMeetingLinkHtml(),e+="</div>\n      </div>\n    </div>",e}function filterFormAndList(){return'<div id="filterFormAndList" class="full">\n    <h2 class="mb-0" style="color: #6e6e6e; font-size: 24px; font-weight: bold;">Meetings</h2>\n    <form id="filterMeeting" class="justify-content-between align-items-center mb-3" style="display: flex;" autocomplete="off">\n      <div class="d-flex w-100 align-items-center my-4" style="gap: 8px;">\n      \n        <div class="d-none hidden">\n          <label class="text-dark" for="filterTitle">Title</label>\n          <input type="text" id="filterTitle" class="" placeholder="Enter meeting title" />\n        </div>\n\n        <div id="filterHostUserIdDiv" style="width: 20%;">\n          <select id="filterHostUserId" name="filterHostUserId" class="p-3 border rounded" style="border-color: #a1a1a1 !important;width: 100%; font-size: 14px;">\n            \x3c!-- Dynamically loaded --\x3e\n          </select>\n        </div>\n\n        <div id="filterGeneralMeetingTypeDiv" style="width: 20%;">\n          <select id="filterGeneralMeetingType" name="filterGeneralMeetingType" class="p-3 border rounded" style="border-color: #a1a1a1 !important;width: 100%; font-size: 14px;">\n            \x3c!-- Dynamically loaded --\x3e\n          </select>\n        </div>\n\n        <div class="" style="width: 10%">\n          <select onchange="setFilterDatesAccordingly(this, \'#filterMeetingStartDate\', \'#filterMeetingEndDate\')" id="filterDateDuration" name="filterDateDuration" class="border rounded" style="border-color: #a1a1a1 !important;width: 100%; font-size: 14px; padding: 8px; appearance: auto; -webkit-appearance: auto; -moz-appearance: auto;">\n            <option value="Today" selected>Today</option>  \n            <option value="Week">Week</option>\n            <option value="Month">Month</option>\n            <option value="Custom">Custom</option>\n          </select>\n        </div>\n\n        <div class="">\n          <input onchange="getDatepickerChangeVal(this)" type="text" id="filterMeetingStartDate" class="border rounded" style="border-color: #a1a1a1 !important;width: 100%; font-size: 14px; padding: 8px;" placeholder="Select Start Date" autocomplete="off" />\n        </div>\n        <div class="">\n          <input onchange="getDatepickerChangeVal(this)" type="text" id="filterMeetingEndDate" class="border rounded" style="border-color: #a1a1a1 !important;width: 100%; font-size: 14px; padding: 8px;" placeholder="Select End Date" autocomplete="off" />\n        </div>\n\n        <div class="d-none hidden">\n          <label class="text-dark" for="limit">Limit</label>\n          <input type="number" min="1" id="limit" class="" value="" placeholder="Enter Limit" />\n        </div>\n\n      </div>\n      <div class="text-right d-flex" style="gap: 6px;">\n        <button id="filterSearchButton" type="submit" onclick="applyFilters();" class="btn ml-auto rounded" style="width: max-content; background-color: #027FFF; padding: 10px 20px; font-weight: bold;">Search</button>\n        <button id="filterResetButton" type="button" onclick="resetFilter();" class="btn ml-auto rounded" style="width: max-content; background-color: #FFF; padding: 10px 20px; font-weight: bold; color: #027FFF;; border: 1px solid #027FFF;">Reset</button>\n      </div>\n    </form>\n    <div id="meetingTableContainer">\n    </div>\n  </div>\n  '}function getMeetingFormHtml(){return $("<style>").prop("type","text/css").html("\n      .select2-selection.select2-selection--single {\n        border: 1px solid #a1a1a1 !important;\n        border-radius: 5px !important;\n      }\n    ").appendTo("head"),'\n    <div id="meetingFormDiv" class="full" style="display: none;">\n      <div class="d-flex w-100">\n      \x3c!-- Main meeting form on the left --\x3e\n        <div class="main-card mb-3" style="width: 70%">\n          <div class="card" style="box-shadow: 0px 0px;">\n            <div class="card-body mx-5">\n              <button id="backFromForm" class="bg-transparent mb-4 border-0" style="font-size: 16px; color: #393185;">\n                <i class="fa fa-chevron-left" style="margin-right: 4px; font-size: 14px"></i> Back to Meeting\n              </button>\n              <h2 class="mb-5" style="font-weight: bold;">Schedule Meeting</h2>\n              <form id="meetingForm" autocomplete="off">\n                <div class="mb-5 d-flex align-items-center" style="gap: 50px;">\n                  <label for="generalMeetingType" style="color: #2E2E2E; font-size: 16px; width: 25%;">Meeting Type</label>\n                  <select id="generalMeetingType" name="generalMeetingType" class="p-3 border rounded" style="border-color: #a1a1a1 !important;width: 100%; font-size: 14px; right: 0; left: 0; margin: auto;" required autocomplete="off">\n                    \x3c!-- Dynamically loaded --\x3e\n                  </select>\n                </div>\n\n                <div class="mb-5 d-flex align-items-center" style="gap: 50px;">\n                  <label for="topic" style="color: #2E2E2E; font-size: 16px; width: 25%;">Topic</label>\n                  <input type="text" id="topic" class="p-3 border rounded" style="border-color: #a1a1a1 !important; width: 100%; font-size: 14px;" placeholder="Enter topic" autocomplete="off" required />\n                </div>\n\n                <div id="meetingTypeContainer" class="mb-5 align-items-center" style="gap: 50px;" style="display: none;">\n                  <label for="meetingType" style="color: #2E2E2E; font-size: 16px; width: 19%;">Type of Meeting</label>\n                  <div class="d-flex" style="gap: 16px;">\n                    <label class="rounded" style="display: flex;align-items: center;gap: 5px;border: 1px solid #a1a1a1;border-radius: 3px;font-size: 16px;padding: 5px;color: #2e2e2e;">\n                      One day meeting\n                      <input\n                        class="m-0 ml-3"\n                        type="radio"\n                        name="meetingType"\n                        value="1"\n                        checked\n                        required\n                        onchange="getMeetingType()"\n                        autocomplete="off"\n                      >\n                    </label>\n                    <label class="rounded" style="display: flex;align-items: center;gap: 5px;border: 1px solid #a1a1a1;border-radius: 3px;font-size: 16px;padding: 5px;color: #2e2e2e;">\n                      Recurring meeting\n                      <input\n                        class="m-0 ml-3"\n                        type="radio"\n                        name="meetingType"\n                        value="2"\n                        onchange="getMeetingType()"\n                        autocomplete="off"\n                      >\n                    </label>\n                  </div>\n                </div>\n\n                <div class="mb-5 d-flex align-items-center" style="gap: 50px;">\n                  <label for="host" class="" style="color: #2E2E2E; font-size: 16px; width: 25%;">Host</label>\n                  <select onchange="onChangeHost(this);checkAndFetchMeetings();updateNewDateInCalender();" id="host" name="host" class="p-3 border rounded" style="border-color: #a1a1a1 !important;width: 100%; font-size: 14px; right: 0; left: 0; margin: auto;" required autocomplete="off">\n                    \x3c!-- Dynamically loaded --\x3e\n                  </select>\n                </div>\n\n                <div id="attendeesContainer" class="mb-5 align-items-center" style="gap: 50px;display: none;">\n                  <label for="attendees" style="color: #2E2E2E; font-size: 16px; width: 25%;">Attendees</label>\n                  <div class="d-flex flex-column w-100">\n                    <div class="d-flex flex-column w-100 position-relative" style="gap:2px;">\n                      <input id="attendees" class="p-3 border rounded w-100" style="border-color: #a1a1a1 !important; font-size: 14px;" type="text" placeholder="Search by name & email" oninput="getAttendeesList();">\n                      <ul id="dynamic-attendees-list" class="rounded m-0 px-2 position-absolute" style="background-color: #eee; list-style: none; max-height: 150px;z-index: 1;overflow-y: auto;width: 100%;top: 42px; display: none;"></ul>\n                    </div>\n                    \x3c!-- List of selected attendees --\x3e\n                    <div id="selected-attendees-list" class="mt-2 d-flex flex-wrap rounded" style="background-color: #EDF6FF;"></div>\n                  </div>\n                </div>\n              \n                <div id="whenContainer" class="mb-5 align-items-center w-100" style="gap: 50px; display: none;">\n                  <label for="when" class="form-label" style="color: #2E2E2E; font-size: 16px; width: 25%;">When</label>\n                  <div class="d-flex w-100" style="gap: 16px;">\n                    <input\n                      onchange="checkAndFetchMeetings();getDatepickerChangeVal(this);"\n                      type="text"\n                      id="when"\n                      name="when"\n                      placeholder="Select Date"\n                      class="p-3 border rounded datepicker"\n                      style="border-color: #a1a1a1 !important; font-size: 14px; width: 100%;"\n                      autocomplete="off"\n                      required\n                    >\n                    <select\n                      onchange="checkAndFetchMeetings();"\n                      id="hour"\n                      name="hour"\n                      class="p-3 border rounded"\n                      style="border-color: #a1a1a1 !important; font-size: 14px; width: 100%;"\n                      required\n                      autocomplete="off"\n                    >\n                      <option value="" disabled selected>HH:MM</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div id="durationContainer" class="mb-5 align-items-center" style="gap: 50px; display: none;">\n                  <label for="durationHour" class="form-label" style="color: #2E2E2E; font-size: 16px; width: 25%;">Duration</label>\n                  <div class="d-flex w-100" style="gap: 16px;">\n                    <div class="d-flex align-items-center w-25" style="gap: 6px;">\n                      <select\n                        id="durationHour"\n                        name="durationHour"\n                        class="p-3 border rounded w-100"\n                        style="border-color: #a1a1a1 !important; font-size: 14px;"\n                        required\n                        autocomplete="off"\n                      >\n                        <option value="00">00</option>\n                        <option value="01">01</option>\n                        <option value="02">02</option>\n                        <option value="03">03</option>\n                        <option value="04">04</option>\n                        <option value="05">05</option>\n                        <option value="06">06</option>\n                        <option value="07">07</option>\n                      </select>\n                      <p class="m-0">Hr</p>\n                    </div>\n\n                    <div class="d-flex align-items-center w-25" style="gap: 6px;">\n                      <select\n                        id="durationMinute"\n                        name="durationMinute"\n                        class="p-3 border rounded w-100"\n                        style="border-color: #a1a1a1 !important; font-size: 14px;"\n                        required\n                        autocomplete="off"\n                      >\n                        <option value="00">00</option>\n                        <option value="10">10</option>\n                        <option value="20">20</option>\n                        <option value="30">30</option>\n                        <option value="40">40</option>\n                        <option value="50">50</option>\n                      </select>\n                      <p class="m-0">Min</p>\n                    </div>\n                  </div>\n                </div>\n\n                <div class="mb-5 d-flex align-items-center" style="gap: 50px;">\n                  <label for="timezone" style="color: #2E2E2E; font-size: 16px; width: 25%;">Time Zone</label>\n                  <select id="timezone" name="timezone" class="p-3 border rounded" style="border-color: #a1a1a1 !important;width: 100%; font-size: 14px; right: 0; left: 0; margin: auto;" disabled required autocomplete="off">\n                    \x3c!-- Add more timezones as needed --\x3e\n                  </select>\n                </div>\n\n                <div class="d-flex w-100 pt-2" style="gap: 16px;">\n                  <button type="submit" class="btn rounded" style="background-color: #027FFF !important;">Save</button>\n                  <button type="button" class="btn rounded btn-secondary border" onclick="resetRequiredFormData(\'#host\');">Reset</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n        \x3c!-- Schedule section on the right --\x3e\n        <div id="scheduleAndMeetingContainer" class="flex-column mx-auto" style="gap: 8px; display: none; padding-left: 15px;margin-top: 50px; border-left: 2px solid #DBDBDB;">\n          <div id="scheduleSection" class="main-card mb-3" style="display: none; border-bottom: 1px solid #DBDBDB;"">\n            <div class="card mb-2" style="box-shadow: 0px 0px;">\n              <div class="card-body">\n                <div id="scheduleContent">Loading schedule...</div>\n              </div>\n            </div>\n          </div>\n\n          <div id="meetingSection" class="main-card mb-3" style="display: none;">\n            <div class="card mt-2 mb-0" style="box-shadow: 0px 0px;">\n              <div class="card-body">\n                <div id="meetingContent">Loading meetings...</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>'}function savedMeetingLinkHtml(){return'\n    <div id="savedMeetingLinkHtml" class="meeting-container" style="padding-top: 30px; padding-left: 6rem; display: none;">\n      <div class="d-flex align-items-center" style="gap: 10px;">\n        <button id="backFromSaved" class="bg-transparent mb-0 border-0" style="font-size: 16px; color: #393185;">\n          Back to Meeting\n        </button>\n        <i class="fa fa-chevron-right" style="margin-right: 4px; font-size: 14px"></i>\n        <p id="formDataTitle" class="m-0" style="font-size: 16px;"></p>\n      </div>\n     \n      <div class="meeting-detail" style="padding-top: 10px;">\n        <h3 style="font-size: 26px; color: #333; margin-bottom: 40px; margin-left: 10px; font-weight: bold;">Meeting Details</h3>\n       \n        <div class="" style="width: 75%;">\n          <div style="display: flex; align-items: center; padding: 12px;">\n            <div style="font-size: 14px; color: #666; width: 40%;"><strong>General Meeting Type</strong></div>\n            <div id="generalMeetingTypeTitle" style="font-size: 14px; width: 80%;"></div>\n          </div>\n\n          <div style="display: flex; align-items: center; padding: 12px;">\n            <div style="font-size: 14px; color: #666; width: 40%;"><strong>Topic</strong></div>\n            <div id="formDataTitle1" style="font-size: 14px; width: 80%;"></div>\n          </div>\n\n          <div style="display: flex; align-items: center; padding: 12px;">\n            <div style="font-size: 14px; color: #666; width: 40%;"><strong>Host Details</strong></div>\n            <div id="hostDetailsExtra" style="font-size: 14px; width: 80%;"></div>\n          </div>\n\n          \n          <div id="meetingTypeDiv"></div>\n          \n          <div style="display: flex; align-items: center; padding: 12px;">\n            <div style="font-size: 14px; color: #666; width: 40%;"><strong>Type of Meeting</strong></div>\n            <div id="meetingTypeName" style="font-size: 14px; width: 80%;"></div>\n          </div>\n\n          <div style="display: flex; align-items: center; padding: 12px;">\n            <div style="font-size: 14px; color: #666; width: 40%;"><strong>Time Zone</strong></div>\n            <div id="timezoneDetailsExtraAndTimezoneDetailsValue" style="font-size: 14px; width: 80%;"></div>\n          </div>\n\n          <div style="display: flex; align-items: center; padding: 12px;">\n            <div style="font-size: 14px; color: #666; width: 40%;"><strong>Invite Link</strong></div>\n            <div id="joinUrl" style="font-size: 14px; width: 80%; color: #027FFF;;"></div>\n          </div>\n\n          <div class="action-buttons" style="display: flex; justify-content: flex-start; gap: 12px; margin-top: 50px;">\n            <button id="startLensUrlBtn" class="btn rounded" style="padding: 10px 20px; font-size: 16px; background-color: #027FFF; font-weight: bold;" >Start</button>\n            <button id="copyJoinUrlBtn" class="btn rounded" style="padding: 10px 20px; font-size: 16px; border: 1px solid #ddd; background-color: #FFF; color: #000;font-weight: bold;">\n              <i class="fa fa-clone" style="font-size: 16px; margin-right: 6px;"></i>\n              Copy Invitation\n            </button>\n            <button id="deleteMeetingBtn" class="btn rounded" style="padding: 10px 20px; font-size: 16px; background-color: #EB2314; color: #FFF; font-weight: bold;">Delete</button>\n          </div>\n        </div>\n      </div>\n    </div>'}function showConflictPopUp(e,n,t){const i=`\n    <div id="conflictPopup" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); display: flex; justify-content: center; align-items: center; z-index: 9999;">\n      <div style="background: white; border-radius: 12px; overflow: hidden; width: 40%;">\n      <div class="d-flex flex-column align-items-center" style="padding: 50px; background: #027FFF; padding: 30px 10px 15px; gap: 8px;">\n        <i class="fa fa-exclamation-circle" style="color: white; font-size: 30px;"></i>\n        <h4 style="font-size: 18px; font-weight: bold; color: white; text-align: center;">The meeting you are trying to schedule is clashing with the following meeting:</h4>\n      </div>\n        <div className="" style="padding: 20px;">\n          <p style="font-size: 14px !important; margin-left: 16px;"><strong>Topic:</strong> ${e}</p>\n          <p style="font-size: 14px !important; margin-left: 16px;"><strong>Date:</strong> ${n}</p>\n          <p style="font-size: 14px !important; margin-left: 16px;"><strong>Time:</strong> ${t}</p>\n          <button id="closePopup" class="d-flex mx-auto" style="margin-top: 15px; padding: 5px 20px; border: none; background: #ef4444; color: white; border-radius: 5px; cursor: pointer;">CLOSE</button>\n        </div>\n      </div>\n    </div>\n  `;$("body").append(i),$("#closePopup").on("click",(function(){$("#conflictPopup").remove()}))}function showErrorPopup(e){const n=`\n    <div id="errorPopup" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); display: flex; justify-content: center; align-items: center; z-index: 9999;">\n      <div style="background: white; border-radius: 12px; overflow: hidden; width: 40%;">\n      <div class="d-flex flex-column align-items-center" style="padding: 50px; background: #027FFF; padding: 15px 10px 15px; gap: 8px;">\n        <i class="fa fa-exclamation-circle" style="color: white; font-size: 30px;"></i>\n      </div>\n        <div className="" style="padding: 20px;">\n          <p style="font-size: 16px !important; text-align: center;">${e}</p>\n          <button id="closeErrorPopup" class="d-flex mx-auto" style="margin-top: 15px; padding: 5px 20px; border: none; background: #ef4444; color: white; border-radius: 5px; cursor: pointer;">CLOSE</button>\n        </div>\n      </div>\n    </div>\n  `;$("body").append(n),$("#closeErrorPopup").on("click",(function(){$("#errorPopup").remove()}))}function showConflictTooltip(e,n){$("#tooltip").remove();const t=e.replace(/\n/g,"<br>"),i=$(`\n    <div id="tooltip" style="\n      position: absolute;\n      background-color: #fff;\n      border: 1px solid #ddd;\n      border-radius: 8px;\n      padding: 8px;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n      z-index: 1000;\n      font-size: 12px;\n      color: #333;\n      width: 250px;">\n      <p style="margin: 0; font-weight: bold;">Meeting Details</p>\n      <div style="margin: 0; color: #666;">${t}</div>\n    </div>\n  `);$("body").append(i);const o=$(n).offset(),d=i.outerWidth(),r=i.outerHeight(),a=$(n).outerHeight();i.css({top:o.top+a/2-r/2,left:o.left-d-10})}function showStartMeetingPopup(e,n,t,i){const o=`\n    <div class="start-meeting-popup" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); display: flex; justify-content: center; align-items: center; z-index: 9999;">\n      <div style="background: white; border-radius: 16px; overflow: hidden; width: 50%;">\n        <div style="padding: 10px; background: #027FFF; text-align: center; color: white; border-radius: 16px 16px 0 0;display: flex; justify-content: space-between; align-items: center;">\n          <div class="d-flex align-items-center" style="gap: 8px;">\n            <i class="fa fa-info-circle" style="font-size: 30px;"></i>\n            <h4 style="font-size: 18px; font-weight: bold; margin: 10px 0;">Information</h4>\n          </div>\n          <button class="close-popup" style="display: block; margin: 0; padding: 0px 10px; border: none; background: #ef4444; color: white; border-radius: 5px; cursor: pointer; height: 30px;"><i class="fa fa-times"></i></button>\n        </div>\n        <div style="padding: 20px;">\n          ${"oneDayMeetings"==currentTabId?`<h6 style="text-align: center; font-size: 14px; text-transform: none;">The meeting <strong>${e}</strong> is scheduled for <strong>${n} ${t}</strong></h6>`:`<h6 style="text-align: center; font-size: 14px; text-transform: none;">The meeting <strong>${e}</h6>`}\n          <a href="${i}" target="_blank" style="display: block; text-align: center; margin: 15px auto; padding: 10px 20px; background: #027FFF; color: white; border-radius: 5px; text-decoration: none; font-weight: bold; width: 110px;">Start Now</a>\n          <hr style="border-top: 2px dashed #cdcdcd;">\n          <h6 style="text-align: center; font-size: 14px; text-transform: none;">If you face issues with joining, copy the host link below and paste it into a new tab on your browser:</h6>\n          <p class="copy-msg-1 mt-3 mb-0" style="text-align: center; font-weight: bold;"></p>\n          <textarea readonly style="width: 100%; margin: 10px 0; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">${i}</textarea>\n          <button onclick="copyURL('copyURL1','copy-msg-1')" class="copy-link-button" data-url="${i}" style="display: block; margin: 0 auto; padding: 10px 20px; border: none; background: #4caf50; color: white; border-radius: 5px; cursor: pointer; font-weight: 600">Copy Link</button>\n          <input type="text" id="copyURL1" value="${i}" style="opacity:0;height:0px">\n        </div>\n      </div>\n    </div>\n  `;$("body").append(o),$(".close-popup").on("click",(function(){$(".start-meeting-popup").remove()}))}function populateRecordingModal(e,n,t,i,o){const d={"shared_screen_with_speaker_view.mp4":"Shared Screen with Speaker View","active_speaker.mp4":"Active Speaker","shared_screen_with_gallery_view.mp4":"Shared Screen With Gallery View","gallery_view.mp4":"Gallery View","shared_screen.mp4":"Shared Screen","shared_screen_with_speaker_view_CC.mp4":"Shared Screen With Speaker View CC","-1.1.mp4":"Recording","-1.2.mp4":"Recording 2",audio_only:"Audio File"};let r=`\n    <div id="recordingModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); display: flex; justify-content: center; align-items: center; z-index: 9999;">\n      <div style="background: white; border-radius: 12px; overflow: hidden; width: 70%; max-width: 70%;margin: auto; margin-top:50px;">\n        <div class="">\n          <div class="d-flex justify-content-between align-items-center" style="padding: 15px 10px; background: #027FFF;">\n            <h5 class="text-white mb-0" style="font-size: 18px; font-weight: bold;">Available Recordings | ${t} | ${changeDateFormat(new Date(n),"MMM-dd-yyyy")} ${i} | ${o}</h5>\n            <button onclick="closeAllVideoModal();" type="button" class="text-white btn btn-sm btn-danger" data-bs-dismiss="modal" aria-label="Close" style="font-size: 20px !important; margin: 0; padding: 0px 8px;">&times;</button>\n          </div>\n          <div class="" style="padding: 20px; height: 70vh; overflow-y: auto">`;e.forEach((e=>{const n=e.meetingId,t=e.urls.map((e=>{for(const n in d)if(e.url.includes(n))return{url:e.url,title:d[n]}})),i=e.urls[e.urls.length-1]?.url;t.length>0&&(r+=`\n        <div class="session-block pb-4">\n          <h3 class="mb-3 mt-0">Meeting ID: ${n}</h3>\n          ${t.map(((e,n)=>`\n            <div class="recording-item pb-3 pt-2 px-3 d-flex justify-content-between align-items-center" style="border-bottom:1px solid #eee;">\n              <h4>${n+1}. ${e.title}</h4>\n              <button class="btn btn-sm rounded" style="background-color: #027FFF; border: 1px solid #027FFF;" onclick="playRecording('${e.url}', '${e.title}')">Play</button>\n            </div>\n          `)).join("")}\n          ${i?`\n              <div class="recording-item pb-3 pt-2 px-3 d-flex justify-content-between align-items-center" style="border-bottom:1px solid #eee;">\n                <h4>${t.length+1}. Transcript</h4>\n                <button class="btn btn-sm bg-white rounded" style="border: 1px solid #000; color: #000;" onclick="showVTTFile('${i}', 'Transcript')">Read</button>\n              </div>`:""}\n        </div>`)})),r+="\n          </div>\n        </div>\n      </div>\n    </div>\n  ";let a=$("#recordingModal");a.length>0&&a.remove(),$("body").append(r),$("#recordingModal").modal("show")}function populateRecurringRecording(e,n,t,i,o,d){o=changeDateFormat(new Date(o),"MMM-dd-yyyy"),d=changeDateFormat(new Date(d),"MMM-dd-yyyy");var r=new Date;r.setDate(r.getDate()-recordingLimit),$("<style>").prop("type","text/css").html("\n      .recurring-modal-backdrop {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.5);\n        display: none;\n        z-index: 999;\n      }\n\n      .recurring-modal {\n        position: fixed;\n        top: 0;\n        right: -90%;\n        width: 90%;\n        height: 100vh;\n        background: white;\n        box-shadow: -2px 0px 10px rgba(0, 0, 0, 0.2);\n        transition: right 0.3s ease-in-out;\n        z-index: 1000;\n      }\n\n      .recurring-modal.open {\n        right: 0;\n      }\n\n      .modal-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 15px;\n        background: #007bff;\n        color: white;\n      }\n\n      .modal-body {\n        padding: 20px;\n      }\n\n      .session-block {\n        margin-bottom: 15px;\n        border-bottom: 1px solid #ddd;\n        padding-bottom: 10px;\n      }\n\n      .close-btn {\n        background: transparent;\n        border: none;\n        font-size: 24px;\n        color: white;\n        cursor: pointer;\n      }\n\n      .play-btn {\n        background: #007bff;\n        color: white;\n        border: none;\n        padding: 5px 10px;\n        cursor: pointer;\n        border-radius: 5px;\n      }\n\n      .play-btn:hover {\n        background: #0056b3;\n      }\n\n      .accordion-btn {\n        background: #D7EBFF;\n        padding: 5px 10px;\n        width: 100%;\n        text-align: left;\n        cursor: pointer;\n        font-weight: bold;\n        border-radius: 5px;\n        \n      }\n\n      .accordion-btn:focus {\n        outline: 0px !important;\n      }\n\n      .recording-list {\n        padding: 10px;\n        background: #fff;\n        border-radius: 5px;\n      }\n    ").appendTo("head");const a={"shared_screen_with_speaker_view.mp4":"Shared Screen with Speaker View","active_speaker.mp4":"Active Speaker","shared_screen_with_gallery_view.mp4":"Shared Screen With Gallery View","gallery_view.mp4":"Gallery View","shared_screen.mp4":"Shared Screen","shared_screen_with_speaker_view_CC.mp4":"Shared Screen With Speaker View CC","-1.1.mp4":"Recording","-1.2.mp4":"Recording 2",audio_only:"Audio File"};var l=`\n    <div id="recurringMeetingBackdrop" class="recurring-modal-backdrop" onclick="closeRecurringModal();"></div>\n    <div id="recurringMeetingModal" class="recurring-modal">\n      <div class="p-3" style="background-color:#027FFF;">\n        <h5 class="mb-0" style="color: white;font-size:18px;font-weight: 700;">${n} | ${t}</h5>\n         <button onclick="closeRecurringModal();" type="button" class="p-2" data-dismiss="modal" aria-label="Close" style="position: absolute;left:-30px;top:35px;background-color: white !important;border-radius: 5px 0px 0px 5px;font-size: 35px;border:0px;color:#000;">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n\n      <div style="background-color: #F1F3F5; height: 100vh;">\n\n        \x3c!-- Date Filter Section --\x3e\n        <form id="filterRecurringRecording" class="d-flex align-items-center mb-3 px-5" autocomplete="off" style="gap: 10px;">\n          <select onchange="setFilterDatesAccordingly(this, '#filterRecurringMeetingStartDate', '#filterRecurringMeetingEndDate');" id="filterRecurringDateDuration" class="border rounded" style="border-color: #a1a1a1 !important;width: 10%; font-size: 14px; padding: 8px; appearance: auto; -webkit-appearance: auto; -moz-appearance: auto;">\n            <option value="Week" selected>This Week</option>\n            <option value="Month">This Month</option>\n            <option value="Custom">Custom</option>\n          </select>\n\n          <div class="d-flex align-items-center my-4" style="gap:10px;">\n            <input onchange="getDatepickerChangeVal(this);" type="text" id="filterRecurringMeetingStartDate" value="${o}" class="border rounded" style="border-color: #a1a1a1 !important;width: 100%; font-size: 14px; padding: 8px;" placeholder="Select start date">\n            <input onchange="getDatepickerChangeVal(this);" type="text" id="filterRecurringMeetingEndDate" value="${d}" class="border rounded" style="border-color: #a1a1a1 !important;width: 100%; font-size: 14px; padding: 8px;" placeholder="Select end date">\n          </div>\n\n          <button id="filterRecurringSearchButton" type="submit" onclick="applyRecurringRecordingFilters('${i}');" class="btn ml-auto rounded" style="width: max-content; background-color: #027FFF; padding: 10px 20px; font-weight: bold;">Search</button>\n        </form>\n\n        <div class="mt-5 px-5" style="height: 80vh;overflow-y:auto;">\n          <table id="recurring-recordings-table" class="w-100 table">\n            <thead style="background-color: #027FFF;position: sticky;top: 0;z-index: 1;">\n              <tr style="font-size: 14px;">\n                <th class="p-3" style="padding-left:16px !important;border-bottom: 0; border-top: 0px; font-weight: bold;width: 25%; color:#FFF">Start Time</th>\n                <th class="p-3" style="padding-left:16px !important;border-bottom: 0; border-top: 0px; font-weight: bold;width: 25%; color:#FFF">Meeting ID</th>\n                <th class="p-3" style="border-bottom: 0; border-top: 0px; font-weight: bold;width: 50%; color:#FFF">Recordings</th>\n              </tr>\n            </thead>\n            <tbody id="recurringRecordingsTableBody">\n            ${e.map(((e,n)=>{var t=new Date(e.startTime)>=r||"DIRECTOR"==USER_ROLE;return`\n                <tr colspan="3" style="height:3px;"></tr>\n                  <tr>\n                    <td style="font-weight: 700;border-top-left-radius: 10px;border-bottom-left-radius: 10px;background-color:#fff;" class="py-3 pl-4">${convertUTCToTimezoneAs(e.startTime,DATETIME_FORMATTER,USER_TIMEZONE).format("MMM DD, YYYY hh:mm:ss a")}</td>\n                    <td style="font-weight: 700;background-color:#fff;" class="py-3 pl-4">${e.meetingId}</td>\n                    <td class="py-3 pr-5" style="border-top-right-radius: 10px;border-bottom-right-radius: 10px;background-color:#fff;">\n                      ${t?`<button class="accordion-btn d-flex justify-content-between align-items-center border-0" onclick="toggleRecording(${n})">\n                          <span>Recording list</span>\n                          <i class="fa fa-chevron-down" aria-hidden="true"></i>\n                        </button>`:""}\n                      <div class="recording-list" id="recording-${n}" style="display: none;">\n                        <div>\n                          ${e.recordings.map(((e,n)=>{let t;for(const n in a)if(e.includes(n)){t=a[n];break}return`\n                            <div class="recording-item py-2 px-3 d-flex justify-content-between align-items-center" style="border-bottom:1px solid #eee;">\n                              <h4 style="font-size:13px;font-weight:700;">${n+1}. ${t}</h4>\n                              <button class="btn btn-sm rounded" style="background-color: #027FFF; border: 1px solid #027FFF;" onclick="playRecording('${e}', '${t}')">Play</button>\n                            </div>`})).join("")}\n\n                          ${e.recordings.length>0?(()=>{const n=e.recordings[e.recordings.length-1];return n?`\n                              <div class="recording-item py-2 px-3 d-flex justify-content-between align-items-center" style="border-bottom:1px solid #eee;">\n                                <h4 style="font-size:13px;font-weight:700;">${e.recordings.length+1}. Transcript</h4>\n                                <button class="btn btn-sm bg-white rounded" style="border: 1px solid #000; color: #000;" onclick="showVTTFile('${n}', 'Transcript')">Read</button>\n                              </div>`:""})():""}\n                        </div>\n                      </div>\n                    </td>\n                  </tr>\n                  <tr colspan="3" style="height:3px;"></tr>\n                `})).join("")}\n            </tbody>\n          </table>\n          \x3c!-- Pagination --\x3e\n          <div id="recurringPaginationContainer" class="text-center mt-4">\n  \n          </div>\n        </div>\n      </div>\n    </div>\n  `;$("body").append(l),o&&d&&($("#filterRecurringMeetingStartDate").attr("disabled",!0),$("#filterRecurringMeetingEndDate").attr("disabled",!0)),e&&0!==e.length||$("#recurringRecordingsTableBody").html('<tr><td colspan="3" class="text-center py-5" style="font-size: 16px;font-weight: 700;">No recordings found</td></tr>'),setTimeout((()=>{$("#recurringMeetingBackdrop").fadeIn(200),$("#recurringMeetingModal").addClass("open"),$("body").css("overflow","hidden")}),50),$("#filterRecurringMeetingStartDate, #filterRecurringMeetingEndDate").on("change",(function(){const e=changeDateFormat(new Date(this.value),"MMM-dd-yyyy");"undefined 0NaN, NaN"==e?$(this).val(""):$(this).val(e)})),$("#filterRecurringMeetingStartDate").datepicker({format:"M dd, yyyy",autoclose:!0}).on("changeDate",(function(e){$("#filterRecurringMeetingEndDate").val(""),$("#filterRecurringMeetingEndDate").datepicker("setStartDate",e.date)})),$("#filterRecurringMeetingEndDate").datepicker({format:"M dd, yyyy",autoclose:!0})}function updateRecordingsTable(e){var n=new Date;if(n.setDate(n.getDate()-recordingLimit),!e||0===e.length)return void $("#recurringRecordingsTableBody").html('<tr><td colspan="3" class="text-center py-5" style="font-size: 16px;font-weight: 700;">No recordings found</td></tr>');const t={"shared_screen_with_speaker_view.mp4":"Shared Screen with Speaker View","active_speaker.mp4":"Active Speaker","shared_screen_with_gallery_view.mp4":"Shared Screen With Gallery View","gallery_view.mp4":"Gallery View","shared_screen.mp4":"Shared Screen","shared_screen_with_speaker_view_CC.mp4":"Shared Screen With Speaker View CC","-1.1.mp4":"Recording","-1.2.mp4":"Recording 2",audio_only:"Audio File"};let i=e.map(((e,i)=>{var o=new Date(e.startTime)>=n||"DIRECTOR"==USER_ROLE;return`\n      <tr colspan="3" style="height:3px;"></tr>\n      <tr>\n        <td class="py-3 pl-4" style="font-weight: 700; background-color:#fff; border-top-left-radius: 10px;border-bottom-left-radius: 10px;">${convertUTCToTimezoneAs(e.startTime,DATETIME_FORMATTER,USER_TIMEZONE).format("MMM DD, YYYY hh:mm:ss a")}</td>\n        <td class="py-3 pl-4" style="font-weight: 700; background-color:#fff;">${e.meetingId}</td>\n        <td class="py-3 pr-5" style="background-color:#fff;border-top-right-radius: 10px;border-bottom-right-radius: 10px;">\n          ${o?`<button class="accordion-btn d-flex justify-content-between align-items-center border-0" onclick="toggleRecording(${i})">\n              <span>Recording list</span>\n              <i class="fa fa-chevron-down" aria-hidden="true"></i>\n            </button>`:""}\n          <div class="recording-list" id="recording-${i}" style="display: none;">\n            <div>\n              ${e.recordings.map(((e,n)=>{let i="Unknown Recording";for(const n in t)if(e.includes(n)){i=t[n];break}return`\n                <div class="recording-item py-2 px-3 d-flex justify-content-between align-items-center" style="border-bottom:1px solid #eee;">\n                  <h4 style="font-size:13px;font-weight:700;">${n+1}. ${i}</h4>\n                  <button class="btn btn-sm rounded" style="background-color: #027FFF; border: 1px solid #027FFF;" onclick="playRecording('${e}', '${i}')">Play</button>\n                </div>`})).join("")}\n\n              ${e.recordings.length>0?(()=>{const n=e.recordings[e.recordings.length-1];return n?`\n                  <div class="recording-item py-2 px-3 d-flex justify-content-between align-items-center" style="border-bottom:1px solid #eee;">\n                    <h4 style="font-size:13px;font-weight:700;">${e.recordings.length+1}. Transcript</h4>\n                    <button class="btn btn-sm bg-white rounded" style="border: 1px solid #000; color: #000;" onclick="showVTTFile('${n}', 'Transcript')">Read</button>\n                  </div>`:""})():""}\n            </div>\n          </div>\n        </td>\n      </tr>\n      <tr colspan="3" style="height:3px;"></tr>\n    `})).join("");$("#recurringRecordingsTableBody").html(i)}