var loadContentFlag=0;function communicationLog(){0==loadContentFlag&&($("#communicationLogDIV").append(getCommunicationLogContent()),initEditor(1,"commentEditor","Enter comments",!1),$("#fileuploadLog6").on("change",(function(){var e=$("#fileuploadLog6").val().split("\\")[2];$("#fileuploadLog6Span").text(e)})),loadContentFlag=1),getCommunicationLogData("communicationLogTable",USER_ID,USER_ROLE)}function getCommunicationLogData(e,t,o){customLoader(!0);var a={};a.userId=t,a.role=o,$.ajax({type:"POST",contentType:"application/json",url:CONTEXT_PATH+UNIQUEUUID+"/api/v1/dashboard/get-user-communication-log",data:JSON.stringify(a),dataType:"json",success:function(t){"0"==t.status||"2"==t.status||"3"==t.status?"3"==t.status?redirectLoginPage():"theme1"==tt?showMessage(!1,t.message):showMessageTheme2(0,t.message,"",!0):($.fn.dataTable.isDataTable("#"+e)&&$("#"+e).dataTable().fnDestroy(),$("#"+e+" > tbody").html(getAddCommunicationLogTablebody(t)),$("#"+e).DataTable({drawCallback:function(t){$("#"+e+" tbody tr td:first-child").addClass("dtr-control")}}));return customLoader(!1),!1}}),bindHover()}function viewCommunicationattach(e,t){}function getRequestForCommunicationLog(e){var t={},o={},a={},n=uploadDocs;return a.entityId=USER_ID,"TEACHER"==USER_ROLE?a.entityName="TEACHER":a.entityName="STUDENT",a.title=$("#"+e+" #logTitle").val(),"No file chosen..."==$("#"+e+" #fileuploadLog6Span").text()?(a.uploadFile="",n=uploadDocs=[]):a.uploadFile=$("#"+e+" #fileuploadLog6Span").text(),null!=editor1&&(a.comments=escapeCharacters(editor1.getData())),a.documentUploads=n,t.commonCommentsDTO=a,o.hash=getHash(),o.schoolId=SCHOOL_ID,o.schoolUUID=SCHOOL_UUID,o.userType=moduleId,o.userId=$("#"+e+" #userId").val(),t.authentication=o,t}function saveCommunicationLog(e){return hideMessage(""),null==editor1.getData()||""==editor1.getData()||"undefined"==editor1.getData()?(showMessageTheme2(0,"Comments mandatory","",!0),!1):editor1.getData().length>2999?(showMessageTheme2(0,"Comments can not be more than 3000 characters.","",!0),!1):void $.ajax({type:"POST",contentType:"application/json",url:getURLFor("dashboard","save-user-communication-log"),data:JSON.stringify(getRequestForCommunicationLog(e)),dataType:"json",cache:!1,timeout:6e5,success:function(t){return"0"==t.status||"2"==t.status||"3"==t.status?"3"==t.status?redirectLoginPage():"theme1"==tt?showMessage(!1,t.message):showMessageTheme2(0,t.message,"",!0):(showMessageTheme2(1,t.message,"",!0),$("#"+e)[0].reset(),$("#"+e+" #fileuploadLog6").val(""),$("#"+e+" #fileuploadLog6Span").text("No file chosen..."),initEditor(1,"commentEditor","Enter comments",!0),getCommunicationLogData("communicationLogTable",USER_ID,USER_ROLE)),!1},error:function(e){console.log("ERROR : ",e),$("#lmsUserForm").prop("disabled",!1)}})}function validateRequestForLMSStudentPerformance(){}