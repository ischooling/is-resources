function studentTimepreferencePageOnLoadEvent(){function e(e){var t=e.split(":"),a=new Date;return a.setHours(parseInt(t[0],10)),a.setMinutes(parseInt(t[1],10)),a}$(".play-icon").click((function(){$(this).parent().fadeOut();var e=$("#video-player").attr("src");$("#videoIframe").attr("src",e+"&autoplay=1")})),$(".startTime").empty(),$(".startTime").html('<option value="">Select Start Time</option>'),$(".startTime").append(getHoursAndMinsWithGapDuration(0,0,30)),$(".endTime").on("change",(function(){var t=$("#startTime").val(),a=$(this).val();t&&a&&(e(t)>=e(a)&&$(this).val("").trigger("change"))})),$(".startTime").on("change",(function(){var t=$(this).val();if($(".endTime").empty(),$(".endTime").append('<option value="">Select End Time</option>'),t)for(var a=e(t)+30;a<1440;a+=30){var n=Math.floor(a/60),o=a%60,s=n>=12?"PM":"AM";n>12&&(n-=12),0===n&&(n=12);var i=n+":"+o.toString().padStart(2,"0")+" "+s;$(".endTime").append("<option value="+n+":"+o.toString().padStart(2,"0")+"_"+s+">"+i+"</option>")}})),$("#remarksresetDelete").on("hidden.bs.modal",(function(){$(".modal.show").length>0&&$("body").addClass("modal-open")})),$("#orientStartDate").length>0&&$("#orientStartDate").datepicker({startDate:new Date,multidate:!0,format:"M dd, yyyy",container:"#timePreferencePopup .modal-body"}),$(window).resize((function(){$(window).width()<600?($("#thankyouClassesMsg p .circle-info").length<1&&$("#thankyouClassesMsg p").prepend('<svg xmlns="http://www.w3.org/2000/svg" class="circle-info mr-2 mb-1" width="16px"  viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>'),$("#thankyouClassesMsg p").css({"text-overflow":"ellipsis","-webkit-line-clamp":"1","white-space":"normal","max-height":"38px",overflow:"hidden","word-break":"break-word",display:"-webkit-box","-webkit-box-orient":"vertical"}),$("#thankyouClassesMsg p").addClass("btn btn-outline-primary"),$("#thankyouClassesMsg p").removeClass("text-primary")):($("#thankyouClassesMsg p .circle-info").length>0&&$("#thankyouClassesMsg p .circle-info").remove(),$("#thankyouClassesMsg p").css({"text-overflow":"inherit","-webkit-line-clamp":"inherit","white-space":"inherit","max-height":"inherit",overflow:"inherit","word-break":"inherit",display:"block","-webkit-box-orient":"inherit"}),$("#thankyouClassesMsg p").removeClass("btn btn-outline-primary"),$("#thankyouClassesMsg p").addClass("text-primary"))}))}async function getStudentTimePreference(e,t,a){var n={};n.studentId=e,n.standardId=t,n.providerId=a,n.userId=USER_ID;var o=await getDashboardDataBasedUrlAndPayload(!1,!1,"student-course-selection-content-theme2",n);"1"==o.status&&($("#timePreferencePopup").length>0&&$("#timePreferencePopup").remove(),$("body").append(renderStudentTimepreferenceContent()),studentTimepreferencePageOnLoadEvent(),studentSystemTrainingShowHide(o))}function studentSystemTrainingShowHide(e){if($("#hideAllData").hide(),"Skipped"==e.systemTrainingStatus)return isSkipped=!0,!1;if("BATCH"==e.registrationType);else{if("N"==e.videoUrl?($("#timePreferencePopup .modal-dialog").removeClass("modal-xl"),$("#timePreferencePopup .modal-dialog").addClass("modal-lg"),$("#thumbnailFrameDiv").hide(),$("#timePreferenceDiv").removeClass("col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12"),$("#timePreferenceDiv").addClass("col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12")):(null!=e.vedioWatchedStatus&&null!=e.vedioWatchedStatus&&"Y"==e.vedioWatchedStatus?flagWatchVideo=!0:flagWatchVideo=!1,$("#timePreferencePopup .modal-dialog").addClass("modal-xl"),$("#timePreferencePopup .modal-dialog").removeClass("modal-lg"),$("#thumbnailFrameDiv").show(),$("#timePreferenceDiv").addClass("col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12"),$("#timePreferenceDiv").removeClass("col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12")),"N"==e.showAcademicYearSelectionModel&&"N"==e.showSystemTrainingSelectionModel||"Skipped"==e.systemTrainingStatus)return $("#timePreferencePopup").modal("hide"),$("#timePreferencePopup").addClass("d-none"),!1;if("REGISTRATION_FRESH"!=e.enrollmentType&&"REGISTRATION_FLEX_COURSE"!=e.enrollmentType)return $("#timePreferencePopup").modal("hide"),$("#timePreferencePopup").addClass("d-none"),!1;if($("#closeButton").hide(),$("#enrollmentType").val(e.enrollmentType),$("#regstrationType").val(e.registrationType),"REGISTRATION_FRESH"==e.enrollmentType||"REGISTRATION_FLEX_COURSE"==e.enrollmentType)if($("#orientAndSemesterChangeSpan").html("I want to schedule my school system training on"),$("#orientAndSemesterChangeSpanHeading").html("CHOOSE YOUR SCHOOL SYSTEM TRAINING DATE"),"N"==e.orientationAcceptanceStatus||"NA"==e.orientationAcceptanceStatus)$("#timePreferencePopup").removeClass("d-none"),$("#timePreferencePopup").modal("show"),$("#closeButton").hide(),$("#orientationSelectedTime").text(e.orientationdateTimeInStudentTimeZone),$("#odt").text(e.orientationdateTimeInStudentTimeZone),$("#orientationClassLink").attr("href",e.joinOrientationUrl),$("#orientationInputID").val(e.orientationId),$("#orientationAcceptanceStatusDiv").show(),$("#orientationDateWrapper").hide(),$("#orientationTimeWrapper").hide(),$("#studentTimeSave").text("Confirm");else if("A"==e.orientationAcceptanceStatus){var t="";if("COMPLETED"==e.orientStatus)return $("#timePreferencePopup").modal("hide"),$("#timePreferencePopup").addClass("d-none"),!1;$("#timePreferencePopup").removeClass("d-none"),$("#timePreferencePopup").modal("show"),$("#orientAndSemesterChangeSpanHeading").text("School System Training"),"RESCHEDULE"==e.orientStatus?t=t+"<div class='p-2 border rounded-10' style='border-color: #007fff !important;'><p class='mb-2 text-primary font-weight-semi-bold' style='font-size:18px'>Your school System Training has been rescheduled. </p><p class='mb-0 text-primary font-weight-semi-bold' style='font-size:18px'>Please click below and select another date for the training.</p><p class='mt-3 mb-0'><a href='"+e.rescheduleOrientationUrl+"' class='btn btn-success font-size-lg py-1 px-5' target='_blank'>Reschedule</a></p></div>":(t+="<div class='p-2 border rounded-10' style='border-color: #007fff !important;'> <p class='mb-3 text-primary font-weight-semi-bold' style='font-size:18px'>Your School System Training is on "+e.orientationdateTimeInStudentTimeZone+".</p><p class='mt-3 mb-1'><a  href='javascript:void(0);' onclick='classDetailsOnModal(\""+e.joinOrientationUrl+"\");' class='btn btn-success font-size-lg py-1 px-3'>Join</a></p></div>",t+="<p class='mb-0 mt-2 text-primary font-weight-semi-bold' style='font-size:16px'>If you wish to reschedule,  please <a href='"+e.rescheduleOrientationUrl+"' class='text-primary' style='text-decoration:underline' target='_blank'>click here</a></p>"),$("#thankyouClassesMsg").html(t),$("#thankyouClassesMsg").show(),$("#sartDateWrapper, .timeSlotWrapper").hide(),$("#studentTimeSkipPrev").hide(),$("#studentTimeSkipNext").hide(),$("#startTimeAndEndTimeWrapper").show(),$("#hideAllData").hide(),$("#studentTimeSave").hide(),$("#closeButton").show(),$("#studentTimeSave").text("Confirm")}else"Y"==e.timePrefrenceSelectionStatus&&($("#startTimeAndEndTimeWrapper").hide(),$("#studentTimeSkipNext").show(),$("#thankyouClassesMsg").html("<p class='full text-center border border-primary rounded p-2 text-primary' style='font-size:16px' onclick='showMobileViewSystemTrainingInfo()'>Join your School System Training where the School Administration will tell you how to book classes, join classes, access progress reports & course material, appear for assessments, etc.</p>"),$("#mobileViewSystemTrainingInfo .modal-body").html("<p class='full text-center text-primary' style='font-size:16px'>Join your School System Training where the School Administration will tell you how to book classes, join classes, access progress reports & course material, appear for assessments, etc.</p>"),$(window).width()<600&&($("#thankyouClassesMsg p .circle-info").length<1&&$("#thankyouClassesMsg p").prepend('<svg xmlns="http://www.w3.org/2000/svg" class="circle-info mr-2 mb-1" width="16px" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>'),$("#thankyouClassesMsg p").css({"text-overflow":"ellipsis","-webkit-line-clamp":"1","white-space":"normal","max-height":"38px",overflow:"hidden","word-break":"break-word",display:"-webkit-box","-webkit-box-orient":"vertical"}),$("#thankyouClassesMsg p").addClass("btn btn-outline-primary mb-2"),$("#thankyouClassesMsg p").removeClass("text-primary")),$("#thankyouClassesMsg, #studentTimeSkipNext").show(),$("#chooseDateToStartSemster-wrapper").removeClass("d-inline-block").addClass("d-none"),$("#chooseDateSystemTrainingDate-wrapper").removeClass("d-none").addClass("d-inline-block")),$("#orientationDateWrapper").show(),$("#orientationTimeWrapper").show(),$("#orientationAcceptanceStatusDiv").hide();else $("#orientAndSemesterChangeSpan").html("I would like to start my academic year on"),$("#orientAndSemesterChangeSpanHeading").html("CHOOSE YOUR ACADEMIC YEAR START DATE"),studentTimeSkipNext("STUDENT","timePreferencePopup",!0),$("#studentTimeSkipPrev").hide(),$("#studentTimeSkipNext").hide(),$("#studentTimeSave").text("Confirm");$("#academicYearBlockDate").val(e.academicYearBlockDate),$("#daysCount").val(e.daysCount),$("#daysCountMax").val(e.daysCountMax);var a=e.academicYearBlockDate.split(","),n=e.paymentCompletedDate.split("-"),o=new Date(parseInt(n[2]),parseInt(n[0])-1,parseInt(n[1])),s=new Date(parseInt(n[2]),parseInt(n[0])-1,parseInt(n[1]));if(null!=e.semesterStartDate)var i=e.semesterStartDate.split("-"),r=new Date(parseInt(i[2]),parseInt(i[0])-1,parseInt(i[1])),l=new Date(parseInt(i[2]),parseInt(i[0])-1,parseInt(i[1]));o.setDate(o.getDate()+e.daysCount),s.setDate(s.getDate()+e.daysCountMax),$("#chooseDateToStartSemster").datepicker("destroy").datepicker({autoclose:!0,container:"#timePreferencePopup .modal-body",format:"M dd, yyyy",startDate:o,endDate:s,beforeShowDay:function(e){e.getDay(),moment(e.getDate()).format("YYYY-MM-DD");if(a.length>0&&""!=a)for(var t=0;t<a.length;t++)if(moment(e).unix()==moment(a[t],"YYYY-MM-DD").unix())return!1;return!0}}),null!=e.semesterStartDate&&(l.setDate(l.getDate()+(e.activeNumberOfDaysForSystemTraining-1)),$("#chooseDateSystemTrainingDate").datepicker("destroy").datepicker({autoclose:!0,container:"#timePreferencePopup .modal-body",format:"M dd, yyyy",startDate:r,endDate:l}).on("changeDate",(function(){"ORIENT"==$("#saveType").val()&&($("#timePreferencePopup .modal-body").css({"max-height":"500px","overflow-y":"auto"}),"REGISTRATION_FRESH"!=e.enrollmentType&&"REGISTRATION_FLEX_COURSE"!=e.enrollmentType||callOrientationtime())}))),$("#timePreferencePopup").removeClass("d-none"),$("#timePreferencePopup").modal("show")}}