var slickSiderRender=!1;function customModalShow(e,t){$(e).css("z-index",t),$(e).find(".modal-dialog").css("margin-top",46*$(".right-slide-modal:visible").length),$(e).find(".modal-content").css("height","calc(100% - "+60*$(".right-slide-modal:visible").length+"px)"),$(".modal-backdrop").not(".modal-stack").css("z-index",t-1).addClass("modal-stack "+(t-1))}function scrollMoreAvailability(){$("#availiblityModal .modal-body").animate({scrollTop:0},500),$(".blink-btn").addClass("blink"),setTimeout((function(){$(".blink-btn").removeClass("blink")}),2e3)}function courseProviderList(e,t){$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster("formId","ALL-COURSE-PROVIDER-LIST","courseProList")),dataType:"json",cache:!1,timeout:6e5,async:!0,success:function(a){if("0"==a.status||"2"==a.status)showMessage(!0,a.message);else{var r=a.mastersData.courseList,s=$("#"+e+" #"+t);s.html(""),"teacherAssignForm"==e||s.append('<option value="">Select LMS Platform</option>'),$.each(r,(function(t,a){"teacherAssignForm"==e?36!=a.key&&37!=a.key&&38!=a.key&&39!=a.key&&40!=a.key&&41!=a.key||s.append('<option value="'+a.key+'">'+a.value+" </option>"):36!=a.key&&37!=a.key&&38!=a.key&&39!=a.key&&40!=a.key||s.append('<option value="'+a.key+'">'+a.value+" </option>")}))}}})}function getAllTimeZone(e){$("#"+e).append('<option  value="">Select Timezone</option>'),$.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster("","TIMEZONE-LIST","")),dataType:"json",success:function(t){"0"==t.status||"2"==t.status||$.each(t.mastersData.countryTimeZones,(function(t,a){$("#"+e).append('<option custom_timezone_id="'+a.key+'" value="'+a.extra4+'" data-timezone="'+a.value+'">('+a.extra+") - "+a.extra1+"/"+a.extra3+"</option>")}))}})}var trObj=[],serialNumberUpdateFlag=!0,requestajax=[],isDataTable=!1,datatableinc=0;function callTeacherListForAvailability(e,t){customLoader(!0),""==t&&requestajax.length>0&&requestajax.forEach((function(e,t){try{e.abort()}catch(e){console.log(e)}})),$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("report","get-teacher-availability"),data:JSON.stringify(getRequestForTeacherAvailability(e,t)),dataType:"json",success:function(e){if(console.log(e),"0"==e.status||"2"==e.status){showMessageTheme2(!1,e.message),$(".teacher-time-body").html("");$(".teacher-time-body").html('<tr class="td-border-design"><td class="bold" style="border-width:1px;border-color:#eee; text-align:center;" colspan="10">No Record Found</td></tr>')}else{$("#totalTeacherLive").text(e.teacherList.length),$("#totalTeacher").text(e.teacherList.length),$("#agreedHrs").text(e.strTotalagreedHrs),$("#availableHrs").text(e.strTotalAvailabelHrs),$("#occupiedHrs").text(e.strTotalDaywiseoccupiedHrs),$("#unoccupiedHrs").text(e.strTotalDaywiseunoccupiedHrs),$("#remaining").text(e.strTotalDaywiseRemaining),requestajax=[],$.fn.DataTable.isDataTable("#teacher-available-timelist")&&($("#teacher-available-timelist").dataTable().fnDestroy(),isDataTable=$.fn.DataTable.isDataTable("#teacher-available-timelist")),datatableinc=0;var t=getTimeAvailableTeacherHtml(e.teacherList,e.USER_ID);$(".teacher-time-body").html(t),customLoader(!1)}},error:function(e){console.log(e),customLoader(!1)}})}function getRequestForTeacherAvailability(e,t){var a={},r={};r.userId=USER_ID,""!=t&&(r.teacherUserId=t),r.datetype=$("#"+e+" #timeAvailableSearchtype").val(),r.teacherName=$("#"+e+" #teacherName").val(),r.teacherProfileStatus=$("#"+e+" #teacherProfileStatus").select2("val"),r.email=$("#"+e+" #teacherEmail").val(),r.timeZoneFrom=$("#"+e+" #timeZoneFrom").val(),r.timeZoneTo=$("#"+e+" #timeZoneTo").val();var s=$("#"+e+" #timeAvailableDateFrom").val()+" "+$("#"+e+" #startTime").val(),i=$("#"+e+" #timeAvailableDateTo").val()+" "+$("#"+e+" #endTime").val();return r.paymentDateFrom=s,r.paymentDateTo=i,r.teacherName=$("#"+e+" #teacherName").val(),r.lmsPlatform=$("#"+e+" #lmsPlatform").val(),r.standarId=$("#"+e+" #standardId").val(),r.subjectId=$("#"+e+" #subjectId").val(),a.teacherTimeListFilterDTO=r,a}function getDataForAllRecommendedTeacher(e){var t={};return t.studentStandardId=$("#studentStandardId").val(),t.studentUserId=$("#studentUserId").val(),t.subjectId=$("#"+e+" #courseName").val(),t.userId=USER_ID,t.schoolId=SCHOOL_ID,t}function getAllRecommendedTeacher(e){return null==$("#"+e+" #typeahead").val()||null==$("#"+e+" #typeahead").val()||""==$("#"+e+" #typeahead").val()?(showMessageTheme2(0,"Please search for a student."),!1):$("#"+e+" #timePreferenceSlotWrapper .selectedPreferenceSlot").length<1?(showMessageTheme2(0,"Please add time preference."),!1):(customLoader(!0),void $.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("teacherautoassign","student-teacher-subject-list"),data:JSON.stringify(getDataForAllRecommendedTeacher(e)),async:!0,globle:!1,success:function(e){if(e=JSON.parse(e),console.log(e),"0"==e.status||"2"==e.status)"3"==e.status?redirectLoginPage():showMessageTheme2(0,e.message,"",!0);else{$(".bulkUpdateBtnWrapper .btn").show();var t=$("#standardIdInput").val();$("#recommendedTeachers tbody").html(recommendedTeacherTr(e.subjectList,t)),$(".bulkUpdateBtnWrapper .btn").addClass("disabled"),t>=11&&t<=17?$(".bulkUpdateBtnWrapper .btn").hide():$(".bulkUpdateBtnWrapper .btn").show()}}}))}function getDataForRecommendedTeacherBySubject(e){var t={};t.studentStandardId=$("#studentStandardId").val(),t.studentUserId=$("#studentUserId").val(),t.subjectId=e,t.userId=USER_ID,t.schoolId=SCHOOL_ID;var a=[];return $(".selectedPreferenceSlot").each((function(e,t){var r={},s=$(this).find(".startTimeText").text(),i=$(this).find(".endTimeText").text();r.startTime=s,r.endTime=i,a.push(r)})),t.selectTime=a,t}function getAllRecommendedTeacherBySubject(e,t,a,r,s){customLoader(!1),$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("teacherautoassign","teacher-recommended-list"),data:JSON.stringify(getDataForRecommendedTeacherBySubject(e)),globle:!1,success:function(i){if(i=JSON.parse(i),console.log(i),"0"==i.status||"2"==i.status)"3"==i.status?redirectLoginPage():showMessageTheme2(0,i.message,"",!0);else{var n=recommendedTeacherBySubjectTr(i,e,a,r,s);""!=n?($("."+t).html(n),$("."+t).removeClass("font-weight-semi-bold font-size-md")):($(".recommended-total-"+e).html(""),$("."+t).html("No teachers are available for this course"),$("."+t).addClass("font-weight-semi-bold font-size-md"))}}})}function getDataForTeacherTimeAvailable(e,t){var a={};a.studentUserId=$("#studentUserId").val(),a.teacherUserId=e,a.subjectId=t,a.userId=USER_ID,a.schoolId=SCHOOL_ID;var r=[];return $(".selectedPreferenceSlot").each((function(e,t){var a={},s=$(this).find(".startTimeText").text(),i=$(this).find(".endTimeText").text();a.startTime=s,a.endTime=i,r.push(a)})),a.selectTime=r,a}function getTeacherTimeAvailable(e,t){customLoader(!1),$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("teacherautoassign","teacher-available-time"),data:JSON.stringify(getDataForTeacherTimeAvailable(e,t)),globle:!1,success:function(t){t=JSON.parse(t),console.log(t),"0"==t.status||"2"==t.status?"3"==t.status?redirectLoginPage():showMessageTheme2(0,t.message,"",!0):($(".available-"+e).text(t.availability),$(".remaining-"+e).text(t.remaining),$(".booked-"+e).text(t.booked))}})}function saveAutoAssignTeacherRequest(e,t,a,r,s){customLoader(!0),$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("teacherautoassign","save-auto-assign-teacher"),data:JSON.stringify(getRequestForAutoAssignTeacherRequest(e,t,a,r)),dataType:"json",cache:!1,timeout:6e5,success:function(e){if(customLoader(!1),"0"==e.status||"2"==e.status)showMessageTheme2(0,e.message,"",!0);else if(showMessageTheme2(1,e.message,"",!0),$(".bulkUpdateBtnWrapper .btn").addClass("disabled"),s){var t=[];$(".select-teacher").each((function(){var e=$(this).find(".btn-primary").attr("onclick").replace(/\)$/,", 'bulk')");t.push(e)})),assignTeacherBulk(t)}return!1},error:function(e){console.log("ERROR : ",e)}})}function getRequestForAutoAssignTeacherRequest(e,t,a,r){var s={},i={},n=[],l=[];if(s.studentUserId=$("#"+e+" #studentUserId").val().trim(),s.studentStandardId=$("#"+e+" #studentStandardId").val().trim(),$("#timePreferenceSlotWrapper").each((function(){$($(this).find(".selectedPreferenceSlot")).each((function(){var e={},t=$(this).attr("startTime"),a=$(this).attr("endTime");null!=t&&(e.startTime=convertTo24Hour(t),e.endTime=convertTo24Hour(a),l.push(e))}))})),s.timePreferenceList=l,null!=r&&null!=r&&""!=r)r=r.split(","),$.each(r,(function(e,t){var r;r={subjectId:t,teacherUserId:a},n.push(r)})),console.log(n);else if(null!=t&&null!=t&&0!=t&&""!=t){var o={};o.subjectId=t,o.teacherUserId=a,n.push(o)}else $("#recommendedTeachers > tbody  > tr").each((function(){var e={},t=$(this).find(".subjectId").val().trim(),a=$(this).find(".selectedTeacherUserId").val().trim();null!=t&&null!=t&&0!=t&&""!=t&&null!=a&&null!=a&&0!=a&&""!=a&&(e.subjectId=t,e.teacherUserId=a,n.push(e))}));return s.autoAssignTeacher=n,i.hash=getHash(),i.schoolId=SCHOOL_ID,i.schoolUUID=SCHOOL_UUID,i.userType="STUDENT",i.userId=USER_ID,s.authentication=i,s}function sendMailFromAutoTeacherAssign(e){hideMessage("");var t={};t.userId=USER_ID,t.studentStandardId=$("#studentStandardId").val(),t.subjectId=e,$.ajax({type:"GET",contentType:"application/json",url:getURLForHTML("teacherautoassign","send-mail-from-auto-assign-teacher?payload="+encode(JSON.stringify(t))),dataType:"json",cache:!1,timeout:6e5,success:function(e){"0"==e.status||"2"==e.status?showMessageTheme2(0,e.message,"",!0):showMessageTheme2(1,e.message,"",!0)},error:function(e){}})}function callTeacherAvailability(e,t,a,r){""!=t&&customLoader(!1);var s=$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("report","get-teacher-availability-content"),data:JSON.stringify(getRequestForTeacherAvailability(e,t)),dataType:"json",async:!0,success:function(e){if(console.log(e),"0"==e.status||"2"==e.status){showMessageTheme2(!1,e.message),$(".teacher-time-body").html("");$(".teacher-time-body").html('<tr class="td-border-design"><td class="bold" style="border-width:1px;border-color:#eee; text-align:center;" colspan="10">No Record Found</td></tr>')}else getTimeCalculateHtml(e.teacherList,e.USER_ID,a,r)},error:function(e){console.log(e)}});requestajax.push(s)}function updateSerialNumber(e){for(var t=0;t<=e[0].length;t++)$("#teacher-available-timelist tbody tr:nth-child("+t+") td:first-child").text(t);serialNumberUpdateFlag=!0,trObj=[]}function getTimeAvailableTeacherHtml(e,t){var a="";if(e.length>0){var r=1;for(let f=0;f<e.length;f++){const y=e[f],x=e=>e.toISOString().split("T")[0];var s=new Date,i=x(s),n=x(s);if(""!=$("#timeAvailableDateFrom").val()&&""!=$("#timeAvailableDateTo").val()){var l=$("#timeAvailableDateFrom").val(),o=$("#timeAvailableDateTo").val();const e=new Date(l),t=new Date(e.getFullYear(),e.getMonth(),1);t.setDate(t.getDate()+1);var d=new Date(o);(d=new Date(d.getFullYear(),d.getMonth()+1,0)).setDate(d.getDate()+1),i=x(t),n=x(d)}var c=divClassGradePopup("Grade's","grade",y.teacherId),u=divClassGradePopup("Course","course",y.teacherId),h=parseInt(y.avgAgree.replaceAll(":","")),m=parseInt(y.liveAvailiblity.replaceAll(":","")),p=(parseInt(y.occupied.replaceAll(":","")),parseInt(y.unoccupied.replaceAll(":",""))),g="getAsPost('/report/teacher-class-report?moduleId=150&euid="+y.tencryptedUserId+"&profileStatus=A&startDateFilter="+i+"&endDateFilter="+n+"')",T="getTeacherAllTime('"+y.teacherId+"','"+y.teachUserId+"','TEACHER','availiblityModal','open-class')",v="getTeacherAllTime('"+y.teacherId+"','"+y.teachUserId+"','TEACHER','availiblityModal','class-time-save')";a+='<tr class="td-border-design" id="teacher_'+y.teachUserId+'">',a+='<td class="rounded-bottom-left-10 " style="border-width:1px;border-color:#eee">'+r+'.</td><td data-order="'+y.teachName+'" class="" style="border-width:1px;border-color:#eee"><div id="teacherName_'+y.teachUserId+'"><b>'+y.teachName+"</b></div><br/>"+c+" |  "+u+"<div>"+y.countryName+" | "+y.teachTimeZone+" | "+y.offSet+' </div></td><td data-order="'+y.agreedHrs.replaceAll(":","")+'" class="" style="border-width:1px;border-color:#eee"><span class="d-inline-block text-white font-weight-bold mr-1 mb-1 text-center"><a href="javascript:void(0)" class="btn btn-sm btn-primary font-weight-semi-bold '+y.teachUserId+'_total_agreedhrs" style="min-width:50px" onclick="'+T+'" >'+y.totalAgreedHours+"="+y.agreedHrs+"+"+y.adminTaskHours+"</a>",1==t&&(a+='<a href="javascript:void(0)" class="btn btn-sm font-weight-semi-bold" style="min-width:50px" onclick="'+v+'"><i class="fas fa-sync text-success"></i></a>'),a+="</span>",a+='<br/><span class="d-inline-block bg-info text-white p-1 font-weight-bold mr-1 mb-1 text-center" id="total_student_'+y.teacherId+'">0</span>= ',a+='<span class="d-inline-block bg-dark text-white p-1 font-weight-bold mr-1 mb-1 text-center" style="min-width:30px;" id="pl_student_'+y.teacherId+'">0</span>+ ',a+='<span class="d-inline-block text-white p-1 font-weight-bold mr-1 mb-1 text-center" style="min-width:30px; background-color: #ff059d;" id="gl_student_'+y.teacherId+'">0</span>',a+="</td>";var b='<div class="loader-wrapper d-flex justify-content-center align-items-center"> <div class="loader">';b+='<div class="line-scale"><div></div><div></div><div></div><div></div><div></div></div></div> </div>',"00:00:00"==y.liveAvailiblity&&"00:00:00"==y.adminAvailiblity?a+='<td data-order="'+y.liveAvailiblity.replaceAll(":","")+'" class="'+y.teachUserId+'_total_availability" style="border-width:1px;border-color:#eee;text-align:center">'+b+"</td>":a+='<td data-order="'+parseInt(y.liveAvailiblity.replaceAll(":",""))+'" class="'+y.teachUserId+'_total_availability " style="border-width:1px;border-color:#eee;text-align:center"><span class="'+(h>m?"text-danger":"")+'">'+y.liveAvailiblity+"</span></td>",a+='<td data-order="'+parseInt(y.occupied.replaceAll(":",""))+'" class="'+y.teachUserId+'_total_occupied" style="border-width:1px;border-color:#eee;text-align:center"><span class="'+(p>0?"text-success":"")+'">'+("00:00:00"==y.occupied?""+b:y.occupied)+'</span></td><td data-order="'+parseInt(y.unoccupied.replaceAll(":",""))+'" class="'+y.teachUserId+'_total_unoccupied" style="border-width:1px;border-color:#eee;text-align:center"><span style="padding:2px;" class="'+(p>0?"bg-success text-white":"")+'">'+("00:00:00"==y.unoccupied?""+b:y.unoccupied)+'</span></td><td data-order="'+parseInt(y.teacherRemaining.replaceAll(":",""))+'" class="'+y.teachUserId+'_total_remaining " style="border-width:1px;border-color:#eee;text-align:center"><span style="padding:2px;" class="'+(h>m?"bg-danger text-white":"")+'">'+("00:00:00"==y.teacherRemaining?""+b:y.teacherRemaining)+'</span></td><td data-order="'+parseInt(y.totalSubmitted.replaceAll(":",""))+'" class="" style="border-width:1px;border-color:#eee;text-align:center">',a+='<a href="javascript:void(0)" class="btn btn-sm font-weight-semi-bold '+y.teachUserId+'_total_submitted" style="min-width:50px" onclick="'+g+'">'+("00:00:00"==y.submitted?"-":y.submitted)+" | "+("00:00:00"==y.totalSubmitted?"-":y.totalSubmitted)+"</a></td>",a+="</tr>",callTeacherAvailability("teacherFilterTime",""+y.teachUserId,"teacher_"+y.teachUserId,""+r),r+=1}}else a+='<tr class="td-border-design">',a+='<td class="bold" style="border-width:1px;border-color:#eee; text-align:center;" colspan="10">No Record Found</td>',a+="</tr>";return a}function getTimeCalculateHtml(e,t,a,r){if(e.length>0){var s=parseInt($("#availableHrs").attr("data-available-second")),i=parseInt($("#occupiedHrs").attr("data-occupied-second")),n=parseInt($("#unoccupiedHrs").attr("data-unoccupied-second")),l=parseInt($("#remaining").attr("data-remaining-second")),o=parseInt($("#totalTeacher").attr("data-total-teacher"));for(let a=0;a<e.length;a++){var d="";const k=e[a],D=e=>e.toISOString().split("T")[0];var c=new Date,u=D(c),h=D(c);if(""!=$("#timeAvailableDateFrom").val()&&""!=$("#timeAvailableDateTo").val()){var m=$("#timeAvailableDateFrom").val(),p=$("#timeAvailableDateTo").val();const e=new Date(m),t=new Date(e.getFullYear(),e.getMonth(),1);t.setDate(t.getDate()+1);var g=new Date(p);(g=new Date(g.getFullYear(),g.getMonth()+1,0)).setDate(g.getDate()+1),u=D(t),h=D(g)}var T=parseInt(k.avgAgree.replaceAll(":","")),v=parseInt(k.liveAvailiblity.replaceAll(":","")),b=(parseInt(k.occupied.replaceAll(":","")),parseInt(k.unoccupied.replaceAll(":",""))),f=divClassGradePopup("Grade's","grade",k.teacherId),y=divClassGradePopup("Course","course",k.teacherId),x=3600*parseInt(k.totalAgreedHours),I=getAssignStudentOfTeacher("Grade","STANDARD","grade",k.teacherId,x);requestajax.push(I);I=getAssignStudentOfTeacher("Course","SUBJECT","course",k.teacherId,x);requestajax.push(I);var S="getAsPost('/report/teacher-class-report?moduleId=150&euid="+k.tencryptedUserId+"&profileStatus=A&startDateFilter="+u+"&endDateFilter="+h+"')",w="getTeacherAllTime('"+k.teacherId+"','"+k.teachUserId+"','TEACHER','availiblityModal','open-class')",A="getTeacherAllTime('"+k.teacherId+"','"+k.teachUserId+"','TEACHER','availiblityModal','class-time-save')";d+='<td class="rounded-bottom-left-10 " style="border-width:1px;border-color:#eee">'+r+'.</td><td data-order="'+k.teachName+'" class="" style="border-width:1px;border-color:#eee"><span id="teacherName_'+k.teachUserId+'"><b>'+k.teachName+"</b></span><br/>"+f+" |  "+y+"<div>"+k.countryName+" | "+k.teachTimeZone+" | "+k.offSet+' </div></td><td data-order="'+k.agreedHrs.replaceAll(":","")+'" class="" style="border-width:1px;border-color:#eee"><span class="d-inline-block text-white font-weight-bold mr-1 mb-1 text-center"><a href="javascript:void(0)" class="btn btn-sm btn-primary font-weight-semi-bold '+k.teachUserId+'_total_agreedhrs" style="min-width:50px" onclick="'+w+'" >'+k.totalAgreedHours+"="+k.agreedHrs+"+"+k.adminTaskHours+"</a>",1==t&&(d+='<a href="javascript:void(0)" class="btn btn-sm font-weight-semi-bold" style="min-width:50px" onclick="'+A+'"><i class="fas fa-sync text-success"></i></a>'),d+="</span>",d+='<br/><span class="d-inline-block bg-info text-white p-1 font-weight-bold mr-1 mb-1 text-center" id="total_student_'+k.teacherId+'">0</span>= ',d+='<span class="d-inline-block bg-dark text-white p-1 font-weight-bold mr-1 mb-1 text-center" style="min-width:30px;" id="pl_student_'+k.teacherId+'">0</span>+ ',d+='<span class="d-inline-block text-white p-1 font-weight-bold mr-1 mb-1 text-center" style="min-width:30px; background-color: #ff059d;" id="gl_student_'+k.teacherId+'">0</span>',d+="</td>","00:00:00"==k.liveAvailiblity&&"00:00:00"==k.adminAvailiblity?d+='<td data-order="'+k.liveAvailiblity.replaceAll(":","")+'" class="'+k.teachUserId+'_total_availability" style="border-width:1px;border-color:#eee;text-align:center">-</td>':d+='<td data-order="'+k.liveAvailiblity.replaceAll(":","")+'" class="'+k.teachUserId+'_total_availability " style="border-width:1px;border-color:#eee;text-align:center"><span class="'+(T>v?"text-danger":"")+'">'+k.liveAvailiblity+"</span></td>",d+='<td data-order="'+parseInt(k.occupied.replaceAll(":",""))+'" class="'+k.teachUserId+'_total_occupied" style="border-width:1px;border-color:#eee;text-align:center"><span class="'+(b>0?"text-success":"")+'">'+("00:00:00"==k.occupied?"-":k.occupied)+'</span></td><td data-order="'+parseInt(k.unoccupied.replaceAll(":",""))+'" class="'+k.teachUserId+'_total_unoccupied" style="border-width:1px;border-color:#eee;text-align:center"><span style="padding:2px;" class="'+(b>0?"bg-success text-white":"")+'">'+("00:00:00"==k.unoccupied?"-":k.unoccupied)+'</span></td><td data-order="'+parseInt(k.teacherRemaining.replaceAll(":",""))+'" class="'+k.teachUserId+'_total_remaining " style="border-width:1px;border-color:#eee;text-align:center"><span style="padding:2px;" class="'+(T>v?"bg-danger text-white":"")+'">'+k.teacherRemaining+'</span></td><td data-order="'+parseInt(k.totalSubmitted.replaceAll(":",""))+'" class="" style="border-width:1px;border-color:#eee;text-align:center">',d+='<a href="javascript:void(0)" class="btn btn-sm font-weight-semi-bold '+k.teachUserId+'_total_submitted" style="min-width:50px" onclick="'+S+'">'+("00:00:00"==k.submitted?"-":k.submitted)+" | "+("00:00:00"==k.totalSubmitted?"-":k.totalSubmitted)+"</a></td>",s+=k.liveTime,i+=k.ocupTime,n+=k.unocupTime,l+=k.finalRemainClass,o+=1}$("#"+a).html(d),$("#availableHrs").attr("data-available-second",s),$("#occupiedHrs").attr("data-occupied-second",i),$("#unoccupiedHrs").attr("data-unoccupied-second",n),$("#remaining").attr("data-remaining-second",l),$("#totalTeacher").attr("data-total-teacher",o),$("#availableHrs").text(getTimeFormatByMiliSecond(1e3*s)),$("#occupiedHrs").text(getTimeFormatByMiliSecond(1e3*i)),$("#unoccupiedHrs").text(getTimeFormatByMiliSecond(1e3*n)),$("#remaining").text(getTimeFormatByMiliSecond(1e3*l)),$("#totalTeacher").text(o);var k=getProgressValue(o,parseInt($("#totalTeacherLive").text()));$("#teacherCountProgress").attr("aria-valuenow",k),$("#teacherCountProgress").css("width",k+"%"),$("#teacherCountProgress").text(k+"%"),$("#teacherCountProgress").removeClass("d-none"),100!=k&&$("#teacher-available-timelist").DataTable().destroy(),100==k&&($("#teacherCountProgress").addClass("d-none"),1==(datatableinc+=1)&&setTimeout((()=>{isDataTable||($("#teacher-available-timelist").DataTable({pageLength:150,drawCallback:function(e){this.api().rows({order:"index",page:"current"}).every((function(e,t,a){var r=this.node();$("td:first",r).html(this.index()+1)})),serialNumberUpdateFlag&&(trObj.push(e.aiDisplay),serialNumberUpdateFlag=!1,updateSerialNumber(trObj))}}),isDataTable=!1)}),1e3))}}function getRequestForAssignStdOfTeacher(e,t,a,r){var s={};return s.schoolId=SCHOOL_ID,s.reportType=t,s.teacherId=a,s.workinghr=r,s.callFrom="",s}function getAssignStudentOfTeacher(e,t,a,r,s){return customLoader(!1),$("#stdAssignToTimeAvailList").DataTable().destroy(),$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("report","teacher-assign-student-content"),data:JSON.stringify(getRequestForAssignStdOfTeacher(e,t,r,s)),dataType:"json",async:!0,success:function(e){if("0"==e.status||"2"==e.status||"3"==e.status)"3"==e.status?redirectLoginPage():"theme2"==tt||tt;else if(""!=t){var s=getStuddentCountTr(e.gradeList,t,a,r,e.changeSlotDate);$("#"+a+"_"+r).html(""),$("#"+a+"_"+r).html(s)}else{var i=getStudentListBody(e.teacherAssign);$("#studentListAvailablePopup #"+a).html(""),$("#studentListAvailablePopup #"+a).html(i);var n=$("#teacher-time-body #teacherName_"+e.teacherUserId).text();$("#studentListAvailablePopup #teacherAssignName").text(n),$("#studentListAvailablePopup").modal("show")}$("#stdAssignToTimeAvailList").DataTable()},error:function(e){console.log(e)}})}function getStuddentCountTr(e,t,a,r,s){var i="",n=0,l=0,o=0,d=0;if(e.length>0)for($(".gctotal_"+a+"_"+r).html(" ("+e.length+")"),md=0;md<e.length;md++)i+="<tr>",i+="<td>"+e[md].gradeName+"</td>",i+="<td>"+e[md].studentCount+"</td>",i+="<td>"+e[md].studentInActiveCount+"</td>",i+="</tr>","STANDARD"==t&&(parseInt(e[md].assinedTotalStudent)>0&&(n=parseInt(e[md].assinedTotalStudent)),l+=parseInt(e[md].studentCount),o+=parseInt(e[md].studentPlActiveCount),d+=parseInt(e[md].studentGlActiveCount));if("STANDARD"==t){$("#ass_student_"+r).text(n);var c='<a style="min-width:30px;" class="text-center text-white font-weight-bold" href="javascript:void(0)" onclick="'+("getAssignStudentOfTeacher('','','studentTeachAssignList','"+r+"', '');")+'">'+l+"</a>";$("#total_student_"+r).html(c),$("#pl_student_"+r).html(o),$("#gl_student_"+r).html(d)}return i}function getStudentListBody(e){var t="",a=1;if(e.length>0)for(md=0;md<e.length;md++)t+="<tr>",t+="<td>"+a+"</td>",t+="<td>"+e[md].studentName+"</td>",t+="<td>"+e[md].gradeName+"</td>",t+="<td>"+e[md].registerType+"</td>",t+="</tr>",a+=1;return t}function divClassGradePopup(e,t,a){var r="dropdown-menu-md";"course"==t&&(r="dropdown-menu-xl");var s="";return s+='<div class="btn-group dropdown" style="vertical-align: top !important;font-size:11px">',s+='<a href="#" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" class="mb-2 mr-2 dropdown-toggle">'+e+'<span class="gctotal_'+t+"_"+a+'"></span></a>',s+='<div tabindex="-1" role="menu" aria-hidden="true" class="'+r+' dropdown-menu" style="font-size:11px !important;">',s+='<div class="menu-header-content"><h5 class="menu-header-title text-center ">'+e+'<span class="gctotal_'+t+"_"+a+'"></span></h5></div>',s+='<div class="grid-menu grid-menu-3col">',s+='<div class="no-gutters row">',s+='<div class="col-sm-12 col-xl-12 pt-0" style="max-height: 200px;overflow-y: auto;">',s+='<table class="row-height-small" style="width:100%;">',s+='<tr><thead class="table-head-sticky">',s+="<th>"+e+'</th><th>Total</th><th style="width:60px">In-Active</th>',s+="</thead></tr>",s+='<tbody id="'+t+"_"+a+'">',s+="</tbody>",s+="</table>",s+="</div></div></div></div></div>"}function getTeacherAllTime(e,t,a,r,s){$(".teacherNameClass").html("--"),$(".agreedHourLabel").html("--"),$(".timezoneWithOffset").html("--"),callTeacherRemainingTime("admin-panel",e,t,a,r,s,"N"),"class-time-save"==s||$("#"+r).modal("show")}function getRequestForTeacherRemainingTime(e,t,a,r,s){var i={};if(i.userId=t,i.userRole=a,i.schoolId=SCHOOL_ID,i.callFrom=e,i.callType=r,i.autoForwordStatus=s,i.dataType=$("#teacherFilterTime #timeAvailableSearchtype").val(),"CUSTOM"==$("#timeAvailableSearchtype").val()&&null!=$("#timeAvailableDateFrom").val()&&""!=$("#timeAvailableDateFrom").val()){var n=$("#teacherFilterTime #timeAvailableDateFrom").val()+" "+$("#teacherFilterTime #startTime").val(),l=$("#teacherFilterTime #timeAvailableDateTo").val()+" "+$("#teacherFilterTime #endTime").val();i.startDateFilter=n,i.endDateFilter=l}return console.log(i),i}function getRequestForTeacherTimeToShowWeeklyCalendar(e,t,a,r,s){var i={};return i.userId=e,i.userRole=t,i.schoolId=SCHOOL_ID,i.callType=a,i.startDate=s,i.dataType="CUSTOM",i.studentStandardId=r,console.log(i),i}function getTeacherTimeToShowWeeklyCalendar(e,t,a,r,s){return customLoader(!0),new Promise((function(i,n){$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("teacherautoassign","get-teacher-time-to-show-weekly-calendar"),data:JSON.stringify(getRequestForTeacherTimeToShowWeeklyCalendar(e,t,a,r,s)),dataType:"json",cache:!1,timeout:6e5,async:!0,success:function(e){customLoader(!1),console.log(e),i(e)},error:function(e,t,a){console.error("Error: "+a),n(a)}})}))}function callTeacherRemainingTime(e,t,a,r,s,i,n){console.log(r),customLoader(!0),$(".timeOccupiedCurrent").html(""),$(".timeOccupiedNext").html(""),$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("report","get-teacher-time-preference-datewise"),data:JSON.stringify(getRequestForTeacherRemainingTime(e,a,r,i,n)),dataType:"json",cache:!1,timeout:6e5,async:!0,success:function(e){if(console.log(e),"0"==e.status||"2"==e.status||"3"==e.status)"3"==e.status&&redirectLoginPage();else if("class-time-save"==i);else{$(".timeOccupiedCurrent").html(""),$(".teacherNameClass").html(e.teacherName+" | "+e.countryName);var t=$("."+a+"_total_agreedhrs").text();$(".agreedHourLabel").html('|  Contract Hours <label class="d-inline-block p-1 bg-white text-primary rounded teacherAgreeHours" style="line-height:15px">'+t+"</label>"),$(".timezoneWithOffset").html(e.timeZoneName+" | "+e.offset);var r=getTeacherCurrentAvailability(e.teacherWeeklyTimeCurrLiveClass);$(".timeOccupiedCurrent").html(r);var s="";$(".timeOccupiedNext").html(""),null!=e.teacherWeeklyTimeNextLiveClass&&(s=getTeacherNextAvailablity(e.teacherWeeklyTimeNextLiveClass),$(".timeOccupiedNext").html(s)),$(".expandable-row").click((function(){console.log("expandable-row"),$(this).toggleClass("bg-primary"),$(this).parent().find(".expandable-details").toggle(),$(this).parent().find(".squeezed-details").toggle(),$(this).parent().siblings().find(".expandable-details").hide(),$(this).parent().siblings().find(".squeezed-details").show(),$(this).parent().siblings().find(".expandable-row").addClass("bg-primary")})),$(".view-all-time-slots").click((function(){$(this).parent().find(".hide-time-slot").show()}))}customLoader(!1)},error:function(e){"theme2"==tt&&showMessageTheme2(2,TECHNICAL_GLITCH,"",!0)}})}function callTimeBookingTeacher(e,t,a,r,s){customLoader(!0),data={},data.bookingId=t,data.bookType=a,data.startDate=r,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("report","get-booking-time"),data:JSON.stringify(data),dataType:"json",cache:!1,timeout:6e5,async:!0,success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status&&redirectLoginPage():(""!=e.studentName?($(".hideClassWith"+s+"_"+t).show(),$(".withClass"+s+"_"+t).text(e.studentName)):$(".hideClassWith"+s+"_"+t).hide(),$(".courseName"+s+"_"+t).text(e.subjectName),"Activity"==e.meetingType?$(".textCoursename"+s+"_"+t).text("Activity title:"):$(".textCoursename"+s+"_"+t).text("Course Name:"),$(".classType"+s+"_"+t).text(e.meetingType),$(".classStudentTime"+s+"_"+t).text(e.studentDateTime),$(".classAdminTime"+s+"_"+t).text(e.adminDatetime),""!=e.bufferTime?($(".hideStudentTime"+s+"_"+t).show(),$(".hideClassBuffer"+s+"_"+t).show(),$(".bufferTime"+s+"_"+t).text(e.bufferTime)):($(".hideStudentTime"+s+"_"+t).hide(),$(".hideClassBuffer"+s+"_"+t).hide())),customLoader(!1)},error:function(e){"theme2"==tt&&showMessageTheme2(2,TECHNICAL_GLITCH,"",!0)}})}function getTeacherTimeBooked(e,t,a,r){callTimeBookingTeacher("",e,t,a,r)}function bindTeacherBookedClass(e){var t="";return t+="<tr><td>1</td><td>"+e.studentName+"</td><td>"+e.subjectName+"</td><td><b>Teacher Time:</b> "+e.teacherDatetime+"<br/><b>Student Time:</b> "+e.studentDateTime+"<br/><b>Admin Time:</b> "+e.adminDatetime+"</td></tr>"}function getProgressValue(e,t){var a=0;if(e===t)a=100;else{for(var r=Math.min(e,t),s=0,i=0;i<r;i++)s++;a=s/t*100}return Math.ceil(a)}function getRecommendedTeacherListModal(){$("#recommendedTeacherlistModal").modal("show"),$("#recommendedTeacherlistModal").on("hidden.bs.modal",(function(){recommendedTeachersResetForm()}))}function initializeTypeahead(e,t){$("#typeahead").typeahead({hint:!0,highlight:!0,minLength:3},{name:"students",source:function(e,t,a){var r={searchWord:e,userId:USER_ID,schoolId:SCHOOL_ID};return $.ajax({url:getURLForHTML("dashboard","get-all-student-list?payload="+encode(JSON.stringify(r))),global:!1,success:function(e){if((e=JSON.parse(e)).studentList){var t=[];$.each(e.studentList,(function(e,a){t.push({display:a.studentName,studentUserId:a.studentUserId,standardId:a.standardId,studentStandardId:a.studentStandardId})})),a(t)}else console.warn("No studentList found in response")},error:function(e,t,a){checkonlineOfflineStatus()||console.error("AJAX error: "+t+" : "+a)}})},display:function(e){return e.display}}).bind("typeahead:select",(function(a,r){console.log("Selection: ",r.studentUserId),console.log("Selection studentStandardId: ",r.studentStandardId),$("#studentStandardId").val(r.studentStandardId),$("#studentUserId").val(r.studentUserId),callSubjectNameByStudentUserID(e,r.studentUserId,r.standardId,t),callStudentSavedTimePreference(e,"timePreferenceSlotWrapper",r.studentUserId),$("#selectedStudentTime").text($(this).val()),$("#standardIdInput").val(r.standardId),$(".selected-student").show(),$("#courseName").select2("destroy").select2({theme:"bootstrap4",dropdownParent:"#recommendedTeacherlistForm"})}))}function callSubjectNameByStudentUserID(e,t,a,r){return""!=t&&(a>10&&a<18?($("#"+e+" #"+r).html('<option value="">All Courses</option>'),!1):void $.ajax({type:"POST",contentType:"application/json",url:getURLForCommon("masters"),data:JSON.stringify(getRequestForMaster("formId","SUBJECT-BY-STUDENT",t)),dataType:"json",cache:!1,timeout:6e5,async:!1,success:function(t){if("0"==t.status||"2"==t.status)showMessage(!0,t.message);else{$("#"+e+" #teacherId").empty();var a=t.mastersData.courseList,s=$("#"+e+" #"+r);s.html(""),s.append('<option value="">All Courses</option>'),$.each(a,(function(e,t){s.append('<option value="'+t.key+'">'+t.value+" </option>")}))}}}))}function selecteTeacher(e,t,a,r,s,i){$("#"+t).prop("checked")&&($("."+r+" .recommended-teacher-thumb").length<1?($("#"+t).parent().hide(),$("#"+e).appendTo($("."+r)),$("."+r+" .blankText").hide(),$("#"+a).show(),$("#selectedTeacherUserId-"+i).val(s),$("#"+a).addClass("select-teacher"),$("#recommendedTeachers .select-teacher").length>0&&$(".bulkUpdateBtnWrapper .btn").removeClass("disabled")):($("#"+t).prop("checked",!1),showMessageTheme2(0,"Please remove the already selected teacher and choose another one")))}function reset(e,t,a,r,s,i,n){$("#"+t).parent().show(),$("#"+t).prop("checked",!1);parseInt($("."+s).find(".recommended-teacher-thumb").attr("data-order"));0==$("."+r+" .recommended-teacher-thumb").length?$("."+r).append($("#"+e)):$("."+r+" .recommended-teacher-thumb:last-child").after($("#"+e)),$("."+s+" .blankText").show(),$("#"+a).hide(),$("#"+n).hide(),$("#"+a).removeClass("select-teacher"),$("#recommendedTeachers .select-teacher").length<1&&$(".bulkUpdateBtnWrapper .btn").addClass("disabled"),""!=$("#"+i).val()&&$("#"+i).val("")}function assignTeacher(e,t,a,r,s,i,n,l,o,d,c){$("#"+t).parent().hide(),$("#"+t).prop("checked",!1),$("."+r).find(".custom-checkbox").show(),$("."+r).find(".custom-checkbox .custom-control-label").show(),$("."+r).find(".sendMail").hide();parseInt($("."+r).find(".recommended-teacher-thumb").attr("data-order"));0==$("."+r+" .recommended-teacher-thumb").length?$("."+i).append($("#"+r)):$("."+i+" .recommended-teacher-thumb:last-child").after($("."+r).html()),$("."+r).html(""),$("#"+e).prependTo($("."+r)),$("."+s+" .blankText").show(),$("."+s+" #"+e).remove(),$("#"+a).hide(),$("#"+d).show(),null==c&&"bulk"!=c&&saveAutoAssignTeacherRequest("recommendedTeacherlistForm",n,l,o,!1)}function assignTeacherBulk(listOnclickFun){console.log(listOnclickFun),$.each(listOnclickFun,(function(i,v){eval(v)}))}function removeSelectTimeSlot(e){$("#"+e).remove(),0==$("#timePreferenceSlotWrapper .selectedPreferenceSlot").length&&$("#timePreferenceSlotWrapper").html('<span id="notSlotAdd" class="d-inline-block position-relative font-weight-bold" style="top:30px">No Time Preference Added.</span>')}function addTimePreference(e,t){var a=$("#timePreferenceSlotWrapper .selectedPreferenceSlot").length,r=!0,s=[];if(a<3){var i=$("#"+e).val(),n=$("#"+t).val();if(null==i||null==i||""==i)return showMessageTheme2(0,"Please select start time"),!1;if(null==n||null==n||""==n)return showMessageTheme2(0,"Please select end time"),!1;if($("#timePreferenceSlotWrapper .selectedPreferenceSlot").each((function(){s.push({start:$(this).find(".startTimeText").text(),end:$(this).find(".endTimeText").text()}),$(this).find(".startTimeText").text()==i&&$(this).find(".endTimeText").text()==n&&(r=!1)})),console.log(s),r)if(s.push({start:i,end:n}),checkOverlap(s))showMessageTheme2(0,"Please check that one of your time slots is overlapping with another time slot.");else{var l='<span class="d-inline-block ml-2 selectedPreferenceSlot" id="selectedPreferenceSlot'+(a+1)+'" startTime="'+i+'" endTime="'+n+'"><div class="m-0 font-weight-bold">Preference '+(a+1)+'</div><label class="bg-light-primary text-primary rounded-5 d-inline-block p-1 border border-primary px-2"><span class="d-inline-block startTimeText">'+i+'</span> - <span class="d-inline-block endTimeText">'+n+'</span><a href="javascript:void(0)" class="d-inline-block bg-white text-primary p-1 border border-primary ml-1 rounded-5" style="line-height:14px" onclick="removeSelectTimeSlot(\'selectedPreferenceSlot'+(a+1)+'\')"><i class="fa fa-times"></i></a></label></span>';$("#timePreferenceSlotWrapper #notSlotAdd").remove(),$("#timePreferenceSlotWrapper").append(l)}else showMessageTheme2(0,"You have already added this time preference")}else showMessageTheme2(0,"You can only add a maximum of 3 time preferences.")}function convertToMinutes(e){var[t,a]=e.split(" "),[r,s]=t.split(":").map(Number);return"PM"===a&&12!==r&&(r+=12),"AM"===a&&12===r&&(r=0),60*r+s}function isOverlapping(e,t){return convertToMinutes(e.start)<convertToMinutes(t.end)&&convertToMinutes(t.start)<convertToMinutes(e.end)}function checkOverlap(e){for(var t=!1,a=0;a<e.length-1;a++)for(var r=a+1;r<e.length;r++)isOverlapping(e[a],e[r])&&(console.log(`Overlap found between slot ${a+1} and slot ${r+1}`),t=!0);return t}function calculateTimeGap(e,t){var a=convertToMinutes(e);return convertToMinutes(t)-a}async function viewWeeklyTimeDetails(e,t,a){try{var r=$("#timePreferenceSlotWrapper .selectedPreferenceSlot").length,s=[],i=$("#studentStandardId").val(),n=new Date,l=await getTeacherTimeToShowWeeklyCalendar(t,"TEACHER","WEEK",i,n);console.log(l.teacherWeeklyTimeCurrLiveClass.teacherAssignTimeWeekList[0].teacherAllDataInOneList),r<=3&&($("#timePreferenceSlotWrapper .selectedPreferenceSlot").each((function(){s.push({start:$(this).find(".startTimeText").text(),end:$(this).find(".endTimeText").text()})})),console.log(s)),$.each(l.teacherWeeklyTimeCurrLiveClass.teacherAssignTimeWeekList,(function(e,t){t.teacherAllDataInOneList.forEach((function(e){e.dayWiseAllData.forEach((function(e){var t=convertToMinutes(e.displayStartTime),a=convertToMinutes(e.displayEndTime),r=s.some((function(e){var r=convertToMinutes(e.start),s=convertToMinutes(e.end);return a<t&&(a+=1440),t>=r&&a<=s}))?"within":"outside";e.timerange=r}))}))})),console.log(l.teacherWeeklyTimeCurrLiveClass.teacherAssignTimeWeekList[0].teacherAllDataInOneList),$("#recommendedTeacherAvailabilityModal").length>0&&$("#recommendedTeacherAvailabilityModal").remove(),$("body .modal-stack").length>0?$("body .modal-stack").before(recommendedTeacherAvailabilityModal(l)):$("body").append(recommendedTeacherAvailabilityModal(l));var o=$(".subject-name-"+a).text(),d=$("#selectedStudentTime").text().split("|"),c=e+" slots for "+o+" for "+d[0]+" in "+d[2];$(".teacherName").text(c),$(".teacherName").attr("data-teacherUserId",t),$("#recommendedTeacherAvailabilityModal").modal("show")}catch(e){console.error("Failed to fetch data:",e)}}async function nextWeeklyTimeDetails(e){try{var t=$("#timePreferenceSlotWrapper .selectedPreferenceSlot").length,a=[],r=$("#studentStandardId").val(),s=$(".teacherName").attr("data-teacherUserId"),i=await getTeacherTimeToShowWeeklyCalendar(s,"TEACHER","WEEK",r,e);t<3&&($("#timePreferenceSlotWrapper .selectedPreferenceSlot").each((function(){a.push({start:$(this).find(".startTimeText").text(),end:$(this).find(".endTimeText").text()})})),console.log(a)),$.each(i.teacherWeeklyTimeCurrLiveClass.teacherAssignTimeWeekList,(function(e,t){t.teacherAllDataInOneList.forEach((function(e){e.dayWiseAllData.forEach((function(e){var t=convertToMinutes(e.displayStartTime),r=convertToMinutes(e.displayEndTime),s=a.some((function(e){var a=convertToMinutes(e.start),s=convertToMinutes(e.end);return r<t&&(r+=1440),t>=a&&r<=s}))?"within":"outside";e.timerange=s}))}))})),$("#recommendedTeacherAvailabilityModal .modal-body").html(recommendedTeacherAvailabilityModalBody(i))}catch(e){console.error("Failed to fetch data:",e)}}async function prevWeeklyTimeDetails(e){try{var t=$("#timePreferenceSlotWrapper .selectedPreferenceSlot").length,a=[],r=$("#studentStandardId").val(),s=$(".teacherName").attr("data-teacherUserId"),i=await getTeacherTimeToShowWeeklyCalendar(s,"TEACHER","WEEK",r,e);t<3&&($("#timePreferenceSlotWrapper .selectedPreferenceSlot").each((function(){a.push({start:$(this).find(".startTimeText").text(),end:$(this).find(".endTimeText").text()})})),console.log(a)),$.each(i.teacherWeeklyTimeCurrLiveClass.teacherAssignTimeWeekList,(function(e,t){t.teacherAllDataInOneList.forEach((function(e){e.dayWiseAllData.forEach((function(e){var t=convertToMinutes(e.displayStartTime),r=convertToMinutes(e.displayEndTime),s=a.some((function(e){var a=convertToMinutes(e.start),s=convertToMinutes(e.end);return r<t&&(r+=1440),t>=a&&r<=s}))?"within":"outside";e.timerange=s}))}))})),$("#recommendedTeacherAvailabilityModal .modal-body").html(recommendedTeacherAvailabilityModalBody(i))}catch(e){console.error("Failed to fetch data:",e)}}function recommendedTeachersResetForm(){$("#recommendedTeacherlistForm  #typeahead").val(""),$("#recommendedTeacherlistForm  #gradeName").val(""),$("#recommendedTeacherlistForm  #enrollDetails").val(""),$("#recommendedTeacherlistForm #courseName").val("").trigger("change"),$("#recommendedTeacherlistForm #addPreferenceStartTime").val("").trigger("change"),$("#recommendedTeacherlistForm #addPreferenceEndTime").val("").trigger("change").prop("disabled",!0),$("#recommendedTeacherlistForm #timePreferenceSlotWrapper, #recommendedTeachers tbody").html(""),$(".selected-student").hide(),$(".gradeAndLearningProgram").css({display:"none"}),$(".bulkUpdateBtnWrapper .btn").addClass("disabled")}function checkdateIsPastOrNot(e){var t=new Date(e),a=new Date;return t.setHours(0,0,0,0),a.setHours(0,0,0,0),t<a}$(document).ready((function(){$("#availiblityModal").on("show.bs.dropdown",(function(){$(".overflow-div").removeClass("overflow-auto"),$(".overflow-div").addClass("overflow-inherit")})),$("#availiblityModal").on("hide.bs.dropdown",(function(){$(".overflow-div").addClass("overflow-auto"),$(".overflow-div").removeClass("overflow-inherit")}))}));