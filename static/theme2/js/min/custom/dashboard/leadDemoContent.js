function renderLeadDemoDashboardSchool(t,e,a,i,o){var s='<div class="app-container app-theme-white body-tabs-shadow fixed-header fixed-sidebar">'+dashboardHeaderContent()+'<div class="app-main"><div class="col p-0"><div class="app-main__inner pt-2">'+leadDemoDashboardContent(t,e,a,i,o)+"</div></div></div>"+dashboardFooterContent()+"</div>"+loaderContent();$("body").html(s),getCalendarDemoAvailability("timeAvailabilityPopup",i,"time-demo-calendar","","Week","","",USER_ROLE_ID,"0","0","0","0","0"),$("#timeDemoPreCalMonth").unbind("click").bind("click",(function(){var t=$("#timeDemoFirstDatePreMonth").val();getCalendarDemoAvailability("timeAvailabilityPopup",i,"time-demo-calendar",""+t,"Week","","",USER_ROLE_ID,"0","0","0","0","0")})),$("#timeDemoNextCalMonth").unbind("click").bind("click",(function(){var t=$("#timeDemoFirstDateNextMonth").val();getCalendarDemoAvailability("timeAvailabilityPopup",i,"time-demo-calendar",""+t,"Week","","",USER_ROLE_ID,"0","0","0","0","0")}))}function leadDemoDashboardContent(t,e,a,i,o){return'<div class="app-page-title mb-0 pb-4"><div class="page-title-wrapper"><div class="page-title-heading"><div class="page-title-icon"><i class="pe-7s-users text-primary"></i></div><div><div class="page-title-subheading">'+t+'</div></div></div></div></div><div class="main-card mb-3 card"><div class="card-body py-1"><div class="d-flex align-items-center check-top-header-touch flex-wrap"><span type="button" class="badge btn-info mr-1" style="font-size-12px">Booked Slots</span><span type="button" class="badge  btn-warning mr-1" style="font-size-12px">Available Slots</span><div role="group" class="ml-auto mr-auto btn-group-lg btn-group btn-group-toggle" data-toggle="buttons"><h3 class="d-flex align-items-center mb-0 position-relative"><button type="button" id="timeDemoPreCalMonth" class="btn-icon btn-pill btn calendar-tabs py-0"><i class="fa fa-angle-left" style="font-size:25px"></i> </button><span id="timeDemoCalMonthYear" class="font-size-lg calendar-tabs "></span><button type="button" id="timeDemoNextCalMonth" class="btn-icon btn-pill btn calendar-tabs"><i class="fa fa-angle-right" style="font-size:25px"></i> </button></h3></div></div><div class="row"><input type="hidden" name="weekCount" id="weekCount" value="" /><input type="hidden" name="monthCount" id="monthCount" value="1" /><input type="hidden" name="timeDemoToDayDate" id="timeDemoToDayDate" value="" /><input type="hidden" name="timeDemoFirstDate" id="timeDemoFirstDate" value="" /><input type="hidden" name="timeDemoFirstDatePreMonth" id="timeDemoFirstDatePreMonth" value="" /><input type="hidden" name="timeDemoFirstDateNextMonth" id="timeDemoFirstDateNextMonth" value="" /><input type="hidden" name="timeDemoZoneId" id="timeDemoZoneId" value="" /><div id="time-demo-calendar" class="col-12 mb-1 mt-1 p-0 pb-2 not-radius overflow-y-auto" style="max-height:515px"></div></div></div></div>'}async function dashboardHeaderContent(){var t=await getSchoolSettingsLinks(SCHOOL_ID);return'<div class="sticky-header"><div class="app-header header-shadow"><div class="app-header__logo"><a href="'+t.schoolWebsite+'" target="blank" class="logo-src" style="background:url('+t.logoUrl+SCRIPT_VERSION+');"></a></div><div class="app-header__logo"></div></div></div>'}async function dashboardFooterContent(){var t=await getSchoolSettingsTechnical(SCHOOL_ID);return'<div class="app-wrapper-footer"><div class="app-footer"><div class="app-footer__inner"><div class="col"><p style="margin: 0">'+t.copyrightYear+" Â© "+t.copyrightUrl+'</p></div></div></div><div class="server-message"><span class="msg" id="msgTheme2"></span></div></div>'}function loaderContent(){var t='<div id="commonloaderIdNewLoader" class="loader-wrapper d-flex justify-content-center align-items-center loader-style hide-loader">';return 1==SCHOOL_ID?t+='\n\t\t\t\t<img src="'+PATH_FOLDER_IMAGE2+'loader-new.gif" alt="'+SCHOOL_NAME+' Loader" class="new-loader-2024" />\n\t\t\t':t+='<div class="ball-rotate"><div style="background-color: rgb(247, 185, 36);"></div></div><p>Loading ...</p>',t+=NaN}function getCalendarDemoAvailability(t,e,a,i,o,s,l,n,d,r,c,p,m){var v=!0;customLoader(!0);var h={userId:e,lUserId:USER_ID,startDate:i,slotType:o,slotDisplyType:"calendar",onlyCounts:"N"};return $.ajax({type:"POST",url:getURLFor("timeavailability","get-calendar-meeting-availability"),contentType:"application/json",data:JSON.stringify(h),dataType:"json",cache:!1,async:!0,timeout:6e5,success:function(i){if("0"==i.status||"2"==i.status)showMessage(!0,i.message),v=!1;else{$("#"+a).html("");var o=i.monthName+" - "+i.year;$("#timeDemoCalMonthYear").html(o),$("#timeDemoToDayDate").val(i.startDate),$("#timeDEmoFirstDate").val(i.firstDate),$("#timeDemoFirstDateNextMonth").val(i.firstDateNextMonth),$("#timeDemoFirstDatePreMonth").val(i.firstDatePreMonth);var s=getCalendarDemoAvailabilityTable(t,e,i);$("#"+a).html(s),v=!0}customLoader(!1)}}),v}function getCalendarDemoAvailabilityTable(t,e,a){console.log(a);var i=a.dayOfWeekVal,o=i,s=a.calendarDateList,l=a.timeSlotList,n="";if(n+='<table class="table table-bordered dt-responsive">',n+='<thead><tr class="text-uppercase ">',n+='<th style="top:0;left:0;z-index:1; width:5%" class="bold position-sticky bg-light"></th>',n+='<th style="top:0;left:0;z-index:1; width:10%" class="bold position-sticky bg-light">Sun</th>',n+='<th style="top:0;left:0;z-index:1; width:10%" class="bold position-sticky bg-light ">Mon</th>',n+='<th style="top:0;left:0;z-index:1; width:10%" class="bold position-sticky bg-light ">Tue</th>',n+='<th style="top:0;left:0;z-index:1; width:10%" class="bold position-sticky bg-light ">Wed</th>',n+='<th style="top:0;left:0;z-index:1; width:10%" class="bold position-sticky bg-light ">Thu</th>',n+='<th style="top:0;left:0;z-index:1; width:10%" class="bold position-sticky bg-light ">Fri</th>',n+='<th style="top:0;left:0;z-index:1; width:10%" class="bold position-sticky bg-light ">Sat</th>',n+="</tr>",n+="</thead>",n+="<tbody>",n+="<tr>",n+='<td style="top:0;left:0;z-index:1;" class="position-sticky">Time</td>',7!=i){o=i;for(let t=1;t<=i-1;t++)n+="<td></td>"}if(7==i)for(let t=1;t<=i-1;t++)n+="<td></td>";for(let t=0;t<s.length;t++){var d=s[t];callFreeSlotsForCounselor(d.toTimeZone,d.slotDate,d.weekDayId,5,"");var r="";if(r=0==d.isClick?"expired-date":1==d.available?"selected-date":"active-date",o<=7){var c="openCalendarMenuBtn(this, '"+d.day1+"')";n=1==d.isClick?n+'<td style="top:0;left:0;z-index:1;" class="border-top-4 td-bg-white text-right  position-relative position-sticky '+r+'"  data-week-day="'+d.slotDateId+'" id="week-date-'+t+'">':n+'<td style="top:0;left:0;z-index:1;" class="td-bg-gray text-right position-relative position-sticky '+r+'" data-week-day="'+d.slotDateId+'" id="week-date-'+t+'">',1==d.isClick&&"availability"==d.timeCategory?n=n+'<a href="javascript:void(0);" id="slotSelectDate'+d.day1+'"  onclick="'+c+'"  class="'+r+' d-inline-block">'+d.day1+"</a>":n+=d.day1,n+="</td>",o+=1}o>7&&(o=1,n+="</tr>")}n+="</tr>";for(let t=0;t<l.length;t++){var p=l[t];let e=convertTo24Hour(p);e=e.replace(":",""),n=(n+="<tr>")+'<td class="bold" style="font-size:12px;">'+p+"</td>";for(let t=0;t<s.length;t++){var m=s[t],v=m.calendarDemoList,h=parseInt(m.slotDateId+""+e);n=n+'<td id="'+m.slotDateId+e+'">',n+='<div class="d-flex flex-wrap mb-1">';for(let t=0;t<v.length;t++){const a=v[t];var b=parseInt(a.meetingdemoid);if(h>=b&&h<=b){let t=a.assignName.charAt(0).toUpperCase();n=(n=n+'<div class="dropdown float-left btn-'+m.slotDateId+e+'"> ')+'<button type="button"  aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" class="dropdown-toggle btn-info mr-1 cname-booking" style="font-size-11px">'+t+"</button>",n+='<div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu-lg dropdown-menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 33px, 0px);">',n+='<div class="popover-body">',n+='<div class="dropdown-menu-header">',n=(n+='<div class="bg-primary">')+'<div class="menu-header-content"><h6 class="menu-header-title">'+a.assignName+"</h6></div>",n+="</div>",n+="</div>",n=(n=(n=(n+='<ul class="nav flex-column">')+'<li class="nav-item"><b>Time:</b> '+a.startTime+" - "+a.endtime+"</li>")+'<li class="nav-item"><b>Lead No:</b> '+a.leadNo+"</li>")+'<li class="nav-item"><b>Demo With:</b> '+a.leadName+"</li>",n+="</ul>",n+="</div>",n+="</div>",n+="</div>"}}n=(n+="</div>")+'<div class="d-flex flex-wrap" id="div'+m.slotDateId+e+'"></div>',n+="</td>"}n+="</tr>"}return n+="</tbody>  ",n+="</table>"}function callFreeSlotsForCounselor(t,e,a,i,o){var s={};s.timezone=t,s.visitDate=e,s.dayId=a,s.eventId=i,s.userId=o,console.log(s),$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("timeavailability","get-slots-to-book-event"),data:JSON.stringify(s),dataType:"json",global:!1,async:!0,success:function(t){if(console.log(t),"0"==t.status||"2"==t.status||"3"==t.status)"3"==t.status?redirectLoginPage():showMessageTheme2(0,t.message,"",!0);else{t.slotList.length>=1&&$.each(t.slotList,(function(t,e){e.length>0&&$.each(e,(function(t,e){var a=[];$("#"+e.meetingDateId+" .btn-"+e.meetingDateId).each((function(t,e){a.push($(e).find(".cname-booking").text())}));var i="";let o=e.counselorName.charAt(0).toUpperCase();0==a.filter((t=>t===o)).length&&(i=(i+='<div class="dropdown float-left"> ')+'<button type="button"  aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" class="dropdown-toggle btn-warning mr-1" style="font-size:11px">'+o+"</button>",i+='<div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu-lg dropdown-menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 33px, 0px);">',i+='<div class="popover-body">',i+='<div class="dropdown-menu-header">',i=(i+='<div class="bg-warning">')+'<div class="menu-header-content"><h6 class="menu-header-title">'+e.counselorName+"</h6></div>",i+="</div>",i+="</div>",i+="</div>",i+="</div>",i+="</div>",$("#div"+e.meetingDateId).append(i))}))})),customLoader(!1)}},error:function(t){checkonlineOfflineStatus()||(showMessage(!0,t.responseText),customLoader(!1))}})}