function getRequestForUpdateProfile(e,t,a,s,l){var i={},r={},o={};if(o.studentStandardId=s,o.keyId=t,"employeeType"==t){if(""==$("#employeeTypeStartDate").val())return showMessageTheme2(0,"Please enter employee Type Start Date.","",!1),!1;o.employeeStartDate=$("#employeeTypeStartDate").val()}if("phoneNumber"==t||"alternatePhoneNumber"==t||"parentContact"==t||"alternateParentPhoneNumber"==t||"payPalPhoneNumber"==t){if($("#"+t).val().indexOf("-")>0)var n=$("#"+t).val().split("-")[1];else if(""==(n=$("#"+t).val()))return showMessageTheme2(2," Either field value is invalid or empty.","",!1),!1;o.fieldValue=escapeCharacters(n)}if("alternateEmail"==t){var d=$("#"+t).val();if(""==d||!validateEmail(d))return showMessageTheme2(2," Either field value is invalid or empty.","",!1),!1;o.fieldValue=d}if("specialization"==t||"preferredSubjectName"==t||"lastsubTaught"==t)o.fieldValue=$("#"+t).val().toString();else if("phoneNumber"==t)o.countryCode=$("#phoneCountryCode").val(),o.countryIsdCode=$("#phoneDailCode").val();else if("educationSpecialization"==t)o.fieldValue=$("#educationSpecialization").val();else if("alternatePhoneNumber"==t)o.countryCode=$("#alternateCountryCode").val(),o.countryIsdCode=$("#alternateDailCode").val();else if("parentContact"==t)o.countryCode=$("#parentPhoneCountryCode").val(),o.countryIsdCode=$("#parentPhoneDailCode").val();else if("alternateParentPhoneNumber"==t)o.countryCode=$("#alternateParentPhoneCountryCode").val(),o.countryIsdCode=$("#alternateParentPhoneDailCode").val();else if("payPalPhoneNumber"==t)o.countryCode=$("#payPalCountryCode").val(),o.countryIsdCode=$("#payPalDailCode").val();else if("countrySection"==t)o.countryId=$("#countryId").val(),o.stateId=$("#stateId").val(),o.cityId=$("#cityId").val();else if("countrySectionParent"==t)o.countryId=$("#pCountryId").val(),o.stateId=$("#pStateId").val(),o.cityId=$("#pCityId").val();else if("totalTeacheingExperience"==t)o.yearValue=$("#yearExp").val(),o.monthValue=$("#monthExp").val();else if("lastOrgGradeName"==t)$("#lastGradeK").val().length>0?o.fieldValue=$("#lastGradeK").val().toString():$("#lastGradeM").val().length>0?o.fieldValue=$("#lastGradeM").val().toString():$("#lastGradeH").val().length>0&&(o.fieldValue=$("#lastGradeH").val().toString());else if("preferredGradeName"==t)$("#prefGradeK").val().length>0?o.fieldValue=$("#prefGradeK").val().toString():$("#prefGradeM").val().length>0?o.fieldValue=$("#prefGradeM").val().toString():$("#prefGradeH").val().length>0&&(o.fieldValue=$("#prefGradeH").val().toString());else if("otherRelation"==t||"relationType"==t)o.fieldValue=$("#relationType").val(),o.fieldValue1=toTitleCase($("#otherRelation").val());else if("parentEmailSmsLmsCreation"==t)o.fieldValue=encode($("#parentPassword").val());else if("pEmailOtp"==t)o.fieldValue=$("#parentEmailId").val().trim();else if("pEmailOtpVerify"==t)o.fieldValue=$("#parentEmailId").val().trim(),o.fieldValue1=$("#otp").val();else if("pStudEmailMappedVerify"==t)o.fieldValue=$("#parentEmailId").val().trim(),o.fieldValue1=$("#verifyMailId").val().trim();else if("parentEmailLmsCreation"==t)o.fieldValue=$("#parentEmailId").val().trim();else if("switchParentStudEmailId"==t)o.fieldValue=$("#swipeParentId").val().trim(),o.fieldValue1=$("#studID option:selected ").attr("attrStudentEmail").trim(),o.studUserId=$("#studID").val(),o.parentId=$("#swipeParentId").attr("attrparentid");else if("preferredcommunication"==t){var c=$("#pcWhatsapp").is(":checked")?"Y":"N",p=$("#pcCall").is(":checked")?"Y":"N",u=$("#pcEmail").is(":checked")?"Y":"N";fieldValue="W="+c+"|C="+p+"|E="+u,o.fieldValue=fieldValue}else o.fieldValue="firstName"==t||"middleName"==t||"lastName"==t||"pFirstName"==t||"pMiddleName"==t||"pLastName"==t||"lastOrgName"==t||"lastJobTitle"==t||"address"==t||"otherSkills"==t||"designation"==t||"departmentId"==t||"acPersonName"==t||"bankName"==t||"bankBranchName"==t||"bankBranchAddress"==t||"otherBankDetails"==t||"otherProfessionalCourse"==t||"otherSpecialization"==t||"anyOtherLanguages"==t||"references1"==t||"references2"==t||"specialization"==t||"postGraduationSubjects"==t||"graduationSubjects"==t?escapeCharacters($("#"+t).val()):"describeYourself"==t||"lastOrgJobDiscription"==t?escapeCharacters(toSentenceCase($("#"+t).val())):escapeCharacters($("#"+t).val());return r.hash=getHash(),r.schoolId=SCHOOL_ID,r.schoolUUID=SCHOOL_UUID,r.userType=l,r.userId=a,i.authentication=r,i.requestProfileData=o,i}function validateFields(e,t){if("phoneNumber"==e){if(""==t||null==t)return showMessageTheme2(0,"Contact number is mandatory.","",!1),!1}else if("gender"==e||"parentGender"==e){if(""==t||null==t||0==t)return showMessageTheme2(0,"Please choose gender.","",!1),!1}else{if("Select Nationality"==t)return showMessageTheme2(0," Please choose nationality to proceed.","",!1),!1;if("admissonDate"==e||"joiningDate"==e){if(""==t||null==t||0==t)return showMessageTheme2(0,"Either field value is invalid or empty.","",!1),!1}else if("dob"==e){if(""==t||null==t||0==t)return showMessageTheme2(0,"Either field value is invalid or empty.","",!1),!1}else if("countrySection"==e){if(null==$("#countryId").val()||0==$("#countryId").val()||""==$("#countryId").val())return showMessageTheme2(0," Please choose country to proceed.","",!1),!1;if(null==$("#stateId").val()||0==$("#stateId").val()||""==$("#stateId").val())return showMessageTheme2(0,"Please choose state to proceed.","",!1),!1;if(null==$("#cityId").val()||0==$("#cityId").val()||""==$("#cityId").val())return showMessageTheme2(0,"Please choose city to proceed.","",!1),!1}else if("countrySectionParent"==e){if(null==$("#pCountryId").val()||0==$("#pCountryId").val()||""==$("#pCountryId").val())return showMessageTheme2(0," Please choose country to proceed.","",!1),!1;if(null==$("#pStateId").val()||0==$("#pStateId").val()||""==$("#pStateId").val())return showMessageTheme2(0,"Please choose state to proceed.","",!1),!1;if(null==$("#pCityId").val()||0==$("#pCityId").val()||""==$("#pCityId").val())return showMessageTheme2(0,"Please choose city to proceed.","",!1),!1}else if("totalTeacheingExperience"==e){if(null==$("#yearExp").val()||""==$("#yearExp").val()||0==$("#yearExp").val())return showMessageTheme2(0,"Please select total teaching experience in month.","",!1),!1}else if("preferredGradeName"==e){if(0==$("#prefGradeK").val().length&&0==$("#prefGradeM").val().length&&0==$("#prefGradeH").val().length)return showMessageTheme2(0,"Please select preferred grades.","",!1),!1}else if("lastOrgGradeName"==e){if(0==$("#lastGradeK").val().length&&0==$("#lastGradeM").val().length&&0==$("#lastGradeH").val().length)return showMessageTheme2(0,"Please select current/Last Organization grades.","",!1),!1}else if("specialization"==e){if(0==$("#specialization").val().length)return showMessageTheme2(0,"Please select specialization subjects.","",!1),!1}else if("preferredSubjectName"==e){if(0==$("#preferredSubjectName").val().length)return showMessageTheme2(0,"Please select Preferred Courses.","",!1),!1}else if("lastsubTaught"==e){if(0==$("#lastsubTaught").val().length)return showMessageTheme2(0,"Please select Courses Taught.","",!1),!1}else if("emailId"==e||"altEmailId"==e||"alternateEmail"==e||"parentEmailId"==e||"offEmailId"==e||"payPalEmail"==e){if(!validateEmail($("#"+e).val()))return showMessageTheme2(0,"Email is either empty or invalid.","",!1),!1}else if("otherRelation"==e||"relationType"==e){if("Other"==$("#relationType").val()&&(""==$("#otherRelation").val()||null==$("#otherRelation").val()))return showMessageTheme2(0,"Please Enter relation type.","",!1),!1}else if("sendUserVerificationEmail"==e||"verifyUserEmail"==e||"pMiddleName"==e||"middleName"==e||"pLastName"==e||"lastName"==e||"switchParentStudEmailId"==e||"reserveASeat"==e||"bookASeatNextGradeOpted"==e||"advanceGradeOpted"==e);else if("parentEmailSmsLmsCreation"==e){if(!validPassword($("#parentPassword").val()))return showMessageTheme2(0,"Please Enter parent password.","",!1),!1;if(!validPassword($("#confirmPassword").val()))return showMessageTheme2(0,"Please Enter parent confirm password.","",!1),!1;if($("#parentPassword").val().trim()!=$("#confirmPassword").val().trim())return showMessageTheme2(0,"Password and Confirm Password do not match.","",!1),!1;var a=$("#parentPassword").val();if(null!=a&&!pattern.test(a))return showMessageTheme2(0,"Passwords must match all requirements.","",!1),!1}else if("parentEmailLmsCreation"==e){if(!validateEmail($("#parentEmailId").val()))return showMessageTheme2(0,"Email is either empty or invalid.","",!1),!1}else if("pEmailOtp"==e){if(!validateEmail($("#parentEmailId").val()))return showMessageTheme2(0,"Email is either empty or invalid.","",!1),!1}else if("pEmailOtpVerify"==e){if(!validateEmail($("#parentEmailId").val()))return showMessageTheme2(0,"Email is either empty or invalid.","",!1),!1;if(null==$("#otp").val()||""==$("#otp").val())return showMessageTheme2(0,"Either Otp value is invalid or empty.","",!1),!1}else if("pStudEmailMappedVerify"==e){if(!validateEmail($("#parentEmailId").val()))return showMessageTheme2(0,"Email is either empty or invalid.","",!1),!1;if(!validateEmail($("#verifyMailId").val()))return showMessageTheme2(0,"Email is either empty or invalid.","",!1),!1}else if(""==t||null==t||0==t)return showMessageTheme2(0,"Either field value is invalid or empty.","",!1),!1}return!0}function verifyUser(e,t,a,s){console.log("inside verifyUser function ");var l={};l.status=e,l.userId=t,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","verify-unverify-user-profile"),data:JSON.stringify(l),dataType:"json",success:function(t){return console.log("response data is:",t),"0"==t.status||"2"==t.status?showMessageTheme2(0,t.message,"",!1):("verify"==e?($("#unverifyStatus").addClass("d-inline-block"),$("#verifyStatus").addClass("d-none"),$("#verifyStatus").removeClass("d-inline-block")):($("#unverifyStatus").addClass("d-none"),$("#unverifyStatus").removeClass("d-inline-block"),$("#verifyStatus").addClass("d-inline-block")),showMessageTheme2(1,t.message,"",!1)),!1}})}function applyChanges(e,t,a,s,l,i,r){if(!getSession())return showMessageTheme2(0,"Your session has been timed out, please login again","",!1),redirectLoginPage(),!1;var o=$(e).parent().find(".field-input").val();if("firstName"==t||"middleName"==t||"lastName"==t||"pFirstName"==t||"pMiddleName"==t||"pLastName"==t||"lastOrgName"==t||"lastJobTitle"==t||"address"==t||"otherSkills"==t||"designation"==t||"departmentId"==t||"acPersonName"==t||"bankName"==t||"bankBranchName"==t||"bankBranchAddress"==t||"otherBankDetails"==t||"otherProfessionalCourse"==t||"otherSpecialization"==t||"anyOtherLanguages"==t||"references1"==t||"references2"==t||"specialization"==t||"postGraduationSubjects"==t||"graduationSubjects"==t||"educationSpecialization"==t);else if("describeYourself"==t||"lastOrgJobDiscription"==t);else if("countryTimezoneId"!=t||r){if("preferredcommunication"==t){var n=$("#pcWhatsapp").is(":checked")?"Y":"N",d=$("#pcCall").is(":checked")?"Y":"N",c=$("#pcEmail").is(":checked")?"Y":"N";if("Y"!=n&&"Y"!=d&&"Y"!=c)return showMessageTheme2(0,"Your preferred communication is required","",!1),!1;o="W="+n+"|C="+d+"|E="+c}}else o=e;if(r){if("countryTimezoneId"==t&&"student"==i)return showWarningMessageShow("You are about to change the timezone of the user. Please note that all future booked classes of the user will be updated to the new timezone.","applyChanges('"+o+"','"+t+"','"+a+"','"+s+"','"+l+"','"+i+"',false)",!1),!1;if("countryTimezoneId"==t&&"teacher"==i)return showWarningMessageShow("You are about to change the timezone of the teacher. Please note that all future classes of the teacher (recurring and normal) in the old time zone will be updated to the new timezone.","applyChanges('"+o+"','"+t+"','"+a+"','"+l+"','"+i+"',false)",!1),!1}if(console.log("Field Value",o),hideMessageTheme2(""),!validateFields(t,o))return!1;$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","update-user-profile-content"),data:JSON.stringify(getRequestForUpdateProfile(e,t,a,s,i)),dataType:"json",success:function(a){if(console.log("response data is:",a),"0"==a.status||"2"==a.status)showMessageTheme2(0,a.message,"",!1);else{if("phoneNumber"==t||"alternatePhoneNumber"==t||"parentContact"==t||"alternateParentPhoneNumber"==t||"payPalPhoneNumber"==t){var s="";"phoneNumber"==t?s=$("#phoneDailCode").val()+"-":"alternatePhoneNumber"==t?s=$("#alternateDailCode").val()+"-":"parentContact"==t?s=$("#parentPhoneDailCode").val()+"-":"alternateParentPhoneNumber"==t?s=$("#alternateParentPhoneDailCode").val()+"-":"payPalPhoneNumber"==t&&(s=$("#payPalDailCode").val()+"-"),console.log("Isd Code",s),$(e).removeClass("visible").parent().find(".edit-field-btn").show(),$(e).parent().find(".field-value").removeClass("hide-value").text(s+o),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).parent().find(".cancel-field-btn").removeClass("visible")}else if("preferredcommunication"==t)$(e).removeClass("visible").parent().find(".edit-field-btn").show(),$(e).parent().find(".field-value").removeClass("hide-value").text(o),$(e).parent().find(".cancel-field-btn").removeClass("visible");else if("gender"==t||"parentGender"==t){if("DONOTWANTTOSPECIFY"==o&&(o="Don't want to specify"),$(e).removeClass("visible").parent().find(".edit-field-btn").show(),$(e).parent().find(".field-value").removeClass("hide-value").text(o),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),0==$("#isProfileUplaoded").val()&&"gender"==t){var l="Profile-picture.jpg";"DONOTWANTTOSPECIFY"==o?(o="Don't want to specify",l="Profile-picture.jpg"):"MALE"==o?l="male-profile.png":"FEMALE"==o&&(l="female-profile.png"),$(".profile-pic").attr("src",PATH_FOLDER_IMAGE2+l),$("#dropDownProfileImage").attr("src",PATH_FOLDER_IMAGE2+l),$("#topProfileImage").attr("src",PATH_FOLDER_IMAGE2+l)}}else if("countrySection"==t)$(".countryName").text($("#countryId option:selected").text()).removeClass("hide-value"),$(".cityName").text($("#cityId option:selected").text()).removeClass("hide-value"),$(".stateName").text($("#stateId option:selected").text()).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show(),$(".save-country").addClass("d-none");else if("studyingGradeId"==t)$(".studyingGradeName").text($("#studyingGradeId option:selected").text()).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show();else if("countryIdOfSchool"==t)$(".countryNameOfSchool").text($("#countryIdOfSchool option:selected").text()).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show();else if("countrySectionParent"==t)$(".countryNameParent").text($("#pCountryId option:selected").text()).removeClass("hide-value"),$(".cityNameParent").text($("#pCityId option:selected").text()).removeClass("hide-value"),$(".stateNameParent").text($("#pStateId option:selected").text()).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show(),$(".save-country-Parent").addClass("d-none");else if("admissonDate"==t){var i=$("#admissonDate").val();$(".admissionViewDate").text(i).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show()}else if("dob"==t){i=$("#dob").val();$(".dobViewDate").text(i).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show()}else if("reserveASeat"==t)$(".reserveASeatName").text($("#reserveASeat option:selected").text()).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show();else if("bookASeatNextGradeOpted"==t)hidePermissionAndApprovalModal(),$(".reserveASeatNextGradeName").text($("#bookASeatNextGradeOpted option:selected").text()).removeClass("hide-value"),$("#"+e).parent().find(".cancel-field-btn").removeClass("visible"),$("#"+e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$("#"+e).removeClass("visible").parent().find(".edit-field-btn").show(),"Yes"==$("#bookASeatNextGradeOpted option:selected").text()?($(".advanceNextGradeName").html("No"),$("#advanceGradeOpted").val("0")):$("#bookASeatNextGradeOpted option:selected").text();else if("advanceGradeOpted"==t)hidePermissionAndApprovalModal(),$(".advanceNextGradeName").text($("#advanceGradeOpted option:selected").text()).removeClass("hide-value"),$("#"+e).parent().find(".cancel-field-btn").removeClass("visible"),$("#"+e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$("#"+e).removeClass("visible").parent().find(".edit-field-btn").show(),"Yes"==$("#bookASeatNextGradeOpted option:selected").text()?($(".reserveASeatNextGradeName").html("No"),$("#bookASeatNextGradeOpted").val("0")):$("#bookASeatNextGradeOpted option:selected").text();else if("specialization"==t)$(".specilZViewSubject").text(a.extra).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show();else if("totalTeacheingExperience"==t)$(".totalTeacheingExpView").text(a.extra).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show();else if("preferredSubjectName"==t)$(".preferredSubjectNameView").text(a.extra).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show();else if("lastsubTaught"==t)$(".lastsubTaughtView").text(a.extra).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show();else if("lastOrgGradeName"==t)$(".lastOrgGradeNameView").text(a.extra).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show();else if("preferredGradeName"==t)$(".prefGradeNameView").text(a.extra).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show();else if("departmentId"==t)$(".departmentNameView").text($("#"+t).val()).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show();else if("countryTimezoneId"==t)$(".countryTimezoneView").text(a.extra).removeClass("hide-value"),$(".timeZoneSavedStatus").text(""),$(".cancel-field-btn").removeClass("visible"),$(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(".save-field-btn").removeClass("visible").parent().find(".edit-field-btn").show();else if("designation"==t)$(".designationView").text($("#"+t).val()).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show();else if("otherRelation"==t||"relationType"==t){var r="";r="Other"==$("#relationType").val()?toTitleCase($("#otherRelation").val()):$("#relationType").val(),$(".relationTypeView").text(r).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show(),$(".otherRelationDiv").hide()}else if("joiningDate"==t){i=(i=$("#joiningDate").val()).split("-");var n=new Date(i[0]+"/"+i[1]+"/"+i[2]).toString().split(" ");$(".joiningDateView").text(n[1]+", "+n[2]+" "+n[3]).removeClass("hide-value"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".field-input").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show()}else if("employeeType"==t){var d=$("#employeeTypeStartDate").val();d=d.split("-");n=new Date(d[0]+"/"+d[1]+"/"+d[2]).toString().split(" ");var c=$("#employeeType").val();$(".employee_type").text(c).removeClass("hide-value"),$(".employee_type_start_date").text(n[1]+", "+n[2]+" "+n[3]),$(e).parent().find(".field-value").removeClass("hide-value"),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).removeClass("visible").parent().find(".edit-field-btn").show()}else"parentEmailId"==t?"ST001"==a.statusCode?($(".stu-confirmation").show(),$("#studentEmailId").html(a.extra),$(".parentCreationCheck").css("display","none"),$(".parentLmsCreationCheck").css("display","none"),$(".parentOtpcheck").css("display","none"),$(e).parent().find(".field-value").removeClass("hide-value").text(o),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".save-field-btn").removeClass("visible"),$(e).parent().find(".edit-field-btn").removeClass("visible")):"ST002"==a.statusCode?($(".parentCreationCheck").css("display","none"),$(".parentLmsCreationCheck").css("display","none"),$(".parentEmailswipe").css("display","none"),$(".parentOtpcheck").css("display","none"),$(".parentOtpcheck").css("display","block"),$(e).parent().find(".field-value").removeClass("hide-value").text(o),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).parent().find(".cancel-field-btn").removeClass("visible"),$(e).parent().find(".save-field-btn").removeClass("visible"),$(e).parent().find(".edit-field-btn").removeClass("visible")):($(".parentOtpcheck").css("display","none"),$(".parentCreationCheck").css("display","none"),$(".parentLmsCreationCheck").css("display","none"),$(".parentEmailswipe").css("display","none"),"N"==a.extra?$(".parentCreationCheck").css("display","block"):"N"==a.extra1&&$(".parentLmsCreationCheck").css("display","block"),$(e).removeClass("visible").parent().find(".edit-field-btn").show(),$(e).parent().find(".field-value").removeClass("hide-value").text(o),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).parent().find(".cancel-field-btn").removeClass("visible")):"parentEmailSmsLmsCreation"==t?($(".parentSmsCreatedView").text("Yes").removeClass("hide-value"),$(".parentLmsCreatedView ").text("Yes").removeClass("hide-value"),"Y"==a.extra?$(".parentLmsStatusView").text("Active").removeClass("hide-value"):$(".parentLmsStatusView").text("Inactive").removeClass("hide-value"),$(".parentCreationCheck").css("display","none"),$(".separate-user-for-parent").slideUp()):"parentEmailLmsCreation"==t?($(".parentSmsCreatedView").text("Yes").removeClass("hide-value"),$(".parentLmsCreatedView ").text("Yes").removeClass("hide-value"),"Y"==a.extra?$(".parentLmsStatusView").text("Active").removeClass("hide-value"):$(".parentLmsStatusView").text("Inactive").removeClass("hide-value"),$(".parentLmsCreationCheck").css("display","none"),$(".separate-lms-user-for-parent").css("display","none")):"pEmailOtp"==t||("pEmailOtpVerify"==t?($(".parentOtpcheck").css("display","none"),$(".parentCreationCheck").css("display","block")):"pStudEmailMappedVerify"==t?($(".stu-confirmation").hide(),$(".parentOtpcheck").css("display","none"),$(".parentCreationCheck").css("display","none"),$(".parentLmsCreationCheck").css("display","none"),$(".parentEmailswipe").css("display","none"),"N"==a.extra?$(".parentCreationCheck").css("display","block"):"N"==a.extra1&&$(".parentLmsCreationCheck").css("display","block")):"switchParentStudEmailId"==t?($("#studID").prop("disabled",!1),$("#updatedStudEmail").text(""),$("#updatedParentEmail").text(""),$(".swap-Id-Wrapper").addClass("d-none"),$(".studParntswipedata").css("display","none"),$("#switchParentEmail").prop("checked",!1),$("#parentEmailId").removeClass("visible").parent().find(".edit-field-btn").show(),"1"==a.statusCode&&$(".emailIdView").text(a.extra).removeClass("hide-value"),$("#swipeParentId").val(a.extra1),$(".parentEmailswipe").css("display","none"),$(".parentEmailIdView").text(a.extra1).removeClass("hide-value")):($(e).removeClass("visible").parent().find(".edit-field-btn").show(),"sendUserVerificationEmail"==t||"verifyUserEmail"==t?($(e).parent().find(".field-value").removeClass("hide-value").html(o+'<i class="fa fa-check text-success ml-2"></i>'),window.location.reload()):$(e).parent().find(".field-value").removeClass("hide-value").text(o),$(e).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible"),$(e).parent().find(".cancel-field-btn").removeClass("visible")));"ST001"==a.statusCode||showMessageTheme2(1,a.message,"",!1)}return!1}})}function reserveAndEnrollmentSeat(e){return e}function changeSelect(e){$(".multiselectDropdown").select2({theme:"bootstrap4",placeholder:"Select an option"}).change((function(e){e.preventdefault,$(".multiselectDropdown :selected").length>0?($("#middleSchool select").prop("disabled",!0),$("#highSchool select").prop("disabled",!0)):($("#middleSchool select").prop("disabled",!1),$("#highSchool select").prop("disabled",!1))})),$(".multiselectDropdown1").select2({theme:"bootstrap4",placeholder:"Select an option"}).change((function(e){e.preventdefault,$(".multiselectDropdown1 :selected").length>0?($("#kindergarten select").prop("disabled",!0),$("#highSchool select").prop("disabled",!0)):($("#kindergarten select").prop("disabled",!1),$("#highSchool select").prop("disabled",!1))})),$(".multiselectDropdown2").select2({theme:"bootstrap4",placeholder:"Select an option"}).change((function(e){e.preventdefault,$(".multiselectDropdown2 :selected").length>0?($("#kindergarten select").prop("disabled",!0),$("#middleSchool select").prop("disabled",!0)):($("#kindergarten select").prop("disabled",!1),$("#middleSchool select").prop("disabled",!1))})),$(".multiselectDropdown3").select2({theme:"bootstrap4",placeholder:"Select an option"}).change((function(e){e.preventdefault,$(".multiselectDropdown3 :selected").length>0?($("#currentMiddleSchool select").prop("disabled",!0),$("#currentHighSchool select").prop("disabled",!0)):($("#currentMiddleSchool select").prop("disabled",!1),$("#currentHighSchool select").prop("disabled",!1))})),$(".multiselectDropdown4").select2({theme:"bootstrap4",placeholder:"Select an option"}).change((function(e){e.preventdefault,$(".multiselectDropdown4 :selected").length>0?($("#currentKindergartenSchool select").prop("disabled",!0),$("#currentHighSchool select").prop("disabled",!0)):($("#currentKindergartenSchool select").prop("disabled",!1),$("#currentHighSchool select").prop("disabled",!1))})),$(".multiselectDropdown5").select2({theme:"bootstrap4",placeholder:"Select an option"}).change((function(e){e.preventdefault,$(".multiselectDropdown5 :selected").length>0?($("#currentKindergartenSchool select").prop("disabled",!0),$("#currentMiddleSchool select").prop("disabled",!0)):($("#currentKindergartenSchool select").prop("disabled",!1),$("#currentMiddleSchool select").prop("disabled",!1))})),$("#"+e).find(".select2").addClass("visible")}function getCompulsorySubjectByUserId(e){$.ajax({type:"GET",contentType:"application/json",url:getURLForHTML("dashboard","get-compulsory-subjects?userId="+e),dataType:"json",success:function(e){var t='<div class="Profile-field-row"><p class="m-0"><b>Courses ('+$("#standardId option:selected").text()+')</b></p><div class="scroll-course-list scrollbar-container ps"><ol class="ml-0">';$.each(e.subjects,(function(e,a){t+="<li>"+a.subject+"</li>"})),t+='</ol><div class="ps__rail-x" style="left: 0px; bottom: 0px;"><div class="ps__thumb-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps__rail-y" style="top: 0px; right: 0px;"><div class="ps__thumb-y" tabindex="0" style="top: 0px; height: 0px;"></div></div></div></div>',$(".compulsorySubjectsdiv").html(t)}})}function getBankDetailsByUserId(e,t){$.ajax({type:"GET",contentType:"application/json",url:getURLForHTML("dashboard","bank-details/"+e),dataType:"json",success:function(a){var s=JSON.parse(a.bankDetails);$("#profileViewOnlyContent").html(teacherBankDetailsView(s)),t&&$("#teacherProfileContentDiv").after(teacherBankDetialsContent(s,e)),$("#accountHolderCountryId").unbind().bind("change",(function(){$("#accountHolderCountryId").valid(),callStates("bankDetailsForm",this.value,"accountHolderCountryId","accountHolderStateId","accountHolderCityId"),$("#accountHolderCityId").html("<option value=''>Select City*</option>")})),$("#accountHolderStateId").unbind().bind("change",(function(){$("#accountHolderStateId").valid(),callCities("bankDetailsForm",this.value,"accountHolderStateId","accountHolderCityId")})),$("#accountHolderCityId").unbind().bind("change",(function(){$("#accountHolderCityId").valid()})),$("#bankCountryId").unbind().bind("change",(function(){$("#bankCountryId").valid(),callStates("bankDetailsForm",this.value,"bankCountryId","bankStateId","bankCityId"),$("#bankCityId").html("<option value=''>Select City*</option>")})),$("#bankStateId").unbind().bind("change",(function(){$("#bankStateId").valid(),callCities("bankDetailsForm",this.value,"bankStateId","bankCityId")})),$("#bankCityId").unbind().bind("change",(function(){$("#bankCityId").valid()}))}})}function updateBankDetails(e,t){if(""==$("#"+e+" #accountCurrency").val())return showMessageTheme2(0,"Please choose account currency.","",!0),!1;if(""==$("#"+e+" #accountNumber").val())return showMessageTheme2(0,"Account number can't blank.","",!0),!1;if(""==$("#"+e+" #accountCategory").val())return showMessageTheme2(0,"Please choose account type.","",!0),!1;if(""==$("#"+e+" #accountHolderFirstName").val())return showMessageTheme2(0,"Account holder first name can't blank.","",!0),!1;if(""==$("#"+e+" #accountHolderLastName").val())return showMessageTheme2(0,"Account holder last name can't blank.","",!0),!1;if(""==$("#"+e+" #accountHolderAddress").val())return showMessageTheme2(0,"Account holder address can't blank.","",!0),!1;if(null==$("#"+e+" #accountHolderCountryId").val()||""==$("#"+e+" #accountHolderCountryId").val())return showMessageTheme2(0,"Please choose account holder country.","",!0),!1;if(null==$("#"+e+" #accountHolderStateId").val()||""==$("#"+e+" #accountHolderStateId").val())return showMessageTheme2(0,"Please choose account holder state.","",!0),!1;if(null==$("#"+e+" #accountHolderCityId").val()||""==$("#"+e+" #accountHolderCityId").val())return showMessageTheme2(0,"Please choose account holder city.","",!0),!1;if(""==$("#"+e+" #accountHolderPostal").val())return showMessageTheme2(0,"Account holder postal code can't blank.","",!0),!1;if(""==$("#"+e+" #accountHolderPhone").val())return showMessageTheme2(0,"Account holder phone number can't blank.","",!0),!1;if(!validateEmail($("#"+e+" #accountHolderEmail").val()))return showMessageTheme2(0,"Account holder Email can't blank.","",!0),!1;if(""==$("#"+e+" #bankName").val())return showMessageTheme2(0,"Bank name can't blank.","",!0),!1;if(""==$("#"+e+" #bankBranchName").val())return showMessageTheme2(0,"Bank branch name can't blank.","",!0),!1;if(""==$("#"+e+" #bankBranchAddress").val())return showMessageTheme2(0,"Bank branch address can't blank.","",!0),!1;if(null==$("#"+e+" #bankCountryId").val()||""==$("#"+e+" #bankCountryId").val())return showMessageTheme2(0,"Please choose bank country.","",!0),!1;if(null==$("#"+e+" #bankStateId").val()||""==$("#"+e+" #bankStateId").val())return showMessageTheme2(0,"Please choose bank state.","",!0),!1;if(null==$("#"+e+" #bankCityId").val()||""==$("#"+e+" #bankCityId").val())return showMessageTheme2(0,"Please choose bank city.","",!0),!1;if(""==$("#"+e+" #bankPostal").val())return showMessageTheme2(0,"Bank postal code can't blank.","",!0),!1;if(""==$("#"+e+" #fileupload5Span").html()||"No file Selected*"==$("#"+e+" #fileupload5Span").html())return showMessageTheme2(0,"Upload document for Address Proof.","",!0),!1;if(""==$("#"+e+" #fileupload6Span").html()||"No file Selected*"==$("#"+e+" #fileupload6Span").html())return showMessageTheme2(0,"Please upload Passport.","",!0),!1;return $.ajax({type:"POST",url:getURLForHTML("dashboard","save-bank-details"),data:JSON.stringify(getRequestForBankDetails(e,t)),dataType:"json",contentType:"application/json",async:!1,success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?(showMessageTheme2(0,e.message,"",!1),"3"==e.status&&redirectLoginPage()):(showMessageTheme2(1,e.message,"",!1),getBankDetailsByUserId(USER_ID,!1))}}),!1}function getRequestForBankDetails(e,t){var a={};return a.userId=t,a.accountType="BANK_ACCOUNT",a.accountCurrency=$("#"+e+" #accountCurrency").val(),a.accountNumber=$("#"+e+" #accountNumber").val(),a.iban=$("#"+e+" #iban").val(),a.accountCategory=$("#"+e+" #accountCategory").val(),a.accountHolderFirstName=toTitleCase($("#"+e+" #accountHolderFirstName").val()),a.accountHolderMiddleName=toTitleCase($("#"+e+" #accountHolderMiddleName").val()),a.accountHolderLastName=toTitleCase($("#"+e+" #accountHolderLastName").val()),a.accountHolderAddress=toTitleCase($("#"+e+" #accountHolderAddress").val()),a.accountHolderCountryId=$("#"+e+" #accountHolderCountryId").val(),a.accountHolderStateId=$("#"+e+" #accountHolderStateId").val(),a.accountHolderCityId=$("#"+e+" #accountHolderCityId").val(),a.accountHolderPostal=$("#"+e+" #accountHolderPostal").val(),a.accountHolderPhone=$("#"+e+" #accountHolderPhone").val(),a.accountHolderEmail=$("#"+e+" #accountHolderEmail").val(),a.bankName=toTitleCase($("#"+e+" #bankName").val()),a.bankBranchName=toTitleCase($("#"+e+" #bankBranchName").val()),a.bankBranchAddress=escapeCharacters(toTitleCase($("#"+e+" #bankBranchAddress").val())),a.bankCountryId=$("#"+e+" #bankCountryId").val(),a.bankStateId=$("#"+e+" #bankStateId").val(),a.bankCityId=$("#"+e+" #bankCityId").val(),a.bankPostal=$("#"+e+" #bankPostal").val(),a.swiftCode=$("#"+e+" #swiftCode").val(),a.bankIfsc=$("#"+e+" #bankIfsc").val(),a.routeNumber=$("#"+e+" #routeNumber").val(),a.accountNumber=$("#"+e+" #accountNumber").val(),a.otherDetails=toSentenceCase($("#"+e+" #otherDetails").val()),a.payPalEmail=$("#"+e+" #paypalEmailId").val(),a}function saveDocs(e,t,a){$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","save-docs"),data:JSON.stringify(getAllDataAndRecords(e,t)),dataType:"json",async:!1,success:function(e){if("0"==e.status||"2"==e.status||"3"==e.status)"3"==e.status?(showMessageTheme2(0,e.MESSAGE,"",!0),redirectLoginPage()):"theme1"==tt?showMessage(!1,e.MESSAGE):showMessageTheme2(0,e.MESSAGE,"",!0);else{$.each(e.LIST_OF_DOC,(function(t,a){a.DOCUMENT_PATH.split(".").pop();"pdf"!=e.LIST_OF_DOC[t].DOCUMENT_PATH.split(".").pop()?($("#"+a.IMG_ID).parent().parent().find(".upload-btn-wrapper").hide(),"STUDENT"==USER_ROLE&&$("#"+a.IMG_ID).parent().parent().find(".removeDocBtn").hide()):($("#uploadFile .upload_pdf .pre_upload_pdf").remove(),$("#uploadFile .upload_pdf#pre_upload_pdf_div").append('<object type="application/pdf" class="pre_upload_pdf full" style="height: 400px;" data="'+e.LIST_OF_DOC[t].DOCUMENT_PATH+'"></object>'),$("#uploadFile .upload_pdf a.download-pdf-btn").attr("href",base64URL),$("#uploadFile .upload_pdf").removeClass("d-none"),$("#uploadFile .upload_img").addClass("d-none"),$("#"+a.IMG_ID).parent().parent().find(".upload-btn-wrapper").hide(),"STUDENT"==USER_ROLE&&$("#"+a.IMG_ID).parent().parent().find(".removeDocBtn").hide())})),$(".removeDocBtn").each((function(){if("display:none"==$(this).attr("style").replace(/\s/g,"")||"display:none;"==$(this).attr("style").replace(/\s/g,""))return $("#allDocsNotUploaded").show(),$("#allDocsUploaded").hide(),!1;$("#allDocsNotUploaded").hide(),$("#allDocsUploaded").show()})),"Profile Image"==a?showMessageTheme2(1,"Profile image uploaded successfully","",!0):(showMessageTheme2(1,"Document(s) uploaded","",!0),setTimeout((function(){customLoader(!0),window.location.reload()}),2e3))}},error:function(e){console.log(e)}})}function removeUploadImage(e,t,a,s,l){if("https"==$("#"+a).attr("src").split(":")[0]||"http"==$("#"+a).attr("src").split(":")[0]){var i={};i.userId=USER_ID,i.studentStandardId=l,i.type=s,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","delete-uploaded-docs"),data:JSON.stringify(i),dataType:"json",async:!1,success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():"theme1"==tt?showMessage(!1,e.MESSAGE):showMessageTheme2(0,e.MESSAGE,"",!0):showMessageTheme2(1,"Document(s) removed","",!0)},error:function(e){console.log(e)}})}for(var r=0;r<uploadDocs.length;r++)uploadDocs[r].docType===s&&(uploadDocs.splice(r,1),console.log(uploadDocs));$("#"+t).val(""),$("#"+a).attr("src",PATH_FOLDER_IMAGE2+"no-image.jpg"+SCRIPT_VERSION),$("#"+a).attr("thumbtype","img"),$("#"+t+"div").attr("data-base64url",PATH_FOLDER_IMAGE2+"no-image.jpg"+SCRIPT_VERSION),$("#"+t+"div").show(),$("#"+t+"Remove").hide(),$(".removeDocBtn").each((function(e){$(this).attr("style"),$("#allDocsNotUploaded").show(),$("#allDocsUploaded").hide()}))}function getAllDataAndRecords(e,t){var a={},s=uploadDocs;return a.userId=e,a.studentStandardId=t,a.documentUploads=s,a}function editPreferenceTime(e,t){e=removeLeadingZero("startTime",e),t=removeLeadingZero("endTime",t);var a=[],s=[];$("#preferedStartTime option").each((function(){a.push($(this).val())})),$("#viewTimePreferenceWrapper").hide(),$("#editTimePreferenceWrapper").show(),$("#editTimePreferenceWrapper .select2").addClass("visible"),$(".profile-wrapper #editTimePreferenceWrapper .select2").css({position:"inherit !important"}),$(".profile-wrapper #editTimePreferenceWrapper .select2-selection__arrow").css({right:".375rem"}),-1!==$.inArray(e,a)?($("#preferedStartTime").val(e).trigger("change"),$("#preferedEndTime option").each((function(){s.push($(this).val())}))):($("#preferedStartTime").val("").trigger("change"),$("#preferedEndTime option").each((function(){s.push($(this).val())}))),-1!==$.inArray(t,s)?$("#preferedEndTime").val(t).trigger("change"):$("#preferedEndTime").val("").trigger("change")}function backViewPreferedTime(){$("#viewTimePreferenceWrapper").show(),$("#editTimePreferenceWrapper").hide()}function removeLeadingZero(e,t){var a=t.split(" "),s=a[0],l=a[1],[i,r]=s.split(":");if(i=parseInt(i,10),"endTime"==e)var o=i+":"+r+"_"+l;else o=i+":"+r+" "+l;return o}$(".edit-field-btn").on("click",(function(e){var t=$(this).parent().find(".field-value").text();if(t=$.trim(t),$(this).prev().hasClass("iti--allow-dropdown")){var a=t;a=a.split("-")[1],$(this).parent().find(".field-input").addClass("visible").attr("value",a)}else $(this).parent().find(".field-input").addClass("visible").attr("value",t);$(this).hide().parent().find(".save-field-btn").addClass("visible"),$(this).hide().parent().find(".cancel-field-btn").addClass("visible"),$(this).parent().find(".field-value").addClass("hide-value"),$(this).parent().find(".iti--allow-dropdown, .select2").addClass("visible")})),$(document).on("dragstart dragover drop",(function(e){e.preventDefault()})),$(document).mouseup((function(e){var t=$(".select-option-wrapper");t.is(e.target)||t.hide().removeClass("edge")})),$((function(){$(".select-option-input").on("click",(function(e){if($(this).parent().find(".select-option-wrapper").show(),$(".select-option-wrapper").length){var t=$(window).scrollTop(),a=$(this).parent(),s=$(this).parent().find(".select-option-wrapper").height(),l=a.offset().top;$(window).height()-(l-t)-a.height()>s?$(this).parent().find(".select-option-wrapper").removeClass("edge"):$(this).parent().find(".select-option-wrapper").addClass("edge")}}))})),$(".select-option-wrapper .option").click((function(){var e=$(this).text();$(this).parent().closest(".select-option-field").find(".select-option-input").val(e)})),$(".show-stu-confirmation").click((function(){$(".stu-confirmation").slideDown()})),$(".cancel-field-btn").on("click",(function(){if($(this).parent().hasClass("preferredCommunication"))$(this).parent().find(".save-field-btn").removeClass("visible"),$(this).removeClass("visible").parent().find(".edit-field-btn").show(),$(this).parent().find(".field-value").removeClass("hide-value").text(a);else if($(this).parent().hasClass("empConvEmptype")){var e=$(".employee_type_start_date").text(),t=$(".employee_type").text();$(".employee_type_start_date").removeClass("hide-value").text(e),$(".employee_type").removeClass("hide-value").text(t),$(this).parent().find(".save-field-btn").removeClass("visible"),$(this).removeClass("visible").parent().find(".edit-field-btn").show(),$(this).parent().find(".field-input, .iti--allow-dropdown, .select2").removeClass("visible")}else if($(this).parent().hasClass("verificationMail"))fieldValueHTML=$(".emailIdView").html(),$(this).parent().find(".save-field-btn").removeClass("visible"),$(this).removeClass("visible").parent().find(".edit-field-btn").show(),$(this).parent().find(".field-input").attr("value",a).removeClass("visible"),$(this).parent().find(".field-value").removeClass("hide-value").html(a);else{var a=$(this).parent().find(".field-value").text(),s=a.split("-")[1];$(this).parent().find(".save-field-btn").removeClass("visible"),$(this).removeClass("visible").parent().find(".edit-field-btn").show(),$(this).parent().find(".field-value").removeClass("hide-value").text(a),$(this).parent().find(".iti--allow-dropdown, .select2").val(s).removeClass("visible"),$(this).parent().find(".field-input").attr("value",a).removeClass("visible"),$(".otherRelationDiv").hide()}})),$(".multiselect-dropdown").select2({theme:"bootstrap4",placeholder:"Select an option"}),$(".multiselect-dropdown_special").select2({theme:"bootstrap4",maximumSelectionLength:5,placeholder:"Select an option"}),$(".multiselect_dropdown_pref_courses").select2({theme:"bootstrap4",maximumSelectionLength:5,placeholder:"Select an option"}),$(".multiselect_course_taught").select2({theme:"bootstrap4",maximumSelectionLength:5,placeholder:"Select an option"}),$(".multiselectDropdown").select2({theme:"bootstrap4",placeholder:"Select an option"}),$(".multiselectDropdown1").select2({theme:"bootstrap4",placeholder:"Select an option"}),$(".multiselectDropdown2").select2({theme:"bootstrap4",placeholder:"Select an option"}),$(".multiselectDropdown3").select2({theme:"bootstrap4",placeholder:"Select an option"}),$(".multiselectDropdown4").select2({theme:"bootstrap4",placeholder:"Select an option"}),$(".multiselectDropdown5").select2({theme:"bootstrap4",placeholder:"Select an option"}),$(".title-select-dropdown-lms").select2({theme:"bootstrap4",placeholder:"Select an option",dropdownParent:".lmsPlatformWrapper"}),$(".title-select-dropdown-register").select2({theme:"bootstrap4",placeholder:"Select an option",dropdownParent:".registrationTypeWrapper"}),$(".title-select-dropdown-standard").select2({theme:"bootstrap4",placeholder:"Select an option",dropdownParent:".standardIdWrapper"}),$('a[data-toggle="tab"]').on("shown.bs.tab",(function(e){changeSelect($(this).attr("tabid"))})),$(".save-field-btn").on("click",(function(){$(".multiselect-dropdown").select2("close")})),$(".select_dropdown").select2({theme:"bootstrap4",placeholder:"Select an option",minimumResultsForSearch:1/0});var countId=[],selectedCoursesID=[],mandatoryFields=[],GRADES_TAUGHT=new Array,SUBJECTS_TAUGHT=new Array,GRADES_TAUGHT_NAMES=new Array,SUBJECTS_TAUGHT_NAMES=new Array,subjectsTaught=SUBJECTS_TAUGHT,applySubejctflag=!1,applyGradeflag=!1,academicUploadDocsObj=[];async function showSelectedCourseList(){var e=$(this);if(e.data("requestRunning"))return!1;if(e.data("requestRunning",!0),!applySubejctflag){var t={};if(t.userId=USER_ID,responseData=await getDashboardDataBasedUrlAndPayloadWithParentUrl(!1,!1,"get-teacher-signup-subject-details",t,"/teacher/signup"),"SUCCESS"==responseData.statusCode){$("#select_course").remove(),$("body").append(courseSelectionModal(responseData.details)),elementary_subjects=responseData.details.subjectDetails.elementrySelectedSubject,middleSchool_subjects=responseData.details.subjectDetails.middleSelectedSubject,highSchool_subjects=responseData.details.subjectDetails.highSelectedSubject,SUBJECTS_TAUGHT_BACKUP=responseData.details.subjectDetails.elementrySelectedSubject.concat(responseData.details.subjectDetails.middleSelectedSubject,responseData.details.subjectDetails.highSelectedSubject),SUBJECTS_TAUGHT=responseData.details.subjectDetails.elementrySelectedSubject.concat(responseData.details.subjectDetails.middleSelectedSubject,responseData.details.subjectDetails.highSelectedSubject),$(".elementary-0").val(responseData.details.subjectDetails.elementrySelectedSubject).trigger("change"),$(".middle-school-0").val(responseData.details.subjectDetails.middleSelectedSubject).trigger("change"),$(".high-school-0").val(responseData.details.subjectDetails.highSelectedSubject).trigger("change"),responseData.details.subjectDetails.elementrySelectedSubject.concat(responseData.details.subjectDetails.middleSelectedSubject,responseData.details.subjectDetails.highSelectedSubject).length>0&&$(".selected_course_containter").show();var a=$(".custom-tab-wrapper li.active-tab a").attr("id");coursesDropdonw($(".courses-category-wrapper").find("#"+a+"C").find("ul.course-list li.active-tab").attr("coursetype"),a)}}$("#select_course").modal("show"),e.data("requestRunning",!1),$(".custom-tab-wrapper li a:not(:first)").addClass("inactive"),$(".custom-tab-item").hide(),$(".custom-tab-item:first").show(),$(".custom-tab-wrapper li a").click((function(){var e=$(this).attr("id");tabFullForm=$(this).attr("full-form"),$(this).hasClass("inactive")&&($(".custom-tab-wrapper li a").addClass("inactive"),$(".custom-tab-wrapper li").removeClass("active-tab"),$(this).removeClass("inactive"),$(this).parent().addClass("active-tab"),$(".custom-tab-item").hide(),$("#"+e+"C").find(".active-tab > .course-list-wrapper").show(),$("#"+e+"C").fadeIn())})),$(".course-tabs-format ul.course-list li a:not(:first)").addClass("inactive"),$(".elementary_course_item .course-list-wrapper").hide(),$(".elementary_course_item:first .course-list-wrapper").show(),$(".course-tabs-format ul.course-list li a").click((function(){var e=$(this).attr("id"),t=$(this).parent().closest(".custom-tab-item").attr("id");$(this).hasClass("inactive")&&($(".course-tabs-format ul.course-list li a").addClass("inactive"),$("#"+t).find(".elementary_course_item").removeClass("active-tab"),$(this).removeClass("inactive"),$(this).parent().addClass("active-tab").find(".elementary-wrapper").slideDown("fast"),$(".elementary_course_item .course-list-wrapper").hide(),$("#"+e+"C").slideDown())}))}function selectedCourseCategory(){var e=$(".custom-tab-wrapper li.active-tab a").attr("id");coursesDropdonw($(".courses-category-wrapper").find("#"+e+"C").find("ul.course-list li.active-tab").attr("coursetype"),e)}function coursesDropdonw(e,t){var a=$("."+e).select2({placeholder:"Select Course",allowClear:!0,minimumResultsForSearch:-1,dropdownParent:$("."+e+"-wrapper")}).change((function(){})).on("select2:closing",(function(e){e.preventDefault()})).on("select2:closed",(function(e){a.select2("open")})).on("select2:select",(function(e){var a="",s=e.params.data;countId.includes(s.id)||(s.id=s.id.replace(/\s+/g,""),a="<li class='select2-selection__choice'> <span courseId='"+s.id+"' class='select2-selection__choice__display'>"+s.text+"</span> </li>",countId.push(s.id)),subjectsTaught.includes(s.id,0)||(subjectsTaught.splice(subjectsTaught.length,0,s.id),"elementary"==t&&0==elementary_subjects.find_by_id(s.id)?elementary_subjects.push(s.text):"middle_school"==t&&0==middleSchool_subjects.find_by_id(s.id)?middleSchool_subjects.push(s.text):0==highSchool_subjects.find_by_id(s.id)&&highSchool_subjects.push(s.text)),selectedCoursesID.includes(s.id)||selectedCoursesID.push(s.id),$(".elementary_selected_course").append(a);var l=$(".selected_courses li .course-category-wrapper > ul li").length;$(".elementary_selected_course .select2-selection__choice").length>0?($(".selected_course_containter").show(),$(".elementary_selected_course").parent().closest("li").show().addClass("selectedCategory")):l<1?($(".selected_course_containter").hide(),$(".elementary_selected_course").parent().closest("li").hide()):$(".elementary_selected_course").parent().closest("li").hide()})).on("select2:unselect",(function(e){var t=e.params.data;subjectsTaught.remove_by_value(t.id);$(this).parent().closest("li").attr("coursetype");var a=t.id.replace(/\s+/g,"");$(".selected_course_wrapper").find("[courseid='"+a+"']").parent().remove();elementary_subjects.remove_by_object_id(t.id),middleSchool_subjects.remove_by_object_id(t.id),highSchool_subjects.remove_by_object_id(t.id),countId.remove_by_value(t.id);var s=$(".selected_courses li .course-category-wrapper > ul li").length;$(".elementary_selected_course .select2-selection__choice").length>0?($(".selected_course_containter").show(),$(".elementary_selected_course").parent().closest("li").show().addClass("selectedCategory")):s<1?($(".selected_course_containter").hide(),$(".elementary_selected_course").parent().closest("li").hide()):$(".elementary_selected_course").parent().closest("li").hide()}));a.select2("open")}async function getSelectedSubjectes(){if(0!=elementary_subjects.concat(middleSchool_subjects,highSchool_subjects).length){SUBJECTS_TAUGHT=subjectsTaught,$("#select_course").modal("hide"),applySubejctflag=!0;var e={elementrySelectedSubject:elementary_subjects,middleSelectedSubject:middleSchool_subjects,highSelectedSubject:highSchool_subjects},t={};t.userId=USER_ID,t.subjectList=e,responseData=await getDashboardDataBasedUrlAndPayloadWithParentUrl(!1,!1,"save-subject-from-teacher-profile",t,"/teacher/signup"),"SUCCESS"==responseData.statusCode?(showMessageTheme2(1,responseData.message),$(".lastsubTaughtView").text(elementary_subjects.concat(middleSchool_subjects,highSchool_subjects).join(", ").replace("All Courses - Language Arts, Mathematics, Science, Technology, Art","Language Arts, Mathematics, Science, Technology, Art"))):showMessageTheme2(0,responseData.message)}else showMessageTheme2(0,"Please Select Courses Taught")}function showCourseList(){var e=$(".custom-tab-wrapper li.active-tab a").attr("id"),t=$(".courses-category-wrapper").find("#"+e+"C").find("ul.course-list li.active-tab").attr("coursetype");$("#select_course").modal("show"),coursesDropdonw(t,e)}function changeLearingProgramGradePlatform(e,t){var a={};a.userId=USER_ID,a.studentStandardId=t,a.standardId=$("#standardId").val(),a.learningProgram=$("#learningProgram").val(),a.courseProviderId=$("#courseProviderId").val(),$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","delete-uploaded-docs"),data:JSON.stringify(a),dataType:"json",success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():"theme1"==tt?showMessage(!1,e.MESSAGE):showMessageTheme2(0,e.MESSAGE,"",!0):showMessageTheme2(1,"Document(s) removed","",!0)},error:function(e){console.log(e)}})}function showLearningProgamGradePlatformModal(){$("#changeLearingProgramGradeModal").modal("show")}function openConfirmSaveModal(){$("#confirmSaveModal").modal("show")}function changeLearningProgamGradePlatformModal(e,t,a,s){var l=$("#registrationType").val(),i=$("#standardId").val(),r=$("#lmsPlatform").val(),o={};o.schoolId=SCHOOL_ID,o.userId=USER_ID,o.studentStandardId=e,o.learningProgram=l,o.standardId=i,o.courseProviderId=r;var n="enrollment";39==s&&(n="exact-path-enrollment"),o.enrollmentFor=n,$.ajax({type:"POST",contentType:"application/json",url:getURLForHTML("dashboard","change-learning-program-grade-platform"),data:JSON.stringify(o),dataType:"json",success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():showMessageTheme2(!1,e.message,"",!0):($("#confirmSaveModal").modal("hide"),$("#changeLearingProgramGradeModal").modal("hide"),$("#lmsPlatformText").text($("#lmsPlatform option:selected").text()),$("#learningProgramText").text($("#registrationType option:selected").text()),$("#standardIdText").text($("#standardId option:selected").text()),39==$("#lmsPlatform option:selected").val()?$(".standardViewName").html($("#lmsPlatform option:selected").text()+" | "+$("#registrationType option:selected").text()):$(".standardViewName").html($("#standardId option:selected").text()+" | "+$("#registrationType option:selected").text()),$(".compulsorySubjectsdiv").html(courseDetails(e.details.subjects,$("#standardId option:selected").text())),"DUAL_DIPLOMA"==$("#registrationType").val()?$("#dualDiplomaAdditionalDetails").show():($("#registrationType").val(),$("#dualDiplomaAdditionalDetails").hide()),showMessageTheme2(!0,"Profile updated successfully","",!0))}})}function courseDetails(e,t){var a=`<p class="m-0">\n\t\t\t<b>Courses ( ${t} )</b>\n\t\t</p>\n\t\t<div class="scroll-course-list scrollbar-container ps--active-y ps">\n\t\t\t<ol class="ml-0">`;return $.each(e,(function(e,t){a+=`<li>${t}</li>`})),a+="</ol>\n\t\t</div>"}Array.prototype.remove_by_object_id=function(e){for(var t=0;t<this.length;t++)this[t].replace(/\s+/g,"")===e.replace(/\s+/g,"")&&(this.splice(t,1),t--);return this},Array.prototype.find_by_id=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return!0;return!1},Array.prototype.remove_by_value=function(e){for(var t=0;t<this.length;t++)this[t]===e&&(this.splice(t,1),t--);return this};