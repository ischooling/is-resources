var itiPhoneNumber,itiAltPhoneNumber,LEAD_CATEGORY="B2C",ROLE_MODULE="",OBJECT_RIGHTS="";async function getLeadByType(e){renderCounselorLeadListDashboard("Lead List",ROLE_MODULE,SCHOOL_ID,USER_ID,USER_ROLE,e)}async function renderCounselorLeadListDashboard(e,a,t,o,d,l){var n=await getLeadListData(a.moduleId,"LEAD","list","","","0","","0",o,l);ROLE_MODULE=a;var r=n.objectRights;OBJECT_RIGHTS=r,l=r.leadType;var s=getLeadListMasterContent(a,r);$("#dashboardContentInHTML").html(s);await callLeadAssignUserList("advanceLeadNewSearchForm",""+r.leadType,"leadAssignToSearch",!0,r.discardPermission,o,!0);getB2CLeadPopjs(r,a),callTotalCountLeads("advanceLeadNewSearchForm",""+a.moduleId,"LEAD",""+r.clickFrom,"0","new",!0,"",""+r.leadType,"Y","0","new-lead"),getLeadDataList("advanceLeadNewSearchForm","advance-search","list","0","new",!0,"",r,a),$("#btnClickLeadMove").on("click",(function(){moveLeadsData(""+o,""+r.moduleId,"new-leadmove",""+r.currentPage,!0,r,a)})),$("#btnClickLeadUpdate").on("click",(function(){submitLeads("updateLeadForm",""+r.moduleId,"new-lead-list",!0,"leadlist","updateNewLeadModal","B2C",r,a),callTotalCountLeads("advanceLeadNewSearchForm",""+a.moduleId,"advance-search",""+r.clickFrom,"0","new",!0,"",""+r.leadType,"Y","0","new-lead")})),$("#saveFollowup").unbind().bind("click",(function(){submitLeadFollowupSave("followupSaveForm",""+r.moduleId,"new-lead-list",!0,"leadFollowupForm",r,a),callTotalCountLeads("advanceLeadNewSearchForm",""+a.moduleId,"advance-search",""+r.clickFrom,"0","new",!0,"",""+r.leadType,"Y","0","new-lead")})),$("#saveB2BFollowup").unbind().bind("click",(function(){submitLeadFollowupSave("followupB2BSaveForm",""+r.moduleId,"new-lead-list",!0,"leadFollowupB2BForm",r,a),callTotalCountLeads("advanceLeadNewSearchForm",""+a.moduleId,"advance-search",""+r.clickFrom,"0","new",!0,"",""+r.leadType,"Y","0","new-lead")})),$("#btnAddCampaign").on("click",(function(){var e=$("#leadCampaignName").val(),a=$("#campaignStartDate").val();return""==e?(showMessageTheme2(0,"Please fill Campaign Name","",!0),!1):""==a?(showMessageTheme2(0,"Please fill Start Date","",!0),!1):void saveCampaignMaster("leadCampaignForm","0","Y")})),$("#saveB2BLead").on("click",(function(){submitLeads("leadDataPopupB2BForm",""+r.moduleId,""+r.leadFrom,!0,"new-leadlistPopup","leadPopupB2BForm","B2B",r,a)})),$("#saveLead").on("click",(function(){submitLeads("leadDataPopupForm",""+a.moduleId,""+r.leadFrom,!0,"new-leadlistPopup","leadPopupForm","B2C",r,a)})),$("#btnNewClickLeadSearch").unbind().bind("click",(function(){getLeadDataList("advanceLeadNewSearchForm","advance-search","list","0","new",!0,"",r,a),callTotalCountLeads("advanceLeadNewSearchForm",""+a.moduleId,"advance-search",""+r.clickFrom,"0","new",!0,"",""+r.leadType,"Y","0","new-lead")})),$("#moveNewLead").on("click",(function(){if(""==$("#leadNoMove").val())return showMessageTheme2(0,"Please check any one lead","",!1),!1;$("#moveLeads").modal("show"),callLeadAssignUserList("moveLeadNewForm",""+r.leadType,"leadDemoAssignMove",!0,r.discardPermission,o,!1),$("#moveLeadNewForm #leadDemoAssignMove").select2({theme:"bootstrap4",dropdownParent:"#moveLeadNewForm"})})),$("#mcustomWatiTemplatesListClose").click((function(e){$("input#selectLeadAll").prop("checked",""),$('input[name="lead-move-another"]').prop("checked",""),$("#leadNoMove").val("")})),$("#addNewCampaign").unbind().bind("click",(function(){$("#leadCampaignPopupForm").modal("show"),callCampainList(!1,"")})),$("#addLead").unbind().bind("click",(function(){var e="",a="";"B2B"==l?(e="leadDataPopupB2BForm",a="leadPopupB2BForm"):(e="leadDataPopupForm",a="leadPopupForm"),$("#"+e)[0].reset(),$("#"+e+" #leadId").val(""),$("#"+e+" #leadNo").val(""),$("#"+e+" #rawLeadId").val(""),$("#"+e+" #countrolType").val("add"),$(".b2cLeadsource").show(),$(".b2bLeadsource").show(),$(".b2bLeadstatus").show(),$(".b2cLeadstatus").show(),$("#"+a).modal("show"),$("#leadFormText").text("Add new lead"),$("#documentDiv").html(""),$("#leadDOB").datepicker({autoclose:!0,format:"mm-dd-yyyy",container:"#leadPopupForm"}),$("#"+e+" #leadSource").select2({theme:"bootstrap4",dropdownParent:"#"+e}),$("#"+e+" #leadStatus").select2({theme:"bootstrap4",dropdownParent:"#"+e}),$("#"+e+" #leadAssignTo").select2({theme:"bootstrap4",dropdownParent:"#"+e}),$("#"+e+" #countryId").select2({theme:"bootstrap4",dropdownParent:"#"+e}),$("#"+e+" #stateId").select2({theme:"bootstrap4",dropdownParent:"#"+e}),$("#"+e+" #cityId").select2({theme:"bootstrap4",dropdownParent:"#"+e}),$("#"+e+" #leadTagging").select2({theme:"bootstrap4",dropdownParent:"#"+e}),callLeadSourceList(""+e,r.leadType,"leadSource",!0),callPCountries(""+e,0,"countryId"),callLeadStatusList(""+e,r.leadType,"leadStatus",!1),$("#"+e+" #countryId").on("change",(function(){callStates(""+e,this.value,"countryId")})),$("#"+e+" #stateId").on("change",(function(){callCities(""+e,this.value,"stateId")})),callLeadAssignUserList(""+e,""+r.leadType,"leadAssignTo",!0,r.discardPermission,o,!1),setTimeout((function(){$("#"+e+" #leadAssignTo").val(o).trigger("change")}),600),itiPhoneNumber&&"function"==typeof itiPhoneNumber.destroy&&itiPhoneNumber.destroy();var t=document.querySelector("#"+e+" #phoneNo");itiPhoneNumber=window.intlTelInput(t,{}),t.addEventListener("countrychange",(function(a){$("#"+e+" #pCountryCode").val(itiPhoneNumber.getSelectedCountryData().iso2),$("#"+e+" #isdCode").val(itiPhoneNumber.getSelectedCountryData().dialCode)})),itiAltPhoneNumber&&"function"==typeof itiAltPhoneNumber.destroy&&itiAltPhoneNumber.destroy();var d=document.querySelector("#"+e+" #phoneNoAlter");itiAltPhoneNumber=window.intlTelInput(d,{}),d.addEventListener("countrychange",(function(a){console.log("itiPhone=>",itiAltPhoneNumber.getSelectedCountryData()),$("#"+e+" #pCountryCodeAlter").val(itiAltPhoneNumber.getSelectedCountryData().iso2),$("#"+e+" #isdCodeAlter").val(itiAltPhoneNumber.getSelectedCountryData().dialCode)})),getTggingMasterList(""+e,"leadTagging")})),$("#mergeLead").unbind().bind("click",(function(){var e=$("#leadNoMove").val();if(""==e)return showMessageTheme2(0,"Please check any one lead","",!1),!1;var a=e.substring(1,e.lenght);callLeadMergeData("leadMergeDataPopupForm",a,""+o,"edit","leadMergePopup","B2C",0),callPCountries("leadMergeDataPopupForm",0,"countryId"),$("#leadMergeDataPopupForm #countryId").select2({theme:"bootstrap4",dropdownParent:"#leadMergeDataPopupForm"}),$("#leadMergeDataPopupForm #stateId").select2({theme:"bootstrap4",dropdownParent:"#leadMergeDataPopupForm"}),$("#leadMergeDataPopupForm #cityId").select2({theme:"bootstrap4",dropdownParent:"#leadMergeDataPopupForm"}),$("#leadMergeDataPopupForm #countryId").on("change",(function(){callStates("leadMergeDataPopupForm",this.value,"countryId")})),$("#leadMergeDataPopupForm #stateId").on("change",(function(){callCities("leadMergeDataPopupForm",this.value,"stateId")}))})),$("#mergeB2BLead").unbind().bind("click",(function(){var e=$("#leadNoMove").val();if(""==e)return showMessageTheme2(0,"Please check any one lead","",!1),!1;var a=e.substring(1,e.lenght);callLeadMergeData("leadMergeDataPopupB2BForm",a,""+o,"edit","leadMergeB2BPopup","B2B",0),callPCountries("leadMergeDataPopupB2BForm",0,"countryId"),$("#leadMergeDataPopupB2BForm #countryId").select2({theme:"bootstrap4",dropdownParent:"#leadMergeDataPopupB2BForm"}),$("#leadMergeDataPopupB2BForm #stateId").select2({theme:"bootstrap4",dropdownParent:"#leadMergeDataPopupB2BForm"}),$("#leadMergeDataPopupB2BForm #cityId").select2({theme:"bootstrap4",dropdownParent:"#leadMergeDataPopupB2BForm"}),$("#leadMergeDataPopupB2BForm #countryId").on("change",(function(){callStates("leadMergeDataPopupB2BForm",this.value,"countryId")})),$("#leadMergeDataPopupB2BForm #stateId").on("change",(function(){callCities("leadMergeDataPopupB2BForm",this.value,"stateId")})),callLeadSourceList("leadMergeDataPopupB2BForm",""+r.leadType,"leadSource",!0),callLeadStatusList("leadMergeDataPopupB2BForm",""+r.leadType,"leadStatus",!1),callLeadAssignUserList("leadMergeDataPopupB2BForm",""+r.leadType,"leadAssignTo",!0,r.discardPermission,o,!1)})),$(".checkRadioLead").on("click",(function(){var e="",a="";$.each($("input[name='lead-merge-another']"),(function(){$(this).is(":checked")?e=e+","+$(this).val():a=a+","+$(this).val()})),leadnew=e+a;var t=leadnew.substring(1,leadnew.lenght);getAsPost("/dashboard/lead-merge-data?moduleId=${moduleId}&leadId="+t+"&leadFrom=MERGE&currentPage=${currentPage}&isSearch=false&countrolType=edit&leadType=B2C","self")})),$('INPUT[type="file"]').change((function(){var e=$("#fileupload1").val().split(".").pop().toLowerCase();if(-1==$.inArray(e,["csv","tsv"]))return showMessageTheme2(0,"invalid extension!","",!0),!1;var a=$("#leadUploadId #fileupload1").get(0).files[0];$("#leadUploadId #fileupload1ChoosenFile").text(a.name)})),$("#saveMergeLead").on("click",(function(){submitLeads("leadMergeDataPopupForm",""+a.moduleId,""+r.leadFrom,!0,"new-leadMergePopup","leadMergePopup","B2C",r,a)})),$("#saveMergeB2BLead").on("click",(function(){submitLeads("leadMergeDataPopupB2BForm",""+a.moduleId,""+r.leadFrom,!0,"new-leadMergePopup","leadMergeB2BPopup","B2B",r,a)})),setTimeout((function(){curentTimeStamp(r.timeZoneOffset)}),800)}function getLeadListMasterContent(e,a){var t=a.b2cStatus,o="d-none";o=a.b2bStatus?"":"d-none";var d='<div class="app-page-title"><div class="page-title-wrapper">\t\t<div class="page-title-heading">\t\t\t<div class="page-title-icon">\t\t\t\t<i class="fas fa-university text-primary"></i>\t\t\t</div>\t\t\t<div>Lead List </div>\t\t\t<div class="btn-actions-pane-right">\t\t\t\t<a href="javascript:void(0)" class="ml-2 btn-transition btn btn-sm b2clead '+(t?"":"d-none")+" "+("B2C"==a.leadType?"btn-primary":"btn-outline-primary")+'" onclick="getLeadByType(\'B2C\')">B2C</a>\t\t\t\t<a href="javascript:void(0)" class="ml-2 btn-transition btn btn-sm b2blead '+o+" "+("B2B"==a.leadType?"btn-primary":"btn-outline-primary")+'" onclick="getLeadByType(\'B2B\')">B2B</a>\t\t\t</div>\t\t</div>';return d+='\t<div class="page-title-actions">',d+='\t<div class="btn-actions-pane-right text-capitalize d-flex flex-wrap justify-content-center" style="gap:10px">\t<button class="btn-shadow btn btn-info" onclick="openPopup(\'leadAdvanceSearch\',\''+a.leadType+'\');"><i class="fa fa-search"></i>&nbsp;Advance Search</button>\t<button class="btn-shadow btn btn-info" onclick="renderTimzoneConverter()"><i class="fa fa-clock"></i>&nbsp;Time Zone Converter</button></div>',d+="</div>\t</div></div>",d+=getCounselorListHeaderContent(a.leadType,e,a),"B2B"==a.leadType?(d+=getLeadAdvanceSearchB2BPopup(a),d+=getLeadFollowupFormB2BPopup(a),d+=getLeadFormB2BPopup(a),d+=getLeadMergeB2BFormPopup(a),d+='<div id="LeadPartnerUserFormB2BPopup"></div>'):(d+=getLeadAdvanceSearchPopup(a),d+=getLeadFollowupFormPopup(a),d+=getLeadFormB2BPopup(a),d+=getLeadFormPopup(a),d+=getLeadMergeFormPopup(a),d+=getLeadCampaignListPopup(),d+=getLeadWatsApp()),d+=getMoveLeadsPopup(a),d+=getDiscardLeadModel(),d+=deleteWarning(),$("#logData").length<1&&$("body").append(getWatiTemplatesHtml()),d}function getWatiTemplatesHtml(){return'<div class="for_watiLogsTableData done" id="logData"> </div><div class="for_allWatiTemplatesList done" id="allWatiTemplatesList"> </div><div class="for_mbroadcastWatiSendTable done" id="usrPopData"> </div><div class="for_userPopDataEmaildone" id="userPopDataEmail"> </div><div id="allWatiUsersList"> </div><div class="for_successFailedWatiMessagesModal done" id="usrPopDataOnResend"> </div><div class="for_successFailedEmailMessagesModal done" id="usrPopDataOnResendEmail"> </div><div class="for_allEmailTemplatesList done" id="allEmailTemplatesList"></div>'}function getCounselorListHeaderContent(e,a,t){var o='<div class="card-body" id="leadSourceList"><div class="main-card mb-3 card">';return o+="B2B"==e?getB2BListHeaderContent(a,t):getB2CListHeaderContent(a,t),o+="</div></div>"}function getMoveLeadsPopup(e){var a="";return a+='<div class="modal fade" id="moveLeads"><div class="modal-dialog modal-md" role="document">\t<div class="modal-content">\t\t<div class="modal-header p-2 bg-primary text-white">\t\t\t<h5 class="m-0">Move Lead</h5>\t\t</div>\t\t<form action="javascript:void(0);" id="moveLeadNewForm" name="moveLeadNewForm" autocomplete=\'off\'>\t\t\t<input type="hidden" name="leadNoMove" id="leadNoMove"/>\t\t\t<input type="hidden" name="discardPermission" id="discardPermission" value="'+e.discardPermission+'"/>\t\t\t<div class="modal-body delete-modal">\t\t\t\t<div class="row">\t\t\t\t\t<div class="col-lg-6 col-md-12 col-sm-12 col-12">\t\t\t\t\t\t<label class="mb-0">Move Lead Assign to</label> \t\t\t\t\t\t<select\tname="leadDemoAssignMove" id="leadDemoAssignMove" class="form-control" >\t\t\t\t\t\t\t\t<option value="0">Select Assign</option>\t\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-lg-6 col-md-12 col-sm-12 col-12">\t\t\t\t\t\t<label class="mb-0">Interested To</label>\t\t\t\t\t\t<select\tname="leadIntrestedTo" id="leadIntrestedTo" class="form-control" >\t\t\t\t\t\t\t<option value="B2C" '+("B2C"==e.leadType?"selected":"")+'>B2C</option>\t\t\t\t\t\t\t<option value="B2B" '+("B2B"==e.leadType?"selected":"")+">B2B</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>","B2C"==e.leadType&&(a+=' <div class="form-group my-2 pl-3"><input type="radio" name="leadDemoAssignTo" id="leadDemoAssignToWithDemo" value="withDemo" /> &nbsp; Move Lead With Demo &nbsp;<input type="radio" name="leadDemoAssignTo" id="leadDemoAssignToWithOutDemo" value="withoutDemo" /> &nbsp; Move Lead Without Demo &nbsp;<input type="radio" name="leadDemoAssignTo" id="leadDemoAssignToOnlyDemo" value="OnlyDemo" checked /> &nbsp; Move Only Demo<br/><input type="checkbox" name="leadWithRemark" id="leadWithRemark" value="N" /> &nbsp; Move Without Remark &nbsp; </div>'),a+=' <div class="mt-1 col-lg-12 col-md-12 col-sm-12 col-12"><textarea class="form-control" name="moveRemarks" id="moveRemarks" rows="2" placeholder="remarks" style="height: 50px !important;"></textarea></div></div>\t\t\t\t<div class="full mt-1">\t\t\t\t\t<button type="button" class="btn btn-success btn-shadow float-right pr-4 pl-4" id="btnClickLeadMove">Move</button>\t\t\t\t\t<button type="button" class="btn btn-info btn-shadow float-right pr-4 pl-4 mr-2" data-dismiss="modal">Close</button>\t\t\t\t</div>\t\t\t</div>\t\t</form>\t</div></div></div>'}function openPopup(e,a){$("#"+e).modal("show"),$("#advanceLeadNewSearchForm #leadAssignToSearch").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),$("#advanceLeadNewSearchForm #leadCreatedBy").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),$("#advanceLeadNewSearchForm #leadDemoAssignSearch").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),$("#advanceLeadNewSearchForm #followUpMedium").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),$("#advanceLeadNewSearchForm #grade").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),$("#advanceLeadNewSearchForm #countryId").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),$("#advanceLeadNewSearchForm #stateId").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),$("#advanceLeadNewSearchForm #cityId").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),$("#advanceLeadNewSearchForm #priority").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),$("#advanceLeadNewSearchForm #callWith").select2({dropdownParent:".callWith"}),$("#advanceLeadNewSearchForm #followupStatus").select2({dropdownParent:".followupStatus"}),$("#advanceLeadNewSearchForm #demoAssign").select2({dropdownParent:".demoAssign"}),$("#advanceLeadNewSearchForm #leadDemoAssignMove").select2({dropdownParent:"#moveLeadNewForm"}),$("#advanceLeadNewSearchForm #leadUpdateSource").select2({dropdownParent:"#updateLeadForm"}),$("#advanceLeadNewSearchForm #leadSourceSearch").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),$("#advanceLeadNewSearchForm #leadStatusSearch").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),$("#advanceLeadNewSearchForm #leadTagSearch").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),$("#leadStartDateSearch").datepicker({autoclose:!0,format:"dd-mm-yyyy",container:"#leadAdvanceSearch"}),$("#leadEndDateSearch").datepicker({autoclose:!0,format:"dd-mm-yyyy",container:"#leadAdvanceSearch"})}function getB2CLeadPopjs(e,a){if($("#advanceLeadNewSearchForm #countryId").on("change",(function(){callStates("advanceLeadNewSearchForm",this.value,"countryId")})),$("#advanceLeadNewSearchForm #stateId").on("change",(function(){callCities("advanceLeadNewSearchForm",this.value,"stateId")})),$("#leadAssignToSearch").unbind().bind("change",(function(){callTemplateList(!0,"leadSearchTemplate",$("#leadAssignToSearch").val())})),$("#tentativeDate").datepicker({container:"#leadFollowupForm",autoclose:!0,format:"mm-dd-yyyy"}),$("#campaignStartDate").datepicker({autoclose:!0,format:"mm-dd-yyyy",container:"#leadCampaignPopupForm"}),$("#campaignEndDate").datepicker({autoclose:!0,format:"mm-dd-yyyy",container:"#leadCampaignPopupForm"}),$("#advanceLeadNewSearchForm .leadSearchCampaign").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),$("#advanceLeadNewSearchForm .leadSearchTemplate").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),$("#advanceLeadNewSearchForm .leadSearchDeliveredStatus").select2({theme:"bootstrap4",dropdownParent:"#advanceLeadNewSearchForm"}),getSessionMasterList("advanceLeadNewSearchForm","leadAcadmicYear",!0),getTggingMasterList("advanceLeadNewSearchForm","leadTagSearch"),callLeadSourceList("advanceLeadNewSearchForm",""+e.leadType,"leadSourceSearch",!0),callLeadStatusList("advanceLeadNewSearchForm",""+e.leadType,"leadStatusSearch",!1),callPCountries("advanceLeadNewSearchForm",0,"countryId"),callUTMSourceList("advanceLeadNewSearchForm",""+e.leadType,"utmSourceSearch",!0),callLeadAssignUserList("advanceLeadNewSearchForm",""+e.leadType,"leadCreatedBy",!0,e.discardPermission,USER_ID,!1),callLeadAssignUserList("advanceLeadNewSearchForm",""+e.leadType,"leadDemoAssignSearch",!0,e.discardPermission,USER_ID,!1),callCampainList(!0,"leadSearchCampaign"),$("#moveNewLead").on("click",(function(){var e=$("#leadNoMove").val();if($("#btnClickLeadMove").prop("disabled",!1),$("#blankDemo").val().includes("blank")?($("#leadDemoAssignToWithDemo").prop("disabled",!0),$("#leadDemoAssignToOnlyDemo").prop("disabled",!0),$("#leadDemoAssignToWithOutDemo").prop("disabled",!1),$("#leadDemoAssignToWithOutDemo").prop("checked",!0)):($("#leadDemoAssignToWithDemo").prop("disabled",!1),$("#leadDemoAssignToOnlyDemo").prop("disabled",!1),$("#leadDemoAssignToWithOutDemo").prop("disabled",!1),$("#leadDemoAssignToOnlyDemo").prop("checked",!0)),""==e)return showMessageTheme2(0,"Please check any one lead","",!1),!1;$("#moveLeads").modal("show")})),$("#leadDOB").datepicker({autoclose:!0,format:"mm-dd-yyyy",container:"#leadPopupForm"}),$("#leadMergeDataPopupB2BForm #countryId").on("change",(function(){callStates("leadMergeDataPopupB2BForm",this.value,"countryId")})),$("#leadMergeDataPopupB2BForm #stateId").on("change",(function(){callCities("leadMergeDataPopupB2BForm",this.value,"stateId")})),$("#exportLead").unbind().bind("click",(function(){$("#errMsg").text("");var e="advanceLeadNewSearchForm",a="${leadFrom}",t=t,o="",d=(n="${clickFrom}-${clickUserid}").split("-");null==(o="totalGreen"==d[0]?"green":"totalYellow"==d[0]?"yellow":"totalRed"==d[0]?"red":"totalWhite"==d[0]?"white":$("input[name='callBadgeSearch']:checked").val())&&(o="");var l="totalleads";l="${clickByLead}";var n=n;null==t&&(t=0);var r=0,s=null!=$("#"+e+" #leadNoSearch").val()?$("#"+e+" #leadNoSearch").val():"",c="",i=null!=$("#"+e+" #leadSourceSearch").val()?$("#"+e+" #leadSourceSearch").val():"";i.length>0&&(c=i.join("@"));var m="",p=null!=$("#"+e+" #leadStatusSearch").val()?$("#"+e+" #leadStatusSearch").val():"";p.length>0&&(m=p.join("@"));$("#"+e+" #leadStatusSearch").val();var u="",v=null!=$("#"+e+" #leadAssignToSearch").val()?$("#"+e+" #leadAssignToSearch").val():"";v.length>0&&(u=v.join("@"));var h=null!=$("#"+e+" #followMedSearch option:selected").val()?$("#"+e+" #followMedSearch option:selected").val():"",g=null!=$("#"+e+" #leademailIdSearch").val()?$("#"+e+" #leademailIdSearch").val():"",L=null!=$("#"+e+" #phoneNoSearch").val()?$("#"+e+" #phoneNoSearch").val():"",S=null!=$("#"+e+" #leadstdfnameSearch").val()?$("#"+e+" #leadstdfnameSearch").val():"",w=null!=$("#"+e+" #leadGradeSearch option:selected").val()?$("#"+e+" #leadGradeSearch option:selected").val():"",b=null!=$("#"+e+" #countryId option:selected").val()?$("#"+e+" #countryId option:selected").val():"",y=null!=$("#"+e+" #stateId option:selected").val()?$("#"+e+" #stateId option:selected").val():"";null==y&&(y="");var F=null!=$("#"+e+" #cityId option:selected").val()?$("#"+e+" #cityId option:selected").val():"";null==F&&(F="");var P=null!=$("#"+e+" #callWithSearch").val()?$("#"+e+" #callWithSearch").val():"",D=null!=$("#"+e+" #leadDemoAssignSearch option:selected").val()?$("#"+e+" #leadDemoAssignSearch option:selected").val():"",B=null!=$("#"+e+" #leadStartDateSearch").val()?$("#"+e+" #leadStartDateSearch").val():"",T=null!=$("#"+e+" #leadEndDateSearch").val()?$("#"+e+" #leadEndDateSearch").val():"",f=null!=$("#"+e+" #searchDateType option:selected").val()?$("#"+e+" #searchDateType option:selected").val():"",N=null!=$("#"+e+" #leadAcadmicYear").val()?$("#"+e+" #leadAcadmicYear").val():"";null!=$("#leadsFollowCount").val()&&(r=$("#leadsFollowCount").val());var M=null!=$("#"+e+" #leadFullSearch").val()?$("#"+e+" #leadFullSearch").val():"",C=null!=$("#"+e+" #utmSourceSearch").val()?$("#"+e+" #utmSourceSearch").val():"",I="",A=null!=$("#"+e+" #leadSearchCampaign").val()?$("#"+e+" #leadSearchCampaign").val():"";A.length>0&&(I=A.join("@"));var k="callBadge="+o+"&clickBy="+l+"&leadFrom="+a+"&clickFrom="+n+"&currentPage="+t+"&leadNo="+s;k=(k=(k=(k=(k=(k=k+"&leadSource="+c+"&leadStatus="+m+"&assignTo="+u+"&followupBy="+h+"&email="+g)+"&phoneNo="+L+"&stdFname="+S+"&gurdianFname=&standard="+w)+"&country="+b+"&state="+y+"&city="+F+"&priority=&toCall="+P)+"&leadFollowStatus=&demoAssignTo="+D)+"&leadStartDate="+B+"&leadEndDate="+T+"&searchDateType="+f+"&utmSource="+C+"&lastTotalCallDay=&acadmicYear="+N)+"&totalCallDay="+r+"&leadFullSearch="+M+"&utmSource="+C+"&utmCampaign="+I+"&leadTemplate="+(null!=$("#"+e+" #leadSearchTemplate").val()?$("#"+e+" #leadSearchTemplate").val():""),getAsPost("/dashboard/report/lead-search-record-list?"+k)})),-1==$.inArray(USER_ROLE,["STUDENT","TEACHER","PARENT","DIRECTOR"])){var t=getAllDemoForUpdateStatus(USER_ID);if(1==t.status){var o=t.details.demoDetails.demoDetails;null!=o&&o.length>0&&($("#demoDetailsModal").length>0&&$("#demoDetailsModal").remove(),$("body").append(forceDemoUpdateModalContent(t)),$("#demoDetailsModal").modal("show"))}}}function getTotalLead(e){advanceLeadSearchStudentReset("advanceLeadNewSearchForm",""+e),OBJECT_RIGHTS.discardPermission||$("#advanceLeadNewSearchForm #leadAssignToSearch").val(USER_ID).trigger("change"),callTotalCountLeads("advanceLeadNewSearchForm",""+ROLE_MODULE.moduleId,"LEAD","list","0","new",!0,"",""+OBJECT_RIGHTS.leadType,"Y","0","new-lead"),getLeadDataList("advanceLeadNewSearchForm","advance-search","list","0","new",!0,"",OBJECT_RIGHTS,ROLE_MODULE)}function nextPage(e){var a="/dashboard/lead-data-list?moduleId=111&leadFrom=${leadFrom}&clickFrom=${clickFrom}&currentPage="+e+"&euid="+encuid+"&leadType=B2B";getAsPost(a),customLoader(!1)}function clickTotalLeads(e,a,t,o){getLeadDataList("advanceLeadNewSearchForm","advance-search",e,a,"new",!0,t,OBJECT_RIGHTS,ROLE_MODULE)}function getDiscardLeadModel(){return'<div class="modal fade" id="discardLeadModel">\n\t\t<div class="modal-dialog modal-md modal-notify modal-danger" role="document">\n\t\t\t<div class="modal-content">\n\t\t\t\t<div class="modal-header pt-2 pb-2 theme-bg text-white">\n\t\t\t\t\t<h5 class="modal-title" id="exampleModalLabel">Are you sure you want to discard this Lead?</h5>\n\t\t\t\t</div>\n\t\t\t\t<div id="statusMessage-2" class="modal-body delete-modal" style="padding-top:12px">\n\t\t\t\t\t<p><b>You are discarding the following Lead:</b></p>\n\t\t\t\t\t<p><b>Lead No: </b> <span id="leadDisplayNo"></span></p>\n\t\t\t\t\t<p><b>Lead Source: </b> <span id="leadDisplaySource"></span></p>\n\t\t\t\t\t<p><b>Name: </b> <span id="studentName"></span></p>\n\t\t\t\t\t<p><b>Email: </b> <span id="studentEmail"></span></p>\n\t\t\t\t\t<p><b>Phone no.: </b> <span id="studentPhoneNo"></span></p>\n\t\t\t\t\t<p><b>Created Date & Time: </b><span id="createdDate"></span></p>\n\t\t\t\t</div>\n\t\t\t\t<div class="modal-footer text-center">\n\t\t\t\t\t<div style="width:100%;float:left; text-align:right">\t\n\t\t\t\t\t\t<button type="button" class="btn btn-primary" id=\'discardLeadWarningYes\'>Yes</button>\n\t\t\t\t\t\t<button type="button" class="btn btn-danger waves-effect text-right" data-dismiss="modal">No</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>'}function showNewDiscardLeadModelFunction(e,a,t,o,d,l,n){e="$('#discardLeadModel').modal('hide');"+e+";",$("#discardLeadWarningYes").attr("onclick",e),$("#leadDisplayNo").html(n),$("#leadDisplaySource").html(a),$("#studentName").html(t),$("#studentEmail").html(o),$("#studentPhoneNo").html(d),$("#createdDate").html(l),$("#discardLeadModel").modal("show")}