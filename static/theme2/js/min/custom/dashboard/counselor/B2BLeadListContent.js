function getB2BListHeaderContent(t,l){var e='<div class="full text-right">';return"Y"==t.added&&(e+='<button class="btn-shadow btn btn-warning text-white mt-lg-1 btn-full-mobile mb-1" id="addLead">Add New Lead</button>'),"Y"==t.updated&&(e+='<button class="btn-shadow btn btn-danger text-white mt-lg-1 btn-full-mobile mb-1" id="moveNewLead">Move Lead</button> '),"Y"==t.updated&&(e+='<button class="btn-shadow btn btn-dark text-white mt-lg-1 btn-full-mobile mb-1" id="mergeB2BLead">Merge Lead</button>  '),e+="</div>",e+='<div class="row mt-2 px-2" id="b2b-total-head"></div>',e+='<div class="full overflow-x-auto" id="b2b-lead-list"></div>'}function getLeadFollowupFormB2BPopup(t){var l="";l+='<div id="leadFollowupB2BForm" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">',l+='<div class="modal-dialog modal-xl">',l+='<div class="modal-content border-0">',l+='<div class="modal-header pt-2 pb-2 theme-bg text-white">',l+='<h5 class="modal-title" id="exampleModalLabel">Follow up Form</h5>',l+='<button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">',l+='<span aria-hidden="true">×</span>',l+="</button>",l+="</div>",l+='<div class="modal-body">',l+='<form class="col-lg-12 col-md-12 col-sm-12 col-12 pt-2 pb-2" method="post" id="followupB2BSaveForm" action="javascript:void(0);">',l+='<input type="hidden" name="leadId" id="leadId" value="0" />',l+='<input type="hidden" name="leadType" id="leadType" value="B2B" />',l+='<input type="hidden" name="leadAdderId" id="leadAdderId" value="'+USER_ID+'" class="form-control">',l+='<input type="hidden" name="currentPage" id="currentPage" value="'+t.currentPage+'" class="form-control">',l+='<input type="hidden" name="epdetailStatus" id="epdetailStatus" value="" class="form-control"></input>',l+='<div class="row" >',l+='<div class="col-xl-2 col-lg-2 col-md-6 col-sm-6 col-12 mb-2">',l+='<label class="m-0">Connected Through</label>',l+='<select class="form-control dropdownFontSize" id="followMed" name="followMed">',l+='<option value="Meeting" selected>Meeting</option>',l+='<option value="WhatsApp" >WhatsApp</option>',l+='<option value="Email" >Email</option>',l+='<option value="Call" >Call</option>',l+="</select>",l+="</div>",l+='<div class="col-xl-2 col-lg-2 col-md-6 col-sm-6 col-12 mb-2">',l+='<label class="m-0">Connected With</label>',l+='<input type="text" name="callWith" id="callWith" class="form-control dropdownFontSize" required tabindex="2">',l+="</div>",l+='<div class="col-xl-2 col-lg-2 col-md-6 col-sm-6 col-12 mb-2">',l+='<label class="m-0">Lead Status & Category*</label>',l+='<select name="leadStatus" id="leadStatus" class="form-control dropdownFontSize">',l+='<option value="">Select Status</option>',l+="</select>",l+="</div>",l+='<div class="col-xl-2 col-lg-2 col-md-6 col-sm-6 col-12 mb-2">',l+='<label class="m-0">Next Followup</label>',l+='<select class="form-control dropdownFontSize" id="nextDate" name="nextDate">',l+='<option value="" selected>--Select--</option>',l+='<option value="CUSTOM">Choose Date</option>',l+='<option value="NO FOLLOWUP">No Followup</option>',l+="</select> ",l+="</div>",l+='<div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-12 mb-2 follow-up-date-and-time-wrapper followCall" style="display:none">',l+='<div class="row">',l+='<div class="mr-0 mr-sm-2 flex-grow-1 nextCustomDate" style="display:none">',l+='<label class="m-0">Date</label>',l+='<input type="text" name="notSureCallscheduleDate" id="notSureCallscheduleDate" class="form-control dropdownFontSize datepicker" maxlength="50" autocomplete="off">',l+="</div>",l+='<div class="mr-0 mr-sm-2 flex-grow-1">',l+='<label class="m-0">&nbsp;HH</label>',l+='<select class="form-control dropdownFontSize" id="notSureHours" name="notSureHours">';for(var e=1;e<=12;e++)l+='<option value="'+(e>9?e:"0"+e)+'" >'+(e>9?e:"0"+e)+"</option>";l+="</select> ",l+="</div>",l+='<div class="mr-0 mr-sm-2 flex-grow-1">',l+='<label class="m-0">&nbsp;MM</label>',l+='<select class="form-control dropdownFontSize" id="notSureMins" name="notSureMins">',l+='<option value="00">00</option>';for(var a=1;a<=59;a++)l+='<option value="'+(a>9?e:"0"+e)+'" >'+(a>9?a:"0"+a)+"</option>";return l+="</select> ",l+="</div>",l+='<div class="mr-0 mr-sm-2 flex-grow-1">',l+='<label class="m-0">AM | PM</label>',l+='<select class="form-control dropdownFontSize" id="notSureAMPM" name="notSureAMPM">',l+='<option value="AM">AM</option>',l+='<option value="PM">PM</option>',l+="</select> ",l+="</div>",l+="</div>",l+="</div>",l+='<div class="col-12">',l+="<hr>",l+="</div>",l+='<div class="col-12 mb-2">',l+='<label class="m-0">Remarks</label>',l+='<textarea name="followupRemarks" id="followupRemarks" rows="3" class="form-control" tabindex="9" style="height: 35px !important;"></textarea>',l+='<input type="hidden" class="form-control" name="followupRemarkBy" id="followupRemarkBy" value="'+USER_ID+'" />',l+="</div>",l+="</div>",l+="</form>",l+="</div>",l+='<div class="modal-footer">',l+='<button type="button" class="btn btn-info btn-shadow float-right pr-4 pl-4 ml-2" data-dismiss="modal">Close</button>',l+='<button type="button" class="btn btn-success btn-shadow float-right pr-4 pl-4" id="saveB2BFollowup">Save Status</button>',l+="</div>",l+=" </div>",l+="</div>",l+="</div>"}function getLeadFormB2BPopup(t){var l="";return l+='<div id="leadPopupB2BForm" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-xl"><div class="modal-content border-0"><div class="modal-header pt-2 pb-2 theme-bg text-white"><h5 class="modal-title" id="exampleModalLabel">Update Lead Details - <span id="leadNoText"></span></h5><button type="button" class="close text-white" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="modal-body"><form class="col-lg-12 col-md-12 col-ms-12 col-12 pt-2 pb-2" method="post" action="javascript:void(0);" id="leadDataPopupB2BForm"><input type="hidden" name="leadId" id="leadId" value="" /><input type="hidden" name="parentleadId" id="parentleadId" value="" /><input type="hidden" name="academicId" id="academicId" value="" /><input type="hidden" name="leadNo" id="leadNo" value="" /><input type="hidden" name="rawLeadId" id="rawLeadId" value="" /><input type="hidden" name="relationType" id="relationType" value="" /><input type="hidden" name="leadSourceGroup" id="leadSourceGroup" value="" /><input type="hidden" name="countrolType" id="countrolType" value="" /><input type="hidden" name="mergeLeads" id="mergeLeads" value="" /><input type="hidden" name="isdCode" id="isdCode" value="" /><input type="hidden" name="pCountryCode" id="pCountryCode" value="" /><input type="hidden" name="isdCodeAlter" id="isdCodeAlter" value="" /><input type="hidden" name="pCountryCodeAlter" id="pCountryCodeAlter" value="" /><input type="hidden" name="leadType" id="leadType" value="'+t.leadType+'" /><div class="row"><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-2 b2bLeadsource"><label class="m-0">Lead Source <sup class="text-danger">*</sup></label><select\tname="leadSource" id="leadSource" class="form-control" ><option value="">Select Source</option></select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-2"><label class="m-0">First Name<sup class="text-danger">*</sup></label><input type="text" name="leadstdfname" id="leadstdfname" value=""   class="form-control" maxlength="100" onkeydown="return M.isChars(event);"></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-2"><label class="m-0">Middle Name</label><input type="text" name="leadstdmname" id="leadstdmname" value=""  class="form-control" maxlength="100" onkeydown="return M.isChars(event);"></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-2"><label class="m-0">Last Name<sup class="text-danger">*</sup></label><input type="text" name="leadstdlname" id="leadstdlname" value=""  class="form-control" maxlength="100" onkeydown="return M.isChars(event);"></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-2"><label class="m-0">Email <sup class="text-danger">*</sup></label><input type="email" name="leademailId" id="leademailId" class="form-control" value=""  maxlength="100" pattern="^([w-]+(?:.[w-]+)*)@((?:[w-]+.)*w[w-]{0,66}).([a-zA-Z]{2,10}(?:.[a-zA-z]{2})?)$"></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-2"><label>Alternate Email</label> <input type="email" name="leademailAlternet" id="leademailAlternet" class="form-control" value=""  maxlength="100" pattern="^([w-]+(?:.[w-]+)*)@((?:[w-]+.)*w[w-]{0,66}).([a-zA-Z]{2,10}(?:.[a-zA-z]{2})?)$"></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-2"><label>Phone No.<sup class="text-danger">*</sup></label> <input type="text" name="phoneNo" id="phoneNo" class="form-control" value="" maxlength="15" onkeydown="return M.digit(event);" /></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-2"><label>Alternate Phone No.</label> <input type="text" name="phoneNoAlter" id="phoneNoAlter" class="form-control" value=""  maxlength="15" onkeydown="return M.digit(event);" /></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-2"><label class="m-0">Country<sup class="text-danger">*</sup></label><select name="countryId" id="countryId" class="form-control"  ><option value="0">Select country</option></select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-2"><label class="m-0">State<sup class="text-danger">*</sup></label><select name="stateId" id="stateId" class="form-control" ><option value="0">Select state</option></select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-2"><label class="m-0">City<sup class="text-danger">*</sup></label><select name="cityId" id="cityId" class="form-control" ><option value="0">Select city</option></select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-2 b2bLeadstatus"><label class="m-0">Lead Status & Category<sup class="text-danger">*</sup></label><select name="leadStatus" id="leadStatus" class="form-control"><option value="">Select Status</option></select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-2 b2bLeadstatus"><label class="m-0">Lead Assigned To*</label><select name="leadAssignTo" id="leadAssignTo" class="form-control" ><option value="">Select Assign</option></select></div><div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mb-2"><label>Message</label><textarea name="msg" id="msg" rows="3" class="form-control"></textarea></div></div>\t</form></div><div class="modal-footer"><button type="button" class="btn btn-info btn-shadow float-right pr-4 pl-4 ml-2" data-dismiss="modal">Close</button><button type="button" class="btn btn-success btn-shadow float-right pr-4 pl-4" id="saveB2BLead">Save</button></div></div></div></div>'}function getLeadAdvanceSearchB2BPopup(t){var l="";return l+='<div id="leadAdvanceSearch" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-xl">    <div class="modal-content border-0">        <div class="modal-header pt-2 pb-2 theme-bg text-white">            <h5 class="modal-title" id="exampleModalLabel">Advance Search</h5>            <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">                <span aria-hidden="true">×</span>            </button>        </div>        <div class="modal-body">            <form action="javascript:void(0);" id="advanceLeadNewSearchForm" name="advanceLeadNewSearchForm" autocomplete=\'off\'>\t\t\t<input type="hidden" name="currentPageSearch" id="currentPageSearch" value="'+t.currentPage+'">\t\t\t<input type="hidden" name="clickFromSearch" id="clickFromSearch" value="'+t.clickFrom+'">\t\t\t<input type="hidden" name="leadFromSearch" id="leadFromSearch" value="'+t.leadFrom+'">\t\t\t<input type="hidden" name="userId" id="userId" value="'+USER_ID+'">\t\t\t<input type="hidden" name="leadType" id="leadType" value="'+t.leadType+'">\t\t\t\t<div class="row">\t\t\t\t\t<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mb-1 mt-1">\t\t\t\t\t\t<div class="leadErrorText"></div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t\t<div class="row text-center">\t\t\t\t\t<div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Academic Year</label>\t\t\t\t\t\t<select\tname="leadAcadmicYear" id="leadAcadmicYear" class="form-control" >\t\t\t\t\t\t<option value="all">All</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Search with any text</label>\t\t\t\t\t\t<input type="text" name="leadFullSearch" id="leadFullSearch"  class="form-control"/> \t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12 mb-1 mt-1"></div>\t\t\t\t</div>\t\t\t\t<div class="row">\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Lead No.</label>\t\t\t\t\t\t<input type="text" name="leadNoSearch" id="leadNoSearch"  class="form-control" maxlength="50" /> \t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 leadSource">\t\t\t\t\t\t<label class="m-0">Lead Source</label>\t\t\t\t\t\t<select\tname="leadSourceSearch" id="leadSourceSearch" class="form-control" multiple >\t\t\t\t\t\t\t<option value="0">Select Source</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 leadStatus">\t\t\t\t\t\t<label class="m-0">Lead Status & Category</label>\t\t\t\t\t\t<select name="leadStatusSearch" id="leadStatusSearch" class="form-control" multiple >\t\t\t\t\t\t\t\t<option value="">Select Status</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 utmSource">\t\t\t\t\t\t<label class="m-0">Interest Form Filled As</label>\t\t\t\t\t\t<select name="studentStage" id="studentStage" class="form-control"  >\t\t\t\t\t\t\t<option value="">Select Filled As</option>\t\t\t\t\t\t\t<option value="Individual" >Individual</option>\t\t\t\t\t\t\t<option value="On behalf of Organization/Company" >On behalf of Organization/Company</option>\t\t\t\t\t\t\t<option value="Interest Form not filled yet" >Interest Form not filled yet</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 leadAssign">\t\t\t\t\t\t<label class="m-0">Lead Assign To</label>\t\t\t\t\t\t<select name="leadAssignToSearch" id="leadAssignToSearch" class="form-control" multiple '+(t.discardPermission,'>\t\t\t\t\t\t\t<option value="">Select Assign</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 followUpMedium">\t\t\t\t\t\t\t<label class="m-0">Connected Through</label>\t\t\t\t\t\t\t<select name="followMedSearch" id="followMedSearch" class="form-control">\t\t\t\t\t\t\t\t<option value="">Select</option>\t\t\t\t\t\t\t\t<option value="Meeting" >Meeting</option>\t\t\t\t\t\t\t\t<option value="WhatsApp" >WhatsApp</option>\t\t\t\t\t\t\t\t<option value="Email" >Email</option>\t\t\t\t\t\t\t\t<option value="Call" >Call</option>\t\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Email</label>\t\t\t\t\t\t<input type="email" name="leademailIdSearch" id="leademailIdSearch" class="form-control"  maxlength="100">\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Phone No.</label>\t\t\t\t\t\t<input type="text" name="phoneNoSearch" id="phoneNoSearch" class="form-control" maxlength="15"/>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Organization Name</label>\t\t\t\t\t\t<input type="text" name="leadstdfnameSearch" id="leadstdfnameSearch" class="form-control" maxlength="100" onkeydown="return M.isChars(event);">\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 country">\t\t\t\t\t\t<label class="m-0">Country</label>\t\t\t\t\t\t<select name="countryId" id="countryId" class="form-control" >\t\t\t\t\t\t\t<option value="0">Select country</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 state">\t\t\t\t\t\t<label class="m-0">State</label>\t\t\t\t\t\t<select name="stateId" id="stateId" class="form-control" >\t\t\t\t\t\t\t<option value="0">Select state</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1 city">\t\t\t\t\t\t<label class="m-0">City</label>\t\t\t\t\t\t<select name="cityId" id="cityId" class="form-control" >\t\t\t\t\t\t\t<option value="0">Select city</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>            \t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 utmSource">\t\t\t\t\t\t<label class="m-0">UTM Source</label>\t\t\t\t\t\t<select name="utmSourceSearch" id="utmSourceSearch" class="form-control"  >\t\t\t\t\t\t\t<option value="">Select UTM Source</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Start Date</label>\t\t\t\t\t\t<input type="text" name="leadStartDateSearch" id="leadStartDateSearch"  class="form-control datepicker">\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">To Date</label>\t\t\t\t\t\t<input type="text" name="leadEndDateSearch" id="leadEndDateSearch"  class="form-control datepicker">\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 utmSource">\t\t\t\t\t\t<label class="m-0">Date Type</label>\t\t\t\t\t\t<select name="searchDateType" id="searchDateType" class="form-control"  >\t\t\t\t\t\t\t<option value="">Select Date Type</option>\t\t\t\t\t\t\t<option value="create-lead" >Created Lead</option>\t\t\t\t\t\t\t<option value="modify-lead" >Modify Lead</option>\t\t\t\t\t\t\t<option value="demo-lead" >Interview Book</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</form>        </div>        <div class="modal-footer">            <button type="button" class="btn btn-danger btn-shadow float-right pr-4 pl-4 ml-2" onclick="advanceLeadSearchStudentReset(\'advanceLeadNewSearchForm\',\'')+t.leadType+'\')">Reset</button>\t\t\t<button type="button" class="btn btn-info btn-shadow float-right pr-4 pl-4 ml-2" data-dismiss="modal">Close</button>\t\t\t<button type="button" class="btn btn-success btn-shadow float-right pr-4 pl-4" id="btnNewClickLeadSearch">Search</button>        </div>    </div></div></div>'}function getLeadMergeB2BFormPopup(t){var l="";return l+='<div id="leadMergeB2BPopup" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-xl">    <div class="modal-content border-0">        <div class="modal-header pt-2 pb-2 theme-bg text-white">            <h5 class="modal-title" id="leadFormText">Merge Lead Form</h5>            <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">                <span aria-hidden="true">×</span>            </button>        </div>       <div class="modal-body">\t\t<form class="col-lg-12 col-md-12 col-ms-12 col-12 pt-2 pb-2" method="post" action="javascript:void(0);" id="leadMergeDataPopupB2BForm">\t\t\t<input type="hidden" name="leadId" id="leadId" value="" />\t\t\t<input type="hidden" name="parentleadId" id="parentleadId" value="" />\t\t\t<input type="hidden" name="academicId" id="academicId" value="" />\t\t\t<input type="hidden" name="leadNo" id="leadNo" value="" />\t\t\t<input type="hidden" name="rawLeadId" id="rawLeadId" value="" />\t\t\t<input type="hidden" name="relationType" id="relationType" value="" />\t\t\t<input type="hidden" name="leadSourceGroup" id="leadSourceGroup" value="" />\t\t\t<input type="hidden" name="countrolType" id="countrolType" value="" />\t\t\t<input type="hidden" name="mergeLeads" id="mergeLeads" value="" /><input type="hidden" name="isdCode" id="isdCode" value="" /><input type="hidden" name="pCountryCode" id="pCountryCode" value="" /><input type="hidden" name="isdCodeAlter" id="isdCodeAlter" value="" /><input type="hidden" name="pCountryCodeAlter" id="pCountryCodeAlter" value="" />\t\t\t<input type="hidden" name="leadType" id="leadType" value="'+t.leadType+'" />\t\t\t<div class="row">\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">First Name*</label>\t\t\t\t\t\t<input type="text" name="leadstdfname" id="leadstdfname" value=""   class="form-control" maxlength="100" onkeydown="return M.isChars(event);">\t\t\t\t</div>\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t<label class="m-0">Middle Name</label>\t\t\t\t\t<input type="text" name="leadstdmname" id="leadstdmname" value=""  class="form-control" maxlength="100" onkeydown="return M.isChars(event);">\t\t\t\t</div>\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t<label class="m-0">Last Name</label>\t\t\t\t\t<input type="text" name="leadstdlname" id="leadstdlname" value=""  class="form-control" maxlength="100" onkeydown="return M.isChars(event);">\t\t\t\t</div>\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t<label class="m-0">Grade*</label>\t\t\t\t\t<select name="leadGrade" id="leadGrade" class="form-control" >\t\t\t\t\t\t<option value="">Select Grade</option>'+getStandardContent(t.schoolId,!0,!1)+'\t\t\t\t\t</select>\t\t\t\t</div>\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Country</label>\t\t\t\t\t\t<select name="countryId" id="countryId" class="form-control"  ></select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">State</label>\t\t\t\t\t\t<select name="stateId" id="stateId" class="form-control" ></select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">City</label>\t\t\t\t\t\t<select name="cityId" id="cityId" class="form-control" ></select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Email*</label>\t\t\t\t\t\t<input type="email" name="leademailId" id="leademailId" class="form-control" value=""  \t\t\t\t\t\tmaxlength="100" pattern="^([w-]+(?:.[w-]+)*)@((?:[w-]+.)*w[w-]{0,66}).([a-zA-Z]{2,10}(?:.[a-zA-z]{2})?)$">\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t<label>Alt Email</label> \t\t\t\t\t\t<input type="email" name="leademailAlternet" id="leademailAlternet" class="form-control" value=""  maxlength="100"\t\t\t\t\tpattern="^([w-]+(?:.[w-]+)*)@((?:[w-]+.)*w[w-]{0,66}).([a-zA-Z]{2,10}(?:.[a-zA-z]{2})?)$">\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t<label>Phone No.<span>*</span></label> \t\t\t\t\t\t<input type="text" name="phoneNo" id="phoneNo" class="form-control" value="" maxlength="15" onkeydown="return M.digit(event);" />\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t<label>Alt Phone No.</label> \t\t\t\t\t\t<input type="text" name="phoneNoAlter" id="phoneNoAlter" class="form-control" value=""  maxlength="15" onkeydown="return M.digit(event);" />\t\t\t\t\t</div>',t.discardPermission&&(l+='<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1 " >\t\t<label class="m-0">Lead Source * </label>\t\t<select\tname="leadSource" id="leadSource" class="form-control" ></select>\t</div>\t<div class="col-xl-3 col-lg-4 col-md-4 col-sm-4 col-12 mb-1 mt-1">\t\t<label class="m-0">Lead Status*</label>\t\t<select name="leadStatus" id="leadStatus" class="form-control"></select>\t</div>\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1">\t\t<label class="m-0">Lead Assigned To*</label>\t\t<select name="leadAssignTo" id="leadAssignTo" class="form-control" ></select>\t</div>\t<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mb-2">\t\t<label>Remarks</label>\t\t<textarea name="leadRemark" id="leadRemark" rows="3" class="form-control"></textarea>\t</div>'),l+='\t\t\t</div>\t\t\t</form>\t\t<div class="row">\t\t\t<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mb-2" id="mergeleadlist"></div>\t\t\t</div>\t        </div>        <div class="modal-footer">\t\t\t<button type="button" class="btn btn-info btn-shadow float-right pr-4 pl-4 ml-2" data-dismiss="modal">Close</button>\t\t\t<button type="button" class="btn btn-success btn-shadow float-right pr-4 pl-4" id="saveMergeB2BLead">Save</button>        </div>    </div></div></div>'}function getTotalB2BLeads(t){console.log(t);var l=getB2BLeadCount(t.leadTotalData);$("#b2b-total-head").html(l)}function getB2BLeadCount(t){var l="";return l+='<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 px-1">',l+='<div class="full p-2 bg-light-primary border border-primary rounded-10 position-relative mr-0 mr-sm-2 mb-2 shadow-sm">',l+='<span class="line-left bg-primary d-inline-block position-absolute rounded-10"></span>',l+='<p class="m-0 font-12"><b>Total</b></p>',l+='<p class="m-0">',t.totalLeads>0?l+='<b><a href="javascript:void(0)" class="text-dark" onclick="getTotalLead(\'B2B\')">'+t.totalLeads+"</a></b>":l+="-",l+="</p>",l+="</div>",l+="</div>",l+='<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 px-1">',l+='<div class="full p-2 bg-white border border-secondary rounded-10 position-relative mr-0 mr-sm-2 mb-2  shadow-sm ">',l+='<span class="line-left bg-secondary d-inline-block position-absolute rounded-10"></span>',l+='<p class="m-0 font-12"><b>Today\'s Fresh Requests</b></p>',l+='<p class="m-0"><b>',t.freshLead>0?l+='<a href="javascript:void(0)" class="text-dark" onclick="return clickTotalLeads(\''+t.clickFrom+"-"+t.clickUserid+"', '0','freshLead');\">"+t.freshLead+"</a>":l+="-",l+="</b>",l+="</p>",l+="</div>",l+="</div>",l+='<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 px-1 ">',l+='<div class="full p-2 bg-light border border-secondary rounded-10 position-relative mr-0 mr-sm-2 mb-2  shadow-sm ">',l+='<span class="line-left bg-secondary d-inline-block position-absolute rounded-10"></span>',l+='<p class="m-0 font-12"><b>Basic Details not Filled</b></p>',l+='<p class="m-0"><b>',t.followupLead1>0?l+='<a href="javascript:void(0)" class="text-dark" onclick="return clickTotalLeads(\''+t.clickFrom+"-"+t.clickUserid+"', '0', 'leadbasicdetail');\">"+t.followupLead1+"</a>":l+="-",l+="</b></p>",l+="</div>",l+="</div>",l+='<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 px-1">',l+='<div class="full p-2 b2b-bg-review-white border b2b-border-review-dark rounded-10 position-relative mr-0 mr-sm-2 mb-2  shadow-sm">',l+='<span class="line-left b2b-bg-review-dark d-inline-block position-absolute rounded-10"></span>',l+='<p class="m-0 font-12"><b>Request Under Review</b></p>',l+='<p class="m-0"><b>',t.followupLead2>0?l+='<a href="javascript:void(0)" class="text-dark" onclick="return clickTotalLeads(\''+t.clickFrom+"-"+t.clickUserid+"', '0','leadrequestreview');\">"+t.followupLead2+"</a>":l+="-",l+="</b></p>",l+="</div>",l+="</div>",l+='<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 px-1">',l+='<div class="full p-2 b2b-bg-callCompleted-white border b2b-border-callCompleted-dark rounded-10 position-relative mr-0 mr-sm-2 mb-2  shadow-sm">',l+='<span class="line-left b2b-bg-callCompleted-dark d-inline-block position-absolute rounded-10"></span>',l+='<p class="m-0 font-12"><b>Call Completed</b></p>',l+='<p class="m-0"><b>',t.totalCallComplete>0?l+='<a href="javascript:void(0)" class="text-dark" onclick="return clickTotalLeads(\''+t.clickFrom+"-"+t.clickUserid+"', '0','callb2bcomplete');\">"+t.totalCallComplete+"</a>":l+="-",l+="</b></p>",l+="</div>",l+="</div>",l+='<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 px-1">',l+='<div class="full p-2 b2b-bg-interview-white border b2b-border-interview-dark rounded-10 position-relative mr-0 mr-sm-2 mb-2  shadow-sm ">',l+='<span class="line-left b2b-bg-interview-dark d-inline-block position-absolute rounded-10"></span>',l+='<p class="m-0 font-12"><b>Interested to Interview</b></p>',l+='<p class="m-0"><b>',t.meetingResult>0?l+='<a href="javascript:void(0)" class="text-dark" onclick="return clickTotalLeads(\''+t.clickFrom+"-"+t.clickUserid+"', '0','leadInterestedInterview');\">"+t.meetingResult+"</a>":l+="-",l+="</b></p>",l+="</div>",l+="</div>",l+='<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 px-1">',l+='<div class="full p-2 b2b-bg-totinterview-white border b2b-border-totinterview-dark rounded-10 position-relative mr-0 mr-sm-2 mb-2  shadow-sm ">',l+='<span class="line-left b2b-bg-totinterview-dark d-inline-block position-absolute rounded-10"></span>',l+='<p class="m-0 font-12"><b>Total Interview</b></p>',l+='<p class="m-0"><b>',t.demoLead>0?l+='<a href="javascript:void(0)" class="text-dark" onclick="return clickTotalLeads(\''+t.clickFrom+"-"+t.clickUserid+"', '0', 'leadInterviewBooked');\">"+t.demoLead+"</a>":l+="-",l+="</b> | <b>",t.followupLead3>0?l+='<a href="javascript:void(0)" class="text-dark"  onclick="return clickTotalLeads(\''+t.clickFrom+"-"+t.clickUserid+"', '0',  'btwinterviewdone');\">"+t.followupLead3+"</a>":l+="-",l+="</b></p>",l+="</div>",l+="</div>",l+='<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 px-1">',l+='<div class="full p-2 b2b-bg-moveinterview-white border b2b-border-moveinterview-dark rounded-10 position-relative mr-0 mr-sm-2 mb-2  shadow-sm ">',l+='<span class="line-left b2b-bg-moveinterview-dark d-inline-block position-absolute rounded-10"></span>',l+='<p class="m-0 font-12"><b>Moving for the Next meeting</b></p>',l+='<p class="m-0"><b>',t.totalReserved>0?l+='<a href="javascript:void(0)" class="text-dark" onclick="return clickTotalLeads(\''+t.clickFrom+"-"+t.clickUserid+"', '0', 'movingtonextinterview');\">"+t.totalReserved+"</a>":l+="-",l+="</b></p>",l+="</div>",l+="</div>",l+='<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 px-1">',l+='<div class="full  p-2 bg-light-success border border-success rounded-10 position-relative mr-0 mr-sm-2 mb-2 shadow-sm">',l+='<span class="line-left bg-success d-inline-block position-absolute rounded-10"></span>',l+='<p class="m-0 font-12"><b>Converted | Partner </b></p>',l+='<p class="m-0"><b>',t.totalConverted>0?l+='<a href="javascript:void(0)" class="text-dark" onclick="return clickTotalLeads(\''+t.clickFrom+"-"+t.clickUserid+"', '0','totalonboarding');\">"+t.totalConverted+"</a>":l+="-",l+="|",t.totalPartner>0?l+='<a href="javascript:void(0)" class="text-dark" onclick="return clickTotalLeads(\''+t.clickFrom+"-"+t.clickUserid+"', '0',  'totalonpartner');\">"+t.totalPartner+"</a>":l+="-",l+="</b></p>",l+="</div>",l+="</div>",l+='<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 px-1">',l+='<div class="full p-2 bg-light-alternate border border-alternate rounded-10 position-relative mr-0 mr-sm-2 mb-2 shadow-sm ">',l+='<span class="line-left bg-alternate d-inline-block position-absolute rounded-10"></span>',l+='<p class="m-0 font-12"><b>Move Lead</b></p>',l+='<p class="m-0"><b>',t.movedLead>0?l+='<a href="javascript:void(0)" class="text-dark" onclick="return clickTotalLeads(\''+t.clickFrom+"-"+t.clickUserid+"', '0','btmovdLead');\">"+t.movedLead+"</a>":l+="-",l+="</b></p>",l+="</div>",l+="</div>",l+='<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 px-1">',l+='<div class="full p-2 bg-light-danger border border-danger rounded-10 position-relative mb-2 shadow-sm">',l+='<span class="line-left bg-danger d-inline-block position-absolute rounded-10"></span>',l+='<p class="m-0 font-12"><b>Scrape</b></p>',l+='<p class="m-0"><b>',t.scrapeLead>0?l+='<a href="javascript:void(0)" class="text-dark" onclick="return clickTotalLeads(\''+t.clickFrom+"-"+t.clickUserid+"', '0', 'scrapeLead');\">"+t.scrapeLead+"</a>":l+="-",l+="</b></p>",l+="</div>",l+="</div>",l+='<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 px-1">',l+='<div class="full p-2 b2b-bg-rejected-white border b2b-border-rejected-dark rounded-10 position-relative mb-2 shadow-sm">',l+='<span class="line-left b2b-bg-rejected-dark d-inline-block position-absolute rounded-10"></span>',l+='<p class="m-0 font-12"><b>Rejected</b></p>',l+='<p class="m-0"><b>',t.totalArchive>0?l+='<a href="javascript:void(0)" class="text-dark" onclick="return clickTotalLeads(\''+t.clickFrom+"-"+t.clickUserid+"', '0', 'totalArchive');\">"+t.totalArchive+"</a>":l+="-",l+="</b>",l+="</p>",l+="</div>",l+="</div>"}function getB2bLeadList(t,l,e){var a=t.data,o=t.objectRights,d=o.b2cStatus,s=o.b2bStatus,c=o.leadType.toLowerCase();d?$(".b2clead").removeClass("d-none"):$(".b2clead").addClass("d-none"),s?$(".b2blead").removeClass("d-none"):$(".b2blead").addClass("d-none"),console.log(a);for(var i="",r=0;r<a.length;r++){var n=a[r];i+='<div class="lead-table-wrapper"><table class="table table-bordered font-12 border-radius-table" style="min-width:1380px;width:100%" id="leadDataList"><thead class="bg-primary"><tr><th class="text-white bold rounded-top-left-10 border-bottom-0 border-primary" style="border-top-color:transparent;border-right-color:#fff !important">',l.discardPermission||USER_ID==n.assignTo?(i+='<input type="hidden" value="'+n.assignTo+"-"+n.demoAssignTo+'" id="checkDemoMoved-'+n.leadId+'"/>',i+='<input type="checkbox" class="checkLead" id="lead-'+n.leadId+'" name="lead-move-another" value="'+n.leadId+'" /> '):i+='<input type="checkbox" disabled="disabled" class="checkLead" id="lead-'+n.leadId+'" name="lead-move-another" value="'+n.leadId+'" />',i+=n.srNo+'&nbsp;Lead info <span class="b2bleadInfoTime"></span>&nbsp;&nbsp;'+l.countryOffsetTimezone+'</th><th class="text-white bold border-bottom-0">Individual/Organization Details</th>',null!=n.leadLastCallList&&n.leadLastCallList.length>0?i+='<th class="text-white bold border-bottom-0 text-center">&nbsp;</th>':i+='<th class="text-white bold border-bottom-0 text-center">Follow Ups</th>',i+='<th class="text-white bold border-bottom-0 rounded-top-right-10" style="border-top-color:transparent;border-right-color:transparent">Action</th></tr></thead><tbody class="lead-table-css"><input type="hidden" id="demoMovedTrue" /><input type="hidden" id="blankDemo" /><tr class="td-border-design"><td style="max-width:320px;min-width: 320px;vertical-align:top;" class="rounded-bottom-left-10 '+c+"-"+(""!=n.callBadge?n.callBadge+"-bg":"")+'"><table class="w-100"><tbody><tr><th class="border-0 p-1">No.:</th><td class="border-0 p-1 '+c+"-"+(""!=n.callBadge?n.callBadge+"-leadno-bg":"")+'" >'+n.leadNo+'</td></tr><tr><th class="border-0 p-1">Lead Status & Category:</th><td class="border-0 p-1">'+(""!=n.leadStatus?n.leadStatus:"N/A")+'</td></tr><tr><th class="border-0 p-1">Assigned To:</th><td class="border-0 p-1">'+(""!=n.assignName?n.assignName:"N/A")+'</td></tr><tr><th class="border-0 p-1">Assigned Date:</th><td class="border-0 p-1">'+(""!=n.createdDateStr?n.createdDateStr:"N/A")+'</td></tr><tr><th class="border-0 p-1">UTM:</th><td class="border-0 p-1"><div class="dropdown d-inline-block"><button type="button" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" class="dropdown-toggle btn btn-sm btn-primary">View More Details</button><div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu-md dropdown-menu p-2" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 32px, 0px);">',4==n.leadSourceId?i+='<table class="w-100"><tbody><tr><th class="border-0 p-0 font-12">Source:</th><td class="border-0 p-0 font-12">'+(""!=n.utmSource?n.utmSource:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Ad:</th><td class="border-0 p-0 font-12">'+(""!=n.utmMedium?n.utmMedium:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Ad Set:</th><td class="border-0 p-0 font-12">'+(""!=n.utmDescription?n.utmDescription:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Compaign</th><td class="border-0 p-0 font-12">'+(""!=n.utmCampaign?n.utmCampaign:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Is_Organic</th><td class="border-0 p-0 font-12">'+(""!=n.utmTerm?n.utmTerm:"N/A")+"</td></tr></tbody></table>":i+='<table class="w-100"><tbody><tr><th class="border-0 p-0 font-12">Source:</th><td class="border-0 p-0 font-12">'+(""!=n.utmSource?n.utmSource:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Medium:</th><td class="border-0 p-0 font-12">'+(""!=n.utmMedium?n.utmMedium:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Description:</th><td class="border-0 p-0 font-12">'+(""!=n.utmDescription?n.utmDescription:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Compaign</th><td class="border-0 p-0 font-12">'+(""!=n.gclid?n.gclid:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Compaign</th><td class="border-0 p-0 font-12">'+(""!=n.utmCampaign?n.utmCampaign:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Is_Organic</th><td class="border-0 p-0 font-12">'+(""!=n.utmTerm?n.utmTerm:"N/A")+"</td></tr></tbody></table>",i+='</div></div></td></tr></tbody></table></td><td class="p-0 '+c+"-"+(""!=n.callBadge?n.callBadge+"-bg":"")+'" style="max-width: 696px;min-width: 696px;"><table class="w-100"><tbody><tr><td class="border-0"><table class="w-100"><tbody><tr><th class="border-0 p-1" style="width:165px">Name: </th><td class="border-0 p-1">'+(""!=n.fname?n.fname:"N/A")+" "+n.mname+" "+n.lname+'</td></tr><tr><th class="border-0 p-1" style="width:165px">Organization Name:</th><td class="border-0 p-1">'+(""!=n.gfname?n.gfname:"N/A")+" "+n.gmname+" "+n.glname+'</td></tr><tr><th class="border-0 p-1" style="width:165px">Designation:</th><td class="border-0 p-1">'+(""!=n.relationType?n.relationType:"N/A")+'</td></tr><tr><th class="border-0 p-1" style="width:165px">City | Country:</th><td class="border-0 p-1">'+(""!=n.cityName?n.cityName:"N/A")+" | "+(""!=n.countryName?n.countryName:"N/A")+'</td></tr><tr><th class="border-0 p-1" style="width:165px">Phone:</th><td class="border-0 p-1">'+(""!=n.isdCode?n.isdCode:"")+" "+(""!=n.phone?n.phone:""),""!=n.isdCode&&n.verifiedWtsup>0&&(i+='<span style="color:green;font-size:15px;"><a href="https://api.whatsapp.com/send?phone='+(""!=n.phoneIsd?n.phoneIsd:"")+'" target="_target"> <img src="'+PATH_FOLDER_IMAGE+'watsapp-icon.png" width="16px" /></a></span>'),i+='</td></tr><tr><th class="border-0 p-1" style="width:165px">Email:</th><td class="border-0 p-1">'+(""!=n.email?n.email:"N/A"),""!=n.email&&n.verifiedEmail>0&&(i+='<i class="pe-7s-check text-success"></i>'),i+='</td></tr><tr><th class="border-0 p-1" style="width:165px">Message:</th><td class="border-0 p-1"><div class="dropdown d-inline-block" style="position: inherit;"><button type="button" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" class="dropdown-toggle btn btn-sm btn-primary">View Message</button><div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu-lg dropdown-menu p-2" x-placement="bottom-start" style="max-width: 250px;"><p class="m-0">'+(""!=n.remarks?n.remarks:"N/A")+'</p></div></div></td></tr></tbody></table></td><td class="border-0" style="width: 350px;vertical-align:top;"><table class="w-100"><tbody>',""!=n.partnerTypeId&&n.partnerTypeId>0&&(i+='<tr><td class="border-0 p-1" colspan="2"><span class="bold">Enrollment Partner Code:</span> '+(""!=n.referralcode?n.referralcode:"N/A")+"</td></tr>"),i+='<tr><th class="border-0 p-1" colspan="2">Enrollment Partner Form:<a href="'+(""!=n.epUpdateUrl?n.epUpdateUrl:"#")+'" class="btn btn-sm btn-primary rounded-5 ml-2" target="_blank" >'+("Y"==n.epdetailStatus?"Update":"Not Updated")+" </a></th></tr>",""!=n.leadDemoIstTime&&(i+='<tr><th class="border-0 p-1" colspan="2"><table style="width:100%;" class="'+c+'-demotable"><tr style="background:none"><td style="width:150px">Interview Scheduled:</td><td>'+(""!=n.leadDemoIstDate?n.leadDemoIstDate:"N/A")+'</td></tr><tr style="background:none"><td>Status:</td><td>'+(""!=n.demoStatus?n.demoStatus:"N/A")+"</td></tr></table></th></tr>"),i+='<tr><td rowspan="6" colspan="2" class="border-0 p-0 pr-2"><div class="full p-1 px-2 border rounded-10 shadow-sm"><p class="mb-1 font-weight-bold">Remarks</p><div class="full overflow-auto" style="max-height: 120px;"><p class="m-0">'+(""!=n.followupRemark?n.followupRemark:"N/A")+'</p></div></div></td></tr>\t</tbody></table></td></tr></tbody></table></td><td class="p-0 '+c+"-"+(""!=n.callBadge?n.callBadge+"-bg":"")+'" style="vertical-align:top;width: 230px; '+(""!=n.leadLastCallList&&n.leadLastCallList.length,'border-top:5px solid #007fff !important">'),""!=n.leadLastCallList&&n.leadLastCallList.length>0?i+='<ul class="follow-up-accordian m-0 p-0 overflow-auto" style="max-height: 228px;margin-top:-40px !important">':i+='<ul class="follow-up-accordian m-0 p-0 overflow-auto" style="max-height: 228px;"><li class="follow-up-accordian-active text-center mt-2"><span class="border p-2  d-inline-block rounded-10 font-weight-bold text-primary" style="font-size:14px; min-width: 150px;">No follow ups yet</span></li>';for(var m=0;m<n.leadLastCallList.length>0;m++)leadCall=n.leadLastCallList[m],i+='<li class=" '+(0==m?"follow-up-accordian-active":"")+'"><span class="cursor follow-up-no text-primary p-2 text-center border-primary full bold">Follow Up-'+leadCall.srno+' <i class="fa '+(0==m?"fa-angle-up":"fa-angle-down")+' float-right" style="line-height: 20px;"></i></span><div class="follow-up-content text-center" style="'+(0==m?"display: block":"")+'"><div class="dropdown d-inline-block text-center my-2" style="position: inherit;"><button type="button" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" class="dropdown-toggle btn btn-sm btn-primary">View Follow Up</button><div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu-md dropdown-menu p-2" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 32px, 0px);"><table class="w-100"><tr><th class="p-1 border-0">Connected Through:</th><td class="p-1 border-0" id="connectedTh">'+leadCall.followupBy+'</td></tr><tr><th class="p-1 border-0">Connected With:</th><td class="p-1 border-0" id="connectWith">'+leadCall.toCall+'</td></tr><tr><th class="p-1 border-0">Lead Status & Category:</th><td class="p-1 border-0" id="leadFollowStatusCategory">'+leadCall.leadFollowStatus+'</td></tr><tr><th class="p-1 border-0">Next Follow-up:</th><td class="p-1 border-0" id="nextFollowStatus">'+(""!=leadCall.callStatus?leadCall.callStatus:"")+(""!=leadCall.nextCallscheduleDateString?leadCall.nextCallscheduleDateString:"")+'</td></tr><tr><th class="p-1 border-0">Remarks:</th><td class="p-1 border-0 text-justify" id="callRemark" style="max-width: 250px;">'+(""!=leadCall.followRemarks?leadCall.followRemarks:"")+"</td></tr></table></div></div></div></li>";if(i+='</ul></td><td class="rounded-bottom-right-10 '+c+"-"+(""!=n.callBadge?n.callBadge+"-bg":"")+'"><table class="w-100"><tbody>',"Converted & On Boarding | Hot"!=n.leadStatus||""==n.partnerTypeId||0==n.partnerTypeId){i+='<tr><td colspan="2" class="border-0 p-1">',"Y"==e.updated&&(i+="<a href=\"javascript:void(0)\" onclick=\"callGetOpenFollowup('followupB2BSaveForm','"+n.leadId+"','"+USER_ID+"','edit','"+t.currentPage+"','leadFollowupB2BForm','B2B','"+n.epdetailStatus+'\');" class="text-dark py-1 d-inline-block"><i class="fa fa-plus-square text-primary"></i>&nbsp;'+(""!=n.leadLastCallList?"Add Follow Up":"Add More Follow Up")+"</a>");var p="return showNewDiscardLeadModelFunction('"+("discardLeadsData(\\'"+n.leadId+"\\',\\'"+l.moduleId+"\\',\\'"+l.leadFrom+"\\',\\'"+n.LeadSourceName+"\\',\\'"+USER_ID+"\\', \\'true\\', \\'"+t.currentPage+"\\',\\'B2B\\',\\'new-leads\\')")+"','"+n.LeadSourceName+"','"+n.fname+"','"+n.email+"', '"+n.phone+"','"+n.createdDateStr+"','"+n.leadNo+"')";i+='</td></tr><tr><td colspan="2" class="border-0 p-1"><a href="javascript:void(0)" class="text-dark py-1 d-inline-block" onclick="callLeadsByLeadId(\'leadDataPopupB2BForm\',\''+n.leadId+"','"+USER_ID+"','addLeadClone', 'leadPopupB2BForm', 'B2B',"+l.discardPermission+');" ><i class="fa fa-edit text-primary"></i>&nbsp;Clone</a></td></tr><tr><td colspan="2" class="border-0 p-1"><a href="javascript:void(0)" class="text-dark py-1 d-inline-block" onclick="getAsPost(\'/dashboard/lead-followup-log-data?moduleId='+l.moduleId+"&leadNo="+n.leadNo+'&leadType=B2B\')"><i class="fa fa-object-ungroup text-primary"></i>&nbsp;Activity Logs</a></td></tr><tr><td colspan="2" class="border-0 p-1"><a href="javascript:void(0)" onclick="'+p+'" class="text-dark py-1 d-inline-block"><i class="fa fa-trash text-danger"></i>&nbsp;Discard</a></td></tr><tr><td colspan="2" class="border-0 p-1"><a href="javascript:void(0)" onclick="showBasicDetailsMailWarning('+n.rawLeadId+');" class="text-dark py-1 d-inline-block"><i class="fa fa-link text-primary"></i>&nbsp;Send Basic Details Mail</a></td></tr>'}else i+='<tr><td colspan="2" class="border-0 p-1"><a href="javascript:void(0)" class="text-dark py-1 d-inline-block" onclick="getAsPost(\'/dashboard/lead-followup-log-data?moduleId='+l.moduleId+"&leadNo="+n.leadNo+'&leadType=B2B\')"><i class="fa fa-object-ungroup text-primary"></i>&nbsp;Activity Logs</a></td></tr><tr><td colspan="2" class="border-0 p-1"><a href="javascript:void(0)" class="text-dark py-1 d-inline-block" onclick="callLeadsByLeadId(\'leadDataPopupB2BForm\',\''+n.leadId+"','"+USER_ID+"','addLeadClone', 'leadPopupB2BForm', 'B2B',"+l.discardPermission+');" ><i class="fa fa-edit text-primary"></i>&nbsp;Clone</a></td></tr><tr><td colspan="2" class="border-0 p-1"><a href="javascript:void(0)" onclick="showResendB2BWelcomeMailWarning('+n.rawLeadId+');" class="text-dark py-1 d-inline-block"><i class="fa fa-link text-primary"></i>&nbsp;Resend Login Details Mail</a></td></tr>';"Converted & On Boarding | Hot"==n.leadStatus&&(i+='<tr><td colspan="2" class="border-0 p-1"><a href="javascript:void(0)" onclick="createPartnerUser(\'partnerUserB2BSaveForm\',\''+n.leadId+"','leadPartnerUserB2B','"+n.partnerTypeId+"','"+n.epdetailStatus+'\');" class="text-dark py-1 d-inline-block"><i class="fa fa-user text-primary"></i>&nbsp;'+(null==n.partnerTypeId||""==n.partnerTypeId||0==n.partnerTypeId?"Create Partner":"Update Partner")+"</a></td></tr>"),i+="</tbody></table></td></tr></tbody></table></div>"}return i+=b2bleadsPagging(t,l)}function b2bleadsPagging(t,l){l=t.objectRights;t.recordsPerPage;var e=t.noOfPages,a=t.currentPage,o=a-2,d=a+2+1,s=l.leadType,c=null!=l.clickByLead?l.clickByLead:"",i="";if(e>1){i+='<div><ul class="pagination">',1!=a&&(i+='<li class="page-item"><a class="page-link" href="javascript:void(0);" onclick="clickTotalLeads(\''+l.clickFrom+"-"+l.clickUserid+"', '"+(a-1)+"','"+c+"','"+s+"');\">Previous</a></li>");for(let t=1;t<=e;t++)(t<5||t>e-1||t>=o&&t<d)&&((t>e-1||t<o&&t>d)&&(i+="..."),i+='<li class="page-item"><a class="page-link"  href="javascript:void(0);" onclick="clickTotalLeads(\''+l.clickFrom+"-"+l.clickUserid+"' ,'"+t+"','"+c+"','"+s+'\');" style="'+(t==a?"background-color: #cdeedd !important;":"")+'">'+t+"</a></li>");a<e&&(i+='<li class="page-item"><a class="page-link" href="javascript:void(0);" onclick="clickTotalLeads(\''+l.clickFrom+"-"+l.clickUserid+"', '"+a+"1','"+c+"','"+s+"');\">Next</a></li>"),i+="</ul>",i+="</div>"}return i}