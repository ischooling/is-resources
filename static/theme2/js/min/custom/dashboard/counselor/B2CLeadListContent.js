function getB2CListHeaderContent(t,e){var l='<div class="row px-3 pt-3 pb-1">';return l+='<div class="col-lg-12 col-md-12 col-sm-12 col-12 order-lg-6 mb-3 text-right">',l+='<button class="btn-shadow btn btn-secondary text-white  btn-full-mobile mb-2" onclick="getWatiTemplates()" >Wati Broadcast</button>',l+='<div class="">',e.discardPermission&&"Y"==t.added&&(l+='<form id="leadUploadId" name="leadUploadId" action="javascript:void(0);"  >',l+='<input type="hidden" name="userId" id="userId" value="${USER_ID}">',l+='<div class="row align-items-center" id="leadUploadId">',l+='<div class="ml-4">',l+='<div class="file-upload">',l+='<div class="file-select">',l+='<div class="file-select-button" id="fileupload1Label">Choose File</div>',l+='<div class="file-select-name" id="fileupload1ChoosenFile">No file chosen...</div>',l+='<input type="file" name="fileupload1" id="fileupload1">',l+="</div>",l+="</div>\t",l+="</div>",l+='<div class="ml-3 text-left">',l+='<button type="submit" class="btn btn-primary" id="uploadLeadCSV" onclick="return uploadLeads(\'leadUploadId\');">Upload Leads</button>\t',l+="</div>",l+="</div>",l+="</form>\t"),l+='<div class="d-flex justify-content-end align-items-center" style="gap:6px;">',"Y"==t.added&&(l+='<b class="schoolDemoUrlAutoCounselor text-success"></b>',l+='<input type="hidden" id="school-demo-auto-counselor-url" value="'+e.schoolDemoUrlAutoCounselor+'" style="opacity:0;height:0px">',l+='<button class="btn-shadow btn btn-secondary text-white  btn-full-mobile mb-1" onclick="copyURL(\'school-demo-auto-counselor-url\', \'schoolDemoUrlAutoCounselor\')"  id="schoolDemoUrl">New Demo with auto counselor</button>'),"Y"==t.added&&(l+='<b class="schoolDemoUrl text-success d-none"></b>',l+='<input type="hidden" id="common-school-demo-url" value="'+e.schoolDemoUrl+'" style="opacity:0;height:0px">',l+='<button class="btn-shadow btn btn-secondary text-white  btn-full-mobile mb-1" onclick="copyURL(\'common-school-demo-url\', \'schoolDemoUrl\')"  id="schoolDemoUrl">Add New Demo</button>'),"Y"==t.added&&(l+='<button class="btn-shadow btn btn-secondary text-white  btn-full-mobile mb-1"  id="addNewCampaign">Campaign List</button>'),"Y"==t.added&&(l+='<button class="btn-shadow btn btn-warning text-white  btn-full-mobile mb-1"  id="addLead">Add New Leads</button>'),l+='<button class="btn-shadow btn btn-danger text-white btn-full-mobile mb-1" id="moveNewLead">Move Lead</button> ',"Y"==t.updated&&(l+='<button class="btn-shadow btn btn-focus text-white btn-full-mobile mb-1" id="mergeLead">Merge Lead</button> '),"DIRECTOR"==USER_ROLE&&(l+='<button class="btn-shadow btn btn-success text-white mt-lg-1 btn-full-mobile mb-1" id="exportLead">Excel Export</button> '),l+="</div>",l+="</div>",l+="</div>",l+="</div>",l+='<div class="row mt-2 mb-3 px-2 mx-3 rounded-10 flex-column" style="background-color: #eee;box-shadow: inset 0px 4px 8px rgba(0, 0, 0, 0.2);" id="b2c-total-head">',l+='<div class="mt-3 d-flex" style="font-size:11px;gap:6px;">',l+='<div class="d-flex justify-content-between align-items-center w-100" style="background-color: #C6E2FF;border-radius: 5px;padding: 5px 10px;font-weight: bold;border: 1.5px solid #027FFF">\n\t\t\t<p class="mb-0">Total Lead | Today\'s Lead</p>\n\t\t\t<p id="totalTodayLeads" class="mb-0 text-white bg-primary px-2 rounded">- | -</p>\n\t\t</div>\n\t\t<div class="d-flex justify-content-between align-items-center w-100" style="background-color: #FFFFDE;border-radius: 5px;padding: 5px 10px;font-weight: bold;border: 1.5px solid #d4d481">\n\t\t\t<p class="mb-0">Facebook Total Lead | Today\'s Lead</p>\n\t\t\t<p id="fbTotalTodayLeads" class="mb-0 text-dark px-2 rounded" style="background-color:#F3F39E;">- | -</p>\n\t\t</div>\n\t\t<div class="d-flex justify-content-between align-items-center w-100" style="background-color: #FFF5DC;border-radius: 5px;padding: 5px 10px;font-weight: bold;border: 1.5px solid #d4d481">\n\t\t\t<p class="mb-0">Today\'s Follow-ups</p>\n\t\t\t<p id="todayFollowup" class="mb-0 px-2 rounded text-dark" style="background-color:#EFD597;">-</p>\n\t\t</div>\n\t\t<div class="d-flex justify-content-between align-items-center w-100" style="background-color: #D5E3FC;;border-radius: 5px;padding: 5px 10px;font-weight: bold;border: 1.5px solid #4267B2">\n\t\t\t<p class="mb-0">Today\'s School Demo</p>\n\t\t\t<p id="todaySchoolDemo" class="mb-0 px-2 rounded text-white" style="background-color:#4267B2;">-</p>\n\t\t</div>',e.discardPermission&&(l+='<div class="d-flex justify-content-between align-items-center w-100" style="background-color: #DADADA;border-radius: 5px;padding: 5px 10px;font-weight: bold;border: 1.5px solid #898989">\n\t\t\t\t<p class="mb-0">Unassigned Lead</p>\n\t\t\t\t<p id="unassignedLeads" class="mb-0 text-white px-2 rounded" style="background-color:#898989;">-</p>\n\t\t\t</div>'),l+='<div class="d-flex justify-content-between align-items-center w-100" style="background-color: #FFF6DC;border-radius: 5px;padding: 5px 10px;font-weight: bold;border: 1.5px solid #EFD597">\n\t\t\t<p class="mb-0">Followup Lead</p>\n\t\t\t<p id="followupLeadsCount" class="mb-0 px-2 rounded text-dark" style="background-color:#EFD597;">-</p>\n\t\t</div>',l+="</div>",l+='<div class="mt-2 d-flex" style="font-size:11px;gap:6px;">',l+='<div class="d-flex justify-content-between align-items-center w-100" style="background-color: #DADADA;border-radius: 5px;padding: 5px 10px;font-weight: bold;border: 1.5px solid #898989">\n\t\t\t<p class="mb-0">Unattended Lead</p>\n\t\t\t<p id="unattendedLeads" class="mb-0 text-white px-2 rounded" style="background-color:#898989;">-</p>\n\t\t</div>\n\t\t<div class="d-flex justify-content-between align-items-center w-100" style="background-color: #D5E3FC;border-radius: 5px;padding: 5px 10px;font-weight: bold;border: 1.5px solid #4267B2">\n\t\t\t<p class="mb-0">Total School Demo</p>\n\t\t\t<p id="totalSchoolDemo" class="mb-0 px-2 rounded text-white" style="background-color:#4267B2;">-</p>\n\t\t</div>\n\t\t<div class="d-flex justify-content-between align-items-center w-100" style="background-color: #FFFFDE;border-radius: 5px;padding: 5px 10px;font-weight: bold;border: 1.5px solid #d4d481">\n\t\t\t<p class="mb-0">School Demo Complete</p>\n\t\t\t<p id="completeLeads" class="mb-0 px-2 rounded text-dark" style="background-color:#F3F39E;">-</p>\n\t\t</div>\n\t\t<div class="d-flex justify-content-between align-items-center w-100" style="background-color: #E0FFBF;border-radius: 5px;padding: 5px 10px;font-weight: bold;border: 1.5px solid #96E640">\n\t\t\t<p class="mb-0">Positive To Enrollment</p>\n\t\t\t<p id="positiveToEnrollment" class="mb-0 px-2 rounded text-dark" style="background-color:#96E640;">-</p>\n\t\t</div>\n\t\t<div class="d-flex justify-content-between align-items-center w-100" style="background-color: #ffe5c5;border-radius: 5px;padding: 5px 10px;font-weight: bold;border: 1.5px solid #e65e12">\n\t\t\t<p class="mb-0">Move Lead</p>\n\t\t\t<p id="moveLeadsCount" class="mb-0 text-white px-2 rounded" style="background-color:#e65e12;">-</p>\n\t\t</div>\n\t\t<div class="d-flex justify-content-between align-items-center w-100" style="background-color: #FFE3E2;border-radius: 5px;padding: 5px 10px;font-weight: bold;border: 1.5px solid #FF0005">\n\t\t\t<p class="mb-0">Scrape</p>\n\t\t\t<p id="scrapeLeadsCount" class="mb-0 text-white px-2 rounded" style="background-color:#FF0005;">-</p>\n\t\t</div>',l+="</div>",l+='<hr class="w-100">',l+='<div class="d-flex align mb-3" style="font-size:11px;gap:20px;">',l+='<div class="d-flex justify-content-between align-items-center w-100" style="border-bottom:2px solid #1EC749;padding: 5px 10px;font-weight: bold;">\n\t\t\t<p class="mb-0" style="color:#1EC749">Hot</p>\n\t\t\t<p id="hotLeadsCount" class="mb-0 text-white px-2 rounded" style="background-color:#1EC749;">-</p>\n\t\t</div>\n\t\t<div class="d-flex justify-content-between align-items-center w-100" style="border-bottom:2px solid #F8B824;padding: 5px 10px;font-weight: bold;">\n\t\t\t<p class="mb-0" style="color:#F8B824">Warm</p>\n\t\t\t<p id="warmLeadsCount" class="mb-0 text-white px-2 rounded" style="background-color:#F8B824;">-</p>\n\t\t</div>\n\t\t<div class="d-flex justify-content-between align-items-center w-100" style="border-bottom:2px solid #0279FD;padding: 5px 10px;font-weight: bold;">\n\t\t\t<p class="mb-0" style="color:#0279FD">Cold</p>\n\t\t\t<p id="coldLeadsCount" class="mb-0 text-white px-2 rounded" style="background-color:#0279FD;">-</p>\n\t\t</div>\n\t\t<div class="d-flex justify-content-between align-items-center w-100" style="border-bottom:2px solid #7000FF;padding: 5px 10px;font-weight: bold;">\n\t\t\t<p class="mb-0" style="color:#7000FF">Demo By Website</p>\n\t\t\t<p id="demoByWebsiteCount" class="mb-0 text-white px-2 rounded" style="background-color:#7000FF;">-</p>\n\t\t</div>\n\t\t<div class="d-flex justify-content-between align-items-center w-100" style="border-bottom:2px solid #0051FF;padding: 5px 10px;font-weight: bold;">\n\t\t\t<p class="mb-0" style="color:#0051FF">Demo By Link</p>\n\t\t\t<p id="demoByLinkCount" class="mb-0 text-white px-2 rounded" style="background-color:#0051FF;">-</p>\n\t\t</div>\n\t\t<div class="d-flex justify-content-between align-items-center w-100" style="border-bottom:2px solid #686868;padding: 5px 10px;font-weight: bold;">\n\t\t\t<p class="mb-0" style="color:#686868">Assigned to Lead Manager</p>\n\t\t\t<p id="assignedToLeadManagerCount" class="mb-0 text-white px-2 rounded" style="background-color:#686868;">-</p>\n\t\t</div>',l+="</div>",l+="</div>",l+='<div class="full overflow-x-auto px-3" id="b2c-lead-list"></div>',l+='<div id="supportHtmlChats"></div>'}function getLeadFormPopup(t){var e="";return e+='<div id="leadPopupForm" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-xl">    <div class="modal-content border-0">        <div class="modal-header pt-2 pb-2 theme-bg text-white">            <h5 class="modal-title" id="leadFormText">Update Lead</h5>            <button type="button" class="close text-white" onClick="resetLeadUpdate()" aria-label="Close">                <span aria-hidden="true">×</span>            </button>        </div>        <div class="modal-body">            <form class="col-lg-12 col-md-12 col-ms-12 col-12 pt-2 pb-2" method="post" action="javascript:void(0);" id="leadDataPopupForm">              <input type="hidden" name="leadId" id="leadId" value="" />              <input type="hidden" name="parentleadId" id="parentleadId" value="" />\t\t\t\t<input type="hidden" name="academicId" id="academicId" value="" />\t\t\t\t<input type="hidden" name="leadNo" id="leadNo" value="" />\t\t\t\t<input type="hidden" name="rawLeadId" id="rawLeadId" value="" />\t\t\t\t<input type="hidden" name="relationType" id="relationType" value="" />\t\t\t\t<input type="hidden" name="leadSourceGroup" id="leadSourceGroup" value="" />\t\t\t\t<input type="hidden" name="countrolType" id="countrolType" value="" />\t\t\t\t<input type="hidden" name="mergeLeads" id="mergeLeads" value="" /><input type="hidden" name="isdCode" id="isdCode" value="" /><input type="hidden" name="pCountryCode" id="pCountryCode" value="" /><input type="hidden" name="isdCodeAlter" id="isdCodeAlter" value="" /><input type="hidden" name="pCountryCodeAlter" id="pCountryCodeAlter" value="" />\t\t\t\t<input type="hidden" name="userPermission" id="userPermission" value="'+t.discardPermission+'" />\t\t\t\t<div class="row">\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t\t<label class="m-0">First Name*</label>\t\t\t\t\t\t\t<input type="text" name="leadstdfname" id="leadstdfname" value=""   class="form-control" maxlength="100" onkeydown="return M.isChars(event);">\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Middle Name</label>\t\t\t\t\t\t<input type="text" name="leadstdmname" id="leadstdmname" value=""  class="form-control" maxlength="100" onkeydown="return M.isChars(event);">\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Last Name</label>\t\t\t\t\t\t<input type="text" name="leadstdlname" id="leadstdlname" value=""  class="form-control" maxlength="100" onkeydown="return M.isChars(event);">\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Grade*</label>\t\t\t\t\t\t<select name="leadGrade" id="leadGrade" class="form-control" >\t\t\t\t\t\t\t<option value="">Select Grade</option>'+getStandardContent(t.schoolId,!0,!1)+'\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t\t<label class="m-0">Country</label>\t\t\t\t\t\t\t<select name="countryId" id="countryId" class="form-control"  >\t\t\t\t\t\t\t\t<option value="0">Select country</option>\t\t\t\t\t\t\t</select>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t\t<label class="m-0">State</label>\t\t\t\t\t\t\t<select name="stateId" id="stateId" class="form-control" >\t\t\t\t\t\t\t\t<option value="0">Select state</option>\t\t\t\t\t\t\t</select>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t\t<label class="m-0">City</label>\t\t\t\t\t\t\t<select name="cityId" id="cityId" class="form-control" >\t\t\t\t\t\t\t\t<option value="0">Select city</option>\t\t\t\t\t\t\t</select>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t\t<label class="m-0">Email*</label>\t\t\t\t\t\t\t<input type="email" name="leademailId" id="leademailId" class="form-control" value=""  \t\t\t\t\t\t\tmaxlength="100" pattern="^([w-]+(?:.[w-]+)*)@((?:[w-]+.)*w[w-]{0,66}).([a-zA-Z]{2,10}(?:.[a-zA-z]{2})?)$">\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t\t<label>Alt Email</label> \t\t\t\t\t\t\t<input type="email" name="leademailAlternet" id="leademailAlternet" class="form-control" value=""  maxlength="100"\t\t\t\t\t\tpattern="^([w-]+(?:.[w-]+)*)@((?:[w-]+.)*w[w-]{0,66}).([a-zA-Z]{2,10}(?:.[a-zA-z]{2})?)$">\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t\t<label>Phone No.<span>*</span></label> \t\t\t\t\t\t\t<input type="text" name="phoneNo" id="phoneNo" class="form-control" value="" maxlength="15" />\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t\t<label>Alt Phone No.</label> \t\t\t\t\t\t\t<input type="text" name="phoneNoAlter" id="phoneNoAlter" class="form-control" value=""  maxlength="15"  />\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1" >\t\t\t\t\t\t\t<label class="m-0">Tagging</label>\t\t\t\t\t\t\t<select name="leadTagging" id="leadTagging" multiple class="form-control" style="width:200px !important; height:30px !important;">\t\t\t\t\t\t\t\t<option value="" ></option> \t\t\t\t\t\t</select>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="col-xl-3 col-lg-3 col-md-2 col-sm-2 col-12 mb-1 mt-1 b2cLeadsource" >\t\t\t\t\t\t\t<label class="m-0">Lead Source * </label>\t\t\t\t\t\t\t<select\tname="leadSource" id="leadSource" class="form-control" >\t\t\t\t\t\t\t\t<option value="">Select Source</option>\t\t\t\t\t\t\t</select>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-4 col-sm-4 col-12 mb-1 mt-1 b2cLeadstatus">\t\t\t\t\t\t\t<label class="m-0">Lead Status*</label>\t\t\t\t\t\t\t<select name="leadStatus" id="leadStatus" class="form-control">\t\t\t\t\t\t\t\t<option value="">Select Status</option>\t\t\t\t\t\t\t</select>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1 b2cLeadstatus">\t\t\t\t\t\t\t<label class="m-0">Lead Assigned To*</label>\t\t\t\t\t\t\t<select name="leadAssignTo" id="leadAssignTo" class="form-control" >\t\t\t\t\t\t\t\t<option value="">Select Assign</option>\t\t\t\t\t\t\t</select>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12 mb-2 b2cLeadstatus">\t\t\t\t\t\t\t<label>Remarks</label>\t\t\t\t\t\t\t<textarea name="leadRemark" id="leadRemark" rows="3" class="form-control" style="height:50px"></textarea>\t\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t\t<div id="documentDiv"></div>\t\t\t</form>        </div>        <div class="modal-footer">\t\t\t<button type="button" class="btn btn-info btn-shadow float-right pr-4 pl-4 ml-2" onClick="resetLeadUpdate()">Close</button>\t\t\t<button type="button" class="btn btn-success btn-shadow float-right pr-4 pl-4" id="saveLead">Save</button>        </div>    </div></div></div><div id="supportHtmlFollowup"></div>'}function getLeadFollowupFormPopup(t){var e="";e+='<div id="leadFollowupForm" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-xl">    <div class="modal-content border-0">        <div class="modal-header pt-2 pb-2 theme-bg text-white">            <h5 class="modal-title" id="exampleModalLabel">Follow up Form</h5>            <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">                <span aria-hidden="true">×</span>            </button>        </div>        <div class="modal-body">            <form class="col-lg-12 col-md-12 col-sm-12 col-12 pt-2 pb-2" method="post" id="followupSaveForm" action="javascript:void(0);">\t\t\t\t<input type="hidden" name="leadId" id="leadId" value="0" />\t\t\t\t<input type="hidden" name="leadType" id="leadType" value="B2C" />\t\t\t\t<input type="hidden" name="leadAdderId" id="leadAdderId" value="'+USER_ID+'" class="form-control">\t\t\t\t<input type="hidden" name="currentPage" id="currentPage" value="'+t.currentPage+'" class="form-control">\t\t\t\t<div class="row">\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Connected Through</label>\t\t\t\t\t\t<select class="form-control dropdownFontSize" id="followMed" name="followMed">\t\t\t\t\t\t\t<option value="Demo" selected>Demo</option>\t\t\t\t\t\t\t<option value="WhatsApp" >What\'sApp</option>\t\t\t\t\t\t\t<option value="Email" >Email</option>\t\t\t\t\t\t\t<option value="Call" >Call</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Connected With</label>\t\t\t\t\t\t<select name="callWith" id="callWith" class="form-control dropdownFontSize">\t\t\t\t\t\t\t<option value="">Select</option>\t\t\t\t\t\t\t<option value="father" >Father</option>\t\t\t\t\t\t\t<option value="father with child" >Father With Child</option>\t\t\t\t\t\t\t<option value="with child" >With Child</option>\t\t\t\t\t\t\t<option value="mother">Mother</option>\t\t\t\t\t\t\t<option value="mother with child" >Mother With Child</option>\t\t\t\t\t\t\t<option value="father mother with child" >Father Mother With Child</option>\t\t\t\t\t\t\t<option value="guardian/ relative" >Guardian/ Relative</option>\t\t\t\t\t\t\t<option value="none">None</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Lead Status*</label>\t\t\t\t\t\t<select name="leadStatus" id="leadStatus" class="form-control dropdownFontSize">\t\t\t\t\t\t\t<option value="">Select Status</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-lg-2 col-md-6 col-sm-6 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Next Followup</label>\t\t\t\t\t\t<select class="form-control dropdownFontSize" id="nextDate" name="nextDate">\t\t\t\t\t\t\t<option value="">--Select--</option>\t\t\t\t\t\t\t<option value="NO FOLLOWUP">No Followup</option>\t\t\t\t\t\t\t<option value="CUSTOM">Choose Date</option>\t\t\t\t\t\t</select> \t\t\t\t\t</div>\t\t\t\t\t<div class="col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 followCall" style="display:none">\t\t\t\t\t\t<div class="row">\t\t\t\t\t\t\t<div class="mr-0 mr-sm-2 flex-grow-1 nextCustomDate" style="display:none">\t\t\t\t\t\t\t\t<label class="m-0">Date</label>\t\t\t\t\t\t\t\t<input type="text" name="notSureCallscheduleDate" id="notSureCallscheduleDate" class="form-control dropdownFontSize datepicker" maxlength="50" autocomplete="off">\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class="mr-0 mr-sm-2 flex-grow-1">\t\t\t\t\t\t\t\t<label class="m-0">HH</label>\t\t\t\t\t\t\t\t<select class="form-control dropdownFontSize" id="notSureHours" name="notSureHours">\t\t\t\t\t\t\t\t\t<option value="00">00</option>';for(var l=1;l<=12;l++)e+='<option value="'+(l>9?l:"0"+l)+'" >'+(l>9?l:"0"+l)+"</option>";e+='\t\t\t\t\t\t\t\t</select> \t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class="mr-0 mr-sm-2 flex-grow-1">\t\t\t\t\t\t\t\t<label class="m-0">MM</label>\t\t\t\t\t\t\t\t<select class="form-control dropdownFontSize" id="notSureMins" name="notSureMins">\t\t\t\t\t\t\t\t\t<option value="00">00</option>';for(var a=1;a<=59;a++)e+='<option value="'+(a>9?l:"0"+l)+'" >'+(a>9?a:"0"+a)+"</option>";return e+='\t\t\t\t\t\t\t</select> \t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class="mr-0 mr-sm-2 flex-grow-1">\t\t\t\t\t\t\t\t<label class="m-0">AM/PM</label>\t\t\t\t\t\t\t\t<select class="form-control dropdownFontSize" id="notSureAMPM" name="notSureAMPM">\t\t\t\t\t\t\t\t\t<option value="AM">AM</option>\t\t\t\t\t\t\t\t\t<option value="PM">PM</option>\t\t\t\t\t\t\t\t</select> \t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t\t<div class="row">\t\t\t\t\t<div class="col-lg-12">\t\t\t\t\t\t<div role="" class="mb-2 btn-group-sm btn-group-toggle" data-toggle="buttons">\t\t\t\t\t\t\t<label class="btn btn-outline-success leadTypeCategory">\t\t\t\t\t\t\t\t<input type="radio"  name="leadTypeCategory" value="Hot" id="Hot" autocomplete="off" > Hot\t\t\t\t\t\t\t</label>\t\t\t\t\t\t\t<label class="btn btn-outline-primary leadTypeCategory">\t\t\t\t\t\t\t\t<input type="radio"  name="leadTypeCategory" value="Cold" id="Cold" autocomplete="off" > Cold\t\t\t\t\t\t\t</label>\t\t\t\t\t\t\t<label class="btn btn-outline-warning leadTypeCategory">\t\t\t\t\t\t\t\t<input type="radio" name="leadTypeCategory" value="Warm" id="Warm" autocomplete="off"> Warm\t\t\t\t\t\t\t</label>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t\t<div class="row">\t\t\t\t\t\t\t<div class="col-lg-12">\t\t\t\t\t\t<div class="row">\t\t\t\t\t\t\t<div class="col-lg-12 col-md-12 col-sm-12 col-12 call-wrapper mt-2">\t\t\t\t\t\t\t\t<div class="row tentative_date">\t\t\t\t\t\t\t\t\t<div class="col-lg-3 col-md-3 col-sm-3 col-3">\t\t\t\t\t\t\t\t\t\t<label class="m-0">Tentative Date</label>\t\t\t\t\t\t\t\t\t\t<input type="text" name="tentativeDate" id="tentativeDate" value="" class="form-control datepicker" maxlength="50" autocomplete="off" />\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<div class="row">\t\t\t\t\t\t\t\t\t<div class="col-lg-12 col-md-12 col-sm-12 col-12 mb-1 mt-1">\t\t\t\t\t\t\t\t\t\t<div class="followRemarks">\t\t\t\t\t\t\t\t\t\t\t<label class="m-0">Remarks</label>\t\t\t\t\t\t\t\t\t\t\t<textarea class="form-control" name="followupRemarks" id="followupRemarks" rows="2" style="height: 35px !important;"></textarea>\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" class="form-control" name="followupRemarkBy" id="followupRemarkBy" value="'+USER_ID+'" />\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>\t\t</form>        </div>        <div class="modal-footer">\t\t\t<button type="button" class="btn btn-info btn-shadow float-right pr-4 pl-4 ml-2" data-dismiss="modal">Close</button>\t\t\t<button type="button" class="btn btn-success btn-shadow float-right pr-4 pl-4" id="saveFollowup">Save Status</button>        </div>\t\t<div class="col-lg-12 col-md-12 col-ms-12 col-12 pt-2 pb-2 table-responsive">\t\t\t<table class="table table-bordered table-striped" style="font-size:11px;">\t\t\t\t<thead>\t\t\t\t\t<tr>\t\t\t\t\t\t<th>Sr. No.</th>\t\t\t\t\t\t<th>Connected Through | Last Call at Date & Time</th>\t\t\t\t\t\t<th>Next Followup at Date & Time</th>\t\t\t\t\t\t<th>Connected With | Lead Followup Status</th>\t\t\t\t\t\t<th>Last Call Remarks</th>\t\t\t\t\t</tr>\t\t\t\t</thead>\t\t\t\t<tbody id="followupHistory"></tbody>\t\t\t</table>\t\t</div>    </div></div></div>'}function getLeadAdvanceSearchPopup(t){var e='<div id="leadAdvanceSearch" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-xl">    <div class="modal-content border-0">        <div class="modal-header pt-2 pb-2 theme-bg text-white">            <h5 class="modal-title" id="exampleModalLabel">Advance Search</h5>            <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">                <span aria-hidden="true">×</span>            </button>        </div>        <div class="modal-body"><form action="javascript:void(0);" id="advanceLeadNewSearchForm" name="advanceLeadNewSearchForm" autocomplete=\'off\'>\t\t\t<input type="hidden" name="restrictedDataShow" id="restrictedDataShow" value="YES">\t\t\t<input type="hidden" name="advancedformclick" id="advancedformclick" value="YES">\t\t\t<input type="hidden" name="currentPageSearch" id="currentPageSearch" value="'+t.currentPage+'">\t\t\t<input type="hidden" name="clickFromSearch" id="clickFromSearch" value="'+t.clickFrom+'">\t\t\t<input type="hidden" name="leadFromSearch" id="leadFromSearch" value="'+t.leadFrom+'">\t\t\t<input type="hidden" name="leadFromSearchModuleId" id="leadFromSearchModuleId" value="'+t.moduleId+'">\t\t\t<input type="hidden" name="leadType" id="leadType" value="'+t.leadType+'">\t\t\t<input type="hidden" name="userId" id="userId" value="'+USER_ID+'"><div class="row"><div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mb-1 mt-1">\t<div class="leadErrorText"></div></div></div><div class="row text-center"><div class="col-xl-3 col-lg-3 col-md-4 col-sm-4 col-12 mb-1 mt-1">\t<label class="m-0">Academic Year</label>\t<select\tname="leadAcadmicYear" id="leadAcadmicYear" class="form-control" >\t</select></div><div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col-3 mb-1 mt-1">\t<label class="m-0">Search with any text</label>\t<input type="text" name="leadFullSearch" id="leadFullSearch"  class="form-control"/> </div><div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 col-12 mb-1 mt-1 leadTag"><label class="m-0">Lead Tagging</label><select\tname="leadTagSearch" id="leadTagSearch" class="form-control" multiple ></select></div></div><div class="row"><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1">\t<label class="m-0">Lead No.</label>\t<input type="text" name="leadNoSearch" id="leadNoSearch"  class="form-control" maxlength="50" /> </div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 priority">\t<label class="m-0">Lead Type</label>\t<select name="leadType" id="leadType" class="form-control">\t\t<option value="">Select Type</option>\t\t<option value="B2C" '+("B2C"==t.leadType?"selected":"")+'>B2C</option>\t\t<option value="B2B" '+("B2B"==t.leadType?"selected":"")+'>B2B</option>\t</select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 leadSource">\t<label class="m-0">Lead Source</label>\t<select\tname="leadSourceSearch" id="leadSourceSearch" class="form-control" multiple ></select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 leadStatus">\t<label class="m-0">Lead Status</label>&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="checkLeadStatus" name="checkLeadStatus" /> With Status\t<select name="leadStatusSearch" id="leadStatusSearch" class="form-control" multiple ></select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1">\t<label class="m-0">Email</label>\t<input type="email" name="leademailIdSearch" id="leademailIdSearch" class="form-control"  maxlength="100"></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1">\t<label class="m-0">Phone No.</label>\t<input type="text" name="phoneNoSearch" id="phoneNoSearch" class="form-control" maxlength="15"/></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1">\t<label class="m-0">Student Name</label>\t<input type="text" name="leadstdfnameSearch" id="leadstdfnameSearch" class="form-control" maxlength="100" onkeydown="return M.isChars(event);"></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 grade">\t<label class="m-0">Grade</label>\t<select name="leadGradeSearch" id="leadGradeSearch" class="form-control" >\t\t<option value="0">Select Grade</option>'+getStandardContent(t.schoolId,!0,!1)+'\t</select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 country">\t<label class="m-0">Country</label>\t<select name="countryId" id="countryId" class="form-control" >\t\t<option value="0">Select country</option>\t</select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 state">\t<label class="m-0">State</label>\t<select name="stateId" id="stateId" class="form-control" >\t\t<option value="0">Select state</option>\t</select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1 city">\t<label class="m-0">City</label>\t<select name="cityId" id="cityId" class="form-control" >\t\t<option value="0">Select city</option>\t</select></div>\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1 callWith">\t<label class="m-0">Connected With</label>\t<select name="callWithSearch" id="callWithSearch" class="form-control">\t\t\t<option value="">Select</option>\t\t\t<option value="father" >Father</option>\t\t\t<option value="father with child" >Father With Child</option>\t\t\t<option value="mother">Mother</option>\t\t\t<option value="mother with child" >Mother With Child</option>\t\t\t<option value="father mother with child" >Father Mother With Child</option>\t\t\t<option value="guardian/ relative" >Guardian/ Relative</option>\t\t\t<option value="none">None</option>\t\t</select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 leadAssign">\t<label class="m-0">Lead Assign To</label>&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="checkByLead" name="checkByLead" /> Only Lead<input type="checkbox" id="checkByLeadDemo" name="checkByLeadDemo" /> Lead With Demo';return t.leadHideRights?e+='<select name="leadAssignToSearch" id="leadAssignToSearch" class="form-control" multiple disabled></select>':e+='<select name="leadAssignToSearch" id="leadAssignToSearch" class="form-control" multiple></select>',e+="</div>",e+='<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 demoAssign"><label class="m-0">Lead Added by</label><select\tname="leadCreatedBy" id="leadCreatedBy" class="form-control" ><option value="0">Select Assign</option></select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 demoAssign">\t<label class="m-0">Demo Assign</label>\t<select\tname="leadDemoAssignSearch" id="leadDemoAssignSearch" class="form-control" >\t\t<option value="0">Select Assign</option>\t</select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 utmSource">\t<label class="m-0">UTM Source</label>\t<select name="utmSourceSearch" id="utmSourceSearch" class="form-control"  >\t\t<option value="">Select UTM Source</option>\t</select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1">\t<label class="m-0">Start Date</label>\t<input type="text" name="leadStartDateSearch" id="leadStartDateSearch"  class="form-control datepicker"></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1">\t<label class="m-0">To Date</label>\t<input type="text" name="leadEndDateSearch" id="leadEndDateSearch"  class="form-control datepicker"></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 utmSource">\t<label class="m-0">Date Type</label>\t<select name="searchDateType" id="searchDateType" class="form-control"  >\t\t<option value="">Select Date Type</option>\t\t<option value="create-lead" >Created Lead</option>\t\t<option value="modify-lead" >Modify Lead</option>\t\t<option value="demo-Book" >Demo Book</option>\t\t<option value="demo-lead" >Demo Schedule</option>\t\t<option value="callschedule-lead" >Call Schedule </option>\t\t<option value="call-done" >Call Done</option>\t</select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 utmSource">\t<label class="m-0">Student Stage</label>\t<select name="studentStage" id="studentStage" class="form-control"  >\t\t<option value="">Select Date Type</option>\t\t<option value="0" >ENROLLED</option>\t\t<option value="10" >STUDENT DETAIL</option>\t\t<option value="11" >PARENT DETAIL</option>\t\t<option value="12" >ADDRESS DETAIL</option>\t\t<option value="13" >COURSE SELECTION</option>\t\t<option value="14,15" >REVIEW DETAIL</option>\t</select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 utmSource">\t<label class="m-0">Select Campaign</label>\t<select  name="leadSearchCampaign" id="leadSearchCampaign" class="form-control leadSearchCampaign" multiple ></select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 utmSource">\t<label class="m-0">Select Template</label>\t<select  name="leadSearchTemplate" id="leadSearchTemplate" class="form-control leadSearchTemplate" multiple >\t</select></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1 utmSource">\t<label class="m-0">Select Delivered Status</label>\t<select  name="leadSearchDeliveredStatus" id="leadSearchDeliveredStatus" class="form-control leadSearchDeliveredStatus"  >\t\t<option value="ALL"  >-- Select Delivered Status --</option>\t\t<option value="SUCCESS" >SUCCESS</option>\t\t<option value="FAIL" >FAIL</option>\t\t<option value="UNREACHED"  >UNREACHED</option>\t\t<option value="UNSUBSCRIBED" >UNSUBSCRIBED</option>\t</select></div></div><div class="row"><div class="col-xl-2 col-lg-2 col-md-6 col-sm-6 col-12 mb-1 mt-1 priority"><label class="m-0">Short by</label><select name="leadsShortBy" id="leadsShortBy" class="form-control"><option value="modifydate" '+("modifydate"==t.shortBy?"selected":"")+'>Modified Date</option><option value="createdate" '+("createdate"==t.shortBy?"selected":"")+'>Created Date</option><option value="childname" '+("childname"==t.shortBy?"selected":"")+'>Child Name</option><option value="grade" '+("grade"==t.shortBy?"selected":"")+'>Grade</option><option value="country" '+("country"==t.shortBy?"selected":"")+'>Country</option></select></div><div class="col-xl-2 col-lg-2 col-md-6 col-sm-6 col-12 mb-1 mt-1 priority"><label class="m-0">Ascending/ Descending</label><select name="leadsShortType" id="leadsShortType" class="form-control"><option value="DESC" '+("DESC"==t.shortType?"selected":"")+'>Descending</option><option value="ASC" '+("ASC"==t.shortType?"selected":"")+'>Ascending</option></select></div></div>\t\t\t</form>        </div>        <div class="modal-footer">            <button type="button" class="btn btn-danger btn-shadow float-right pr-4 pl-4 ml-2" onclick="advanceLeadSearchStudentReset(\'advanceLeadNewSearchForm\',\''+t.leadType+'\')">Reset</button>\t\t\t<button type="button" class="btn btn-info btn-shadow float-right pr-4 pl-4 ml-2" data-dismiss="modal">Close</button>\t\t\t<button type="button" class="btn btn-success btn-shadow float-right pr-4 pl-4" id="btnNewClickLeadSearch">Search</button>        </div>    </div></div></div>'}function getLeadMergeFormPopup(t){var e="";return e+='<div id="leadMergePopup" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-xl">    <div class="modal-content border-0">        <div class="modal-header pt-2 pb-2 theme-bg text-white">            <h5 class="modal-title" id="leadFormText">Merge Lead Form</h5>            <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">                <span aria-hidden="true">×</span>            </button>        </div>       <div class="modal-body">\t\t<form class="col-lg-12 col-md-12 col-ms-12 col-12 pt-2 pb-2" method="post" action="javascript:void(0);" id="leadMergeDataPopupForm">\t\t\t<input type="hidden" name="leadId" id="leadId" value="" />\t\t\t<input type="hidden" name="parentleadId" id="parentleadId" value="" />\t\t\t<input type="hidden" name="academicId" id="academicId" value="" />\t\t\t<input type="hidden" name="leadNo" id="leadNo" value="" />\t\t\t<input type="hidden" name="rawLeadId" id="rawLeadId" value="" />\t\t\t<input type="hidden" name="relationType" id="relationType" value="" />\t\t\t<input type="hidden" name="leadSourceGroup" id="leadSourceGroup" value="" />\t\t\t<input type="hidden" name="countrolType" id="countrolType" value="" />\t\t\t<input type="hidden" name="mergeLeads" id="mergeLeads" value="" /><input type="hidden" name="isdCode" id="isdCode" value="" /><input type="hidden" name="pCountryCode" id="pCountryCode" value="" /><input type="hidden" name="isdCodeAlter" id="isdCodeAlter" value="" /><input type="hidden" name="pCountryCodeAlter" id="pCountryCodeAlter" value="" />\t\t\t<input type="hidden" name="leadType" id="leadType" value="'+t.leadType+'" />\t\t\t<div class="row">\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">First Name*</label>\t\t\t\t\t\t<input type="text" name="leadstdfname" id="leadstdfname" value=""   class="form-control" maxlength="100" onkeydown="return M.isChars(event);">\t\t\t\t</div>\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t<label class="m-0">Middle Name</label>\t\t\t\t\t<input type="text" name="leadstdmname" id="leadstdmname" value=""  class="form-control" maxlength="100" onkeydown="return M.isChars(event);">\t\t\t\t</div>\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t<label class="m-0">Last Name</label>\t\t\t\t\t<input type="text" name="leadstdlname" id="leadstdlname" value=""  class="form-control" maxlength="100" onkeydown="return M.isChars(event);">\t\t\t\t</div>\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t<label class="m-0">Grade*</label>\t\t\t\t\t<select name="leadGrade" id="leadGrade" class="form-control" >\t\t\t\t\t\t<option value="">Select Grade</option>'+getStandardContent(t.schoolId,!0,!1)+'\t\t\t\t\t</select>\t\t\t\t</div>\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Country</label>\t\t\t\t\t\t<select name="countryId" id="countryId" class="form-control"  ></select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">State</label>\t\t\t\t\t\t<select name="stateId" id="stateId" class="form-control" ></select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">City</label>\t\t\t\t\t\t<select name="cityId" id="cityId" class="form-control" ></select>\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t<label class="m-0">Email*</label>\t\t\t\t\t\t<input type="email" name="leademailId" id="leademailId" class="form-control" value=""  \t\t\t\t\t\tmaxlength="100" pattern="^([w-]+(?:.[w-]+)*)@((?:[w-]+.)*w[w-]{0,66}).([a-zA-Z]{2,10}(?:.[a-zA-z]{2})?)$">\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-2 col-lg-2 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t<label>Alt Email</label> \t\t\t\t\t\t<input type="email" name="leademailAlternet" id="leademailAlternet" class="form-control" value=""  maxlength="100"\t\t\t\t\tpattern="^([w-]+(?:.[w-]+)*)@((?:[w-]+.)*w[w-]{0,66}).([a-zA-Z]{2,10}(?:.[a-zA-z]{2})?)$">\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t<label>Phone No.<span>*</span></label> \t\t\t\t\t\t<input type="text" name="phoneNo" id="phoneNo" class="form-control" value="" maxlength="15" onkeydown="return M.digit(event);" />\t\t\t\t\t</div>\t\t\t\t\t<div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col-12 mb-1 mt-1">\t\t\t\t\t\t<label>Alt Phone No.</label> \t\t\t\t\t\t<input type="text" name="phoneNoAlter" id="phoneNoAlter" class="form-control" value=""  maxlength="15" onkeydown="return M.digit(event);" />\t\t\t\t\t</div>',t.discardPermission&&(e+='<div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-12 mb-1 mt-1 " >\t\t<label class="m-0">Lead Source * </label>\t\t<select\tname="leadSource" id="leadSource" class="form-control" ></select>\t</div>\t<div class="col-xl-3 col-lg-4 col-md-4 col-sm-4 col-12 mb-1 mt-1">\t\t<label class="m-0">Lead Status*</label>\t\t<select name="leadStatus" id="leadStatus" class="form-control"></select>\t</div>\t<div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 col-12 mb-1 mt-1">\t\t<label class="m-0">Lead Assigned To*</label>\t\t<select name="leadAssignTo" id="leadAssignTo" class="form-control" ></select>\t</div>\t<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mb-2">\t\t<label>Remarks</label>\t\t<textarea name="leadRemark" id="leadRemark" rows="3" class="form-control"></textarea>\t</div>'),e+='\t\t\t</div>\t\t\t</form>\t\t<div class="row">\t\t\t<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mb-2" id="mergeleadlist"></div>\t\t\t</div>\t        </div>        <div class="modal-footer">\t\t\t<button type="button" class="btn btn-info btn-shadow float-right pr-4 pl-4 ml-2" data-dismiss="modal">Close</button>\t\t\t<button type="button" class="btn btn-success btn-shadow float-right pr-4 pl-4" id="saveMergeLead">Save</button>        </div>    </div></div></div>'}function getLeadCampaignListPopup(){return'<div id="leadCampaignPopupForm" class="modal fade bd-example-modal-lg fade-scale" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-lg"><div class="modal-content border-0"><div class="modal-header pt-2 pb-2 theme-bg text-white"> <h5 class="modal-title" id="leadFormText">Campaign List</h5><button type="button" class="close text-white" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button> </div> <div class="modal-body"><form class="col-lg-12 col-md-12 col-ms-12 col-12 pt-2 pb-2" method="post" action="javascript:void(0);" id="leadCampaignForm"> <div class="row"><div class="col-xl-6 col-lg-3 col-md-3 col-sm-3 col-3 mb-1 mt-1"><label class="m-0">Campaign Name</label><input type="text" name="leadCampaignName" id="leadCampaignName"  class="form-control"/> </div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1"><label class="m-0">Start Date</label><input type="text" name="campaignStartDate" id="campaignStartDate"  class="form-control"></div><div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1"><label class="m-0">&nbsp;</label><br/><button type="button" class="btn btn-success btn-shadow" id="btnAddCampaign">Save</button></div> </div> <hr/><div class="row"><div class="col-xl-12 col-lg-4 col-md-6 col-sm-6 col-12 mb-1 mt-1"><table class="table table-bordered table-striped mobile-responsivei-table" id="tblCampaignList" style="font-size:11px"><thead><tr><th>Sr. No.</th><th>Campaign Name</th><th>Start Date</th><th>End Date</th><th>Active | Inactive</th></tr></thead><tbody id="campaignlist"></tbody></table>  </div></div>\t</form> </div><div class="modal-footer"> </div> </div> </div></div>'}function getB2cLeadHeaderList(t,e,l){return'<div class="lead-table-wrapper"><table class="table table-bordered font-12 border-radius-table" style="min-width:1380px;width:100%" id="leadDataList"><thead class="bg-primary"><tr><th class="text-white bold rounded-top-left-10 border-bottom-0 border-primary" style="border-top-color:transparent;border-right-color:#fff !important">Lead info (IST +5:30)</th><th class="text-white bold border-bottom-0">Student | Parent Details</th><th class="text-white bold border-bottom-0">School Demo Details (IST +5:30) | Status Details</th><th class="text-white bold border-bottom-0 text-center">Follow Ups</th><th class="text-white bold border-bottom-0 rounded-top-right-10" style="border-top-color:transparent;border-right-color:transparent">Action</th></tr></thead><tbody class="lead-table-css"><tr class="td-border-design"><td style="" class="rounded-bottom-left-10 text-center bold" colspan="5">No Record found</td></tr></tbody></table></div>'}function getLeadWatsApp(){return'<div class="modal fade pr-0 right-slide-modal safd" id="watsAppMsgModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n\t   <div class="modal-dialog modal-xl p-0 float-right">\n\t\t   <div class="modal-content">\n\t\t\t   <div class="modal-header bg-primary py-2">\n\t\t\t\t\t<h5 class="modal-title text-white w-100">\n\t\t\t\t\t\t<span class="">WhatsApp Chat log</span>\n\t\t\t\t\t</h5>\n\t\t\t\t   <button type="button" class="close bg-white rounded-top-left-10 rounded-bottom-left-10 opacity-10 p-2" data-dismiss="modal" aria-label="Close" style="position: absolute;left:-32px;top:62px">\n\t\t\t\t\t   <span aria-hidden="true">&times;</span>\n\t\t\t\t   </button>\n\t\t\t   </div>\n\t\t\t   <div class="modal-body overflow-auto chatmessage"> </div>\n\t\t   </div>\n\t   </div>\n   </div>'}function getTotalB2CLeads(t){var e=t.leadTotalData;getLeadB2CTotalCountList(e),getLeadB2CTotalHotCountList(e)}function getLeadB2CTotalCountList(t){var e=t.totalLeads>0?`<a href="javascript:void(0);" class="text-white" onclick="getTotalLead('B2C')">${t.totalLeads}</a>`:"-",l=t.freshLead>0?`<a href="javascript:void(0);" class="text-white" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'freshLead')">${t.freshLead}</a>`:"-";$("#totalTodayLeads").html(`${e} | ${l}`);var a=t.totalFbLead>0?`<a href="javascript:void(0);" class="text-dark" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'facebooklead')">${t.totalFbLead}</a>`:"-",o=t.todayFbLead>0?`<a href="javascript:void(0);" class="text-dark" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'fbtdlead')">${t.todayFbLead}</a>`:"-";$("#fbTotalTodayLeads").html(`${a} | ${o}`);var d=t.todayScheduleCall>0?`<a href="javascript:void(0);" class="text-dark" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'todayScheduleCall')">${t.todayScheduleCall}</a>`:"-";$("#todayFollowup").html(`${d}`);var s=t.todayDemo>0?`<a href="javascript:void(0);" class="text-white" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'tdyDemo')">${t.todayDemo}</a>`:"-";if($("#todaySchoolDemo").html(`${s}`),t.discardPermission){var i=t.followupLead2>0?`<a href="javascript:void(0);" class="text-white" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'leadnotassign')">${t.followupLead2}</a>`:"-";$("#unassignedLeads").html(`${i}`)}let c=`\n\t<select name="leadsFollowCount" id="leadsFollowCount" style="background-color: #EFD597;border: 0;" onfocus="this.style.outline='none';"  onchange="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'folwcount')">\n\t\t<option value="0" ${0==t.totalfollowup?"selected":""}>0</option>\n\t\t<option value="1" ${1==t.totalfollowup?"selected":""}>1</option>\n\t\t<option value="2" ${2==t.totalfollowup?"selected":""}>2</option>\n\t\t<option value="3" ${3==t.totalfollowup?"selected":""}>3</option>\n\t\t<option value="4" ${4==t.totalfollowup?"selected":""}>4</option>\n\t\t<option value="5" ${5==t.totalfollowup?"selected":""}>5</option>\n\t\t<option value=">5" ${">5"==t.totalfollowup?"selected":""}>>5</option>\n\t</select>`;$("#followupLeadsCount").html(c);var n=t.unattendedLead>0?`<a href="javascript:void(0);" class="text-white" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'unattendedLead')">${t.unattendedLead}</a>`:"-";$("#unattendedLeads").html(`${n}`);var r=t.demoLead>0?`<a href="javascript:void(0);" class="text-white" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'demoLead')">${t.demoLead}</a>`:"-";$("#totalSchoolDemo").html(`${r}`);var p=t.followupLead3>0?`<a href="javascript:void(0);" class="text-dark" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'demodone')">${t.followupLead3}</a>`:"-";$("#completeLeads").html(`${p}`);var m=t.followupLead1>0?`<a href="javascript:void(0);" class="text-dark" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'followupLead1')">${t.followupLead1}</a>`:"-";$("#positiveToEnrollment").html(`${m}`);var b=t.movedLead>0?`<a href="javascript:void(0);" class="text-white" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'movedLead')">${t.movedLead}</a>`:"-";$("#moveLeadsCount").html(`${b}`);var u=t.scrapeLead>0?`<a href="javascript:void(0);" class="text-white" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'scrapeLead')">${t.scrapeLead}</a>`:"-";$("#scrapeLeadsCount").html(`${u}`)}function getLeadB2CTotalHotCountList(t){var e=t.totalHot>0?`<a href="javascript:void(0);" class="text-white" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'hottotal')">${t.totalHot}</a>`:"-";$("#hotLeadsCount").html(`${e}`);var l=t.totalWarm>0?`<a href="javascript:void(0);" class="text-white" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'warmtotal')">${t.totalWarm}</a>`:"-";$("#warmLeadsCount").html(`${l}`);var a=t.totalCold>0?`<a href="javascript:void(0);" class="text-white" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'coldtotal')">${t.totalCold}</a>`:"-";$("#coldLeadsCount").html(`${a}`);var o=t.totalWebsiteDemo>0?`<a href="javascript:void(0);" class="text-white" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'totalWebsiteDemo')">${t.totalWebsiteDemo}</a>`:"-";$("#demoByWebsiteCount").html(`${o}`);var d=t.totalCopyUrlDemo>0?`<a href="javascript:void(0);" class="text-white" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'totalCopyUrlDemo')">${t.totalCopyUrlDemo}</a>`:"-";$("#demoByLinkCount").html(`${d}`);var s=t.totalDemoSupport>0?`<a href="javascript:void(0);" class="text-white" onclick="clickTotalLeads('${t.clickFrom}-${t.clickUserid}', '0', 'totalDemoSupport')">${t.totalDemoSupport}</a>`:"-";$("#assignedToLeadManagerCount").html(`${s}`)}function getB2cLeadList(t,e,l){var a=t.data,o=t.objectRights,d=o.b2cStatus,s=o.b2bStatus,i=o.leadType.toLowerCase();d?$(".b2clead").removeClass("d-none"):$(".b2clead").addClass("d-none"),s?$(".b2blead").removeClass("d-none"):$(".b2blead").addClass("d-none");for(var c=JSON.parse(t.campaignList),n=JSON.parse(t.statusList),r='<input type="checkbox" id="selectLeadAll" class="ml-2" />&nbsp;All<select name="leadsPagging" id="leadsPagging" class="ml-1"><option value="10" '+("10"==t.recordsPerPage?"selected":"")+'>10</option><option value="25" '+("25"==t.recordsPerPage?"selected":"")+'>25</option><option value="50" '+("50"==t.recordsPerPage?"selected":"")+'>50</option><option value="100" '+("100"==t.recordsPerPage?"selected":"")+">100</option></select>",p=0;p<a.length;p++){var m=a[p];if(r+='<div class="lead-table-wrapper"><table class="table table-bordered font-12 border-radius-table mt-2" style="min-width:1380px;width:100%" id="leadDataList"><thead class="bg-primary"><tr><th class="text-white bold rounded-top-left-10 border-bottom-0 border-primary" style="border-top-color:transparent;border-right-color:#fff !important;width:230px;">',e.discardPermission||USER_ID==m.assignTo?(r+='<input type="hidden" value="'+m.assignTo+"-"+m.demoAssignTo+'" id="checkDemoMoved-'+m.leadId+'"/>',r+='<input type="checkbox" class="checkLead" id="lead-'+m.leadId+'" name="lead-move-another" value="'+m.leadId+'" /> '):r+='<input type="checkbox" disabled="disabled" class="checkLead" id="lead-'+m.leadId+'" name="lead-move-another" value="'+m.leadId+'" />',r+=m.srNo+'&nbsp;Lead info <span class="leadInfoTime"></span>&nbsp;&nbsp;'+e.countryOffsetTimezone+"<div>","Demo by Website"==m.demoFrom?r+='<span class="float-right bold" style="background-color:#7000FF !important;color:#fff">'+m.demoFrom+"</span>":"Demo by Link"==m.demoFrom&&(r+='<span class="float-right bold" style="background-color:#2200FF !important;color:#fff">'+m.demoFrom+"</span>"),r+='</div></th><th class="text-white bold border-bottom-0" style="width:400px;">Student | Parent Details</th><th class="text-white bold border-bottom-0">School Demo Details <span class="leadDemoTime"></span>&nbsp;&nbsp;'+e.countryOffsetTimezone+" | Status Details</th>",null!=m.leadLastCallList&&m.leadLastCallList.length,r+='<th class="text-white bold border-bottom-0 text-center" style="width:250px;">Follow Ups</th>',r+='<th class="text-white bold border-bottom-0 rounded-top-right-10 text-center" style="border-top-color:transparent;border-right-color:transparent;width:90px;">Action</th></tr></thead><tbody class="lead-table-css" style="font-size:11px"><input type="hidden" id="demoMovedTrue" /><input type="hidden" id="blankDemo" /><tr class="td-border-design"><td style="max-width:320px;min-width: 320px;vertical-align:top;" class="rounded-bottom-left-10 '+i+"-"+(""!=m.callBadge?m.callBadge+"-bg":"")+'"><table class="w-100"><tbody><tr><th class="border-0 p-1">No.:</th><td class="border-0 p-1 '+i+"-"+(""!=m.callBadge?m.callBadge+"-leadno-bg":"")+'" >'+m.leadNo+'</td></tr><tr><th class="border-0 p-1">Source:</th><td class="border-0 p-1" >'+m.LeadSourceName+'</td></tr><tr><th class="border-0 p-1">Lead Status:</th><td class="border-0 p-1 leadlist-status-'+m.leadId+'">'+(""!=m.leadStatus?m.leadStatus:"N/A")+'</td></tr><tr><th class="border-0 p-1">Assigned To:</th><td class="border-0 p-1">'+(""!=m.assignName?m.assignName:"N/A")+'</td></tr><tr><th class="border-0 p-1">Assigned Date:</th><td class="border-0 p-1">'+(""!=m.createdDateStr?m.createdDateStr:"N/A")+'</td></tr><tr><th class="border-0 p-1">Added By:</th><td class="border-0 p-1">'+(""!=m.userName?m.userName:"N/A")+'</td></tr><tr><th class="border-0 p-1">UTM:</th><td class="border-0 p-1"><div class="dropdown d-inline-block"><button type="button" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" class="dropdown-toggle btn btn-sm btn-primary">View More Details</button><div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu-md dropdown-menu p-2" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 32px, 0px);">',4==m.leadSourceId?(r+='<table class="w-100"><tbody><tr><th class="border-0 p-0 font-12">Source:</th><td class="border-0 p-0 font-12">'+(""!=m.utmSource?m.utmSource:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Ad:</th><td class="border-0 p-0 font-12">'+(""!=m.utmMedium?m.utmMedium:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Ad Set:</th><td class="border-0 p-0 font-12">'+(""!=m.utmDescription?m.utmDescription:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Compaign</th><td class="border-0 p-0 font-12 utmCampaign-'+m.leadId+'">'+(""!=m.utmCampaign?m.utmCampaign:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Is_Organic</th><td class="border-0 p-0 font-12">'+(""!=m.utmTerm?m.utmTerm:"N/A")+"</td></tr>",""!=m.leadPlatform&&(r+='<tr><th class="border-0 p-0 font-12">Platform</th><td class="border-0 p-0 font-12"><img class="report-icon" src="'+PATH_FOLDER_IMAGE2+m.leadPlatform+".png"+SCRIPT_VERSION+'" width="16" height="16"></td>'),""!=m.fbImageUrl&&(r+='<tr><th colspan="2"><a href="'+m.fbImageUrl+'" target="_blank">View Form Image</a></td>'),r+="</tbody></table>"):r+='<table class="w-100"><tbody><tr><th class="border-0 p-0 font-12">Source:</th><td class="border-0 p-0 font-12">'+(""!=m.utmSource?m.utmSource:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Medium:</th><td class="border-0 p-0 font-12">'+(""!=m.utmMedium?m.utmMedium:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Description:</th><td class="border-0 p-0 font-12">'+(""!=m.utmDescription?m.utmDescription:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Compaign</th><td class="border-0 p-0 font-12 utmCampaign-'+m.leadId+'">'+(""!=m.utmCampaign?m.utmCampaign:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Is_Organic</th><td class="border-0 p-0 font-12">'+(""!=m.utmTerm?m.utmTerm:"N/A")+'</td></tr><tr><th class="border-0 p-0 font-12">Gclid</th><td class="border-0 p-0 font-12">'+(""!=m.gclid?m.gclid:"N/A")+"</td></tr></tbody></table>",r+="</div></div></td></tr>",e.discardPermission||USER_ID==m.assignTo){r+='<tr><td class="border-0 p-1" colspan="2"><div class="d-flex align-items-center selectcampain-wrapper" style="width: 250px;"><select class="selectcampain" name="campainName" id="campainName_'+m.leadId+'">';for(let t=0;t<c.length;t++){const e=c[t];r+='<option value="'+e.key+'" data-campain="'+e.value+'" '+(m.utmCampaign==e.value?"selected":"")+">"+e.value+" ("+e.extra+")</option>"}r+='</select><button class="ml-2 mr-1 btn btn-sm btn-info" id="saveCampaign" onclick="saveCampaignLead(\''+m.leadId+"','campainName_"+m.leadId+"', 'new-leadcampaign');\">Save</button></div></td></tr>"}if(r+='<tr><td class="border-0 p-1" colspan="2">',(e.discardPermission||USER_ID==m.assignTo)&&(r+='<div role="" class="mb-2 btn-group-sm btn-group-toggle text-left" data-toggle="buttons"><label class="btn btn-outline-success mr-1 '+("Hot"==m.leadCategory?"active":"")+'"><input type="radio"  name="leadCategory'+m.leadId+'" id="hot'+m.leadId+'" value="Hot" autocomplete="off" '+("Hot"==m.leadCategory?"checked":"")+" onchange=\"saveCategoryLead('"+m.leadId+"','hot"+m.leadId+'\');"> Hot</label><label class="btn btn-outline-primary mr-1 '+("Cold"==m.leadCategory?"active":"")+'"><input type="radio"  name="leadCategory'+m.leadId+'" id="cold'+m.leadId+'" value="Cold" autocomplete="off" '+("Cold"==m.leadCategory?"checked":"")+" onchange=\"saveCategoryLead('"+m.leadId+"','cold"+m.leadId+'\');"> Cold</label><label class="btn btn-outline-warning mr-1 '+("Warm"==m.leadCategory?"active":"")+'"><input type="radio" name="leadCategory'+m.leadId+'" id="warm'+m.leadId+'" value="Warm" autocomplete="off" '+("Warm"==m.leadCategory?"checked":"")+" onchange=\"saveCategoryLead('"+m.leadId+"','warm"+m.leadId+"');\"> Warm</label>",r+="</div>"),r+="</td></tr>",r+='</tbody></table></td><td class="p-0 '+i+"-"+(""!=m.callBadge?m.callBadge+"-bg":"")+'" style="vertical-align:top"><table class="w-100"><tbody><tr><td class="border-0"><table class="w-100"><tbody><tr><th class="border-0 p-1" style="width:165px">Grade: </th><td class="border-0 p-1">'+(""!=m.standardName?m.standardName.replace("Grade",""):"N/A"),(e.discardPermission||USER_ID==m.assignTo||USER_ID==m.demoAssignTo)&&(r+='<span class="float-right"><a href="javascript:void(0);" onclick="callLeadsByLeadId(\'leadDataPopupForm\',\''+m.leadId+"','"+USER_ID+"','edit','leadPopupForm','B2C',"+e.discardPermission+');" ><i class="fa fa-edit"></i>&nbsp;Update</a></span>'),r+='</td></tr><tr><th class="border-0 p-1" style="width:165px">Child Name: </th><td class="border-0 p-1">'+(""!=m.fname?m.fname:"N/A")+" "+m.mname+" "+m.lname+'</td></tr><tr><th class="border-0 p-1" style="width:165px">City | Country:</th><td class="border-0 p-1">'+(""!=m.cityName?m.cityName:"N/A")+" | "+(""!=m.countryName?m.countryName:"N/A")+'</td></tr><tr><th class="border-0 p-1" style="width:165px">Phone:</th><td class="border-0 p-1">'+(""!=m.isdCode?m.isdCode:"")+" "+(""!=m.phone?m.phone:"N/A"),""!=m.isdCode&&(r+="<span>",r+='<a href="https://api.whatsapp.com/send?phone='+(""!=m.phoneIsd?m.phoneIsd:"")+'" target="_target" class="position-relative">',r+='<img src="'+PATH_FOLDER_IMAGE+'watsapp-icon.png" width="16px" />',"N"==m.whatsAppVerifiedStatus||("N"==m.whatsAppScbStatus?r+='<span style="left: 9px;color: black;font-size: 12x;position: absolute;top: -7px;" data-toggle="tooltip" data-placement="top" data-original-title="Wati Message Sent"><i class="fa fa-minus-circle"></i></span>':"Y"==m.whatsAppVerifiedStatus?r+='<span style="left: 9px;color: green;font-size: 12x;position: absolute;top: -7px;" data-toggle="tooltip" data-placement="top" data-original-title="Wati Message Sent"><i class="fa fa-check-circle"></i></span>':"N"==m.whatsAppVerifiedStatus&&(r+='<span style="left: 9px;color: red;font-size: 12x;position: absolute;top: -7px;" data-toggle="tooltip" data-placement="top" data-original-title="Wati Message Not Sent"><i class="fa fa-times-circle"></i></span>')),r+="</a></span>"),r+="<br/>",""!=m.phoneNoAlter&&(r+=(""!=m.phoneNoAlter?m.isdCodeAlter:"")+" "+(""!=m.phoneNoAlter?m.phoneNoAlter:""),r+='<a href="https://api.whatsapp.com/send?phone='+(""!=m.altrphoneIsd?m.altrphoneIsd:"")+'" target="_target"> <img src="'+PATH_FOLDER_IMAGE+'watsapp-icon.png" width="16px" /></a>'),r+='</td></tr><tr><th class="border-0 p-1" style="width:165px">Email:</th><td class="border-0 p-1">'+(""!=m.email?m.email:"N/A"),""!=m.email&&(m.verifiedEmail>0?r+='<span style="color:green;font-size:15px;" data-toggle="tooltip" data-placement="top" data-original-title="Email Verified"><i class="fa fa-check-circle"></i></span>':m.verifiedEmail<1&&(r+='<span style="color:green;font-size:15px;"><i class="fa fa-remove"></i></span>')),r+="<br/>",""!=m.emailAlternet&&(r+=""!=m.emailAlternet?m.emailAlternet:"N/A"),r+='</td></tr><tr><th class="border-0 p-1" style="width:165px;background-color:'+("Converted"==m.leadStatus?"#baf3cd":"#f0ddc1")+';">Lead To Enrolled:</th><td class="border-0 p-1">'+(""!=m.leadTotalDay?m.leadTotalDay:"0")+"</td></tr>",e.discardPermission&&(r+='<tr><th class="border-0 p-1">Step:</th><td class="border-0 p-1">'+(""!=m.curentStage?m.curentStage:"N/A")+"</td></tr>"),r+='<tr><tr><td colspan="2"  class="border-0 p-1 leadtagstatus_'+m.leadNo+'"></td></tr><th class="border-0 p-1" style="width:165px">Message:</th><td class="border-0 p-1"><div class="dropdown d-inline-block" style="position: inherit;"><button type="button" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" class="dropdown-toggle btn btn-sm btn-primary">View Message</button><div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu-lg dropdown-menu p-2" x-placement="bottom-start" style="max-width: 250px;"><p class="m-0">'+(""!=m.remarks?m.remarks:"N/A")+'</p></div></div></td></tr></tbody></table></td></tr></tbody></table></td><td class="p-0  '+i+"-"+(""!=m.callBadge?m.callBadge+"-bg":"")+'" style="width: 350px;vertical-align:top;"><table class="w-100 demotable" style="border: solid #027ffe 1px;background-color: #D5E3FC;"><tbody>',r+='<tr class="" ><th class="border-0 p-1">Date & Time:</th><td class="border-0 p-1">'+(""!=m.leadDemoIstDate?m.leadDemoIstDate:"N/A")+'</td></tr><tr  class="" ><th class="border-0 p-1">Status:</th><td class="border-0 p-1">'+(""!=m.demoStatus?m.demoStatus:"N/A")+'</td></tr><tr  class="" ><th class="border-0 p-1">Assigned To:</th><td class="border-0 p-1">'+(""!=m.demoAssignName?m.demoAssignName:"N/A")+'</td></tr></tbody></table><table class="w-100 border-bottom demotable"><tbody>',e.discardPermission&&(r+='<tr><th class="border-0 p-1">Connected Through:</th><td class="border-0 p-1">'+(""!=m.followup?m.followup:"N/A")+"</td></tr>"),r+='<tr><th class="border-0 p-1">Last Date:</th><td class="border-0 p-1 nextSchedule-'+m.leadId+'">'+(""!=m.leadFollowDate?m.leadFollowDate:"N/A")+"</td></tr>",m.tantativeDate&&(r+='<tr><th class="border-0 p-1">Tentative Date to Enrolled:</th><td class="border-0 p-1">'+(""!=m.tantativeDate?m.tantativeDate:"N/A")+"</td></tr>"),r+='<tr><th class="border-0 p-1">Next Followup:</th><td class="border-0 p-1  nextFollow-'+m.leadId+'">',""!=m.nextFollowupDate?r+=""+m.nextFollowupDate:""==m.nextFollowupDate?r+=""!=m.callStatus?m.callStatus:"N/A":r+="N/A",r+="</td></tr>",m.leadFollowUser&&(r+='<tr><th class="border-0 p-1">Followup By:</th><td class="border-0 p-1">'+(""!=m.leadFollowUser?m.leadFollowUser:"N/A")+"</td></tr>"),r+='<tr><th class="border-0 p-1" style="width:165px">Remarks:</th><td class="border-0 p-1"><div class="dropdown d-inline-block" style="position: inherit;"><button type="button" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" class="dropdown-toggle btn btn-sm btn-primary">View Remarks</button><div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu-lg dropdown-menu p-2" x-placement="bottom-start" style="max-width: 250px;"><p class="m-0 leadlist-remark-'+m.leadId+'">'+(""!=m.followupRemark?m.followupRemark:"N/A")+"</p></div></div></td></tr>",e.discardPermission||USER_ID==m.assignTo||USER_ID==m.demoAssignTo){r+='<tr><td colspan="2" class="border-0 p-0 pr-1"><table style="width:100%;" id="remarkTable"><tbody><tr><td><select name="leadStatus-'+m.leadId+'" id="leadStatus-'+m.leadId+'" class="leadStatus-followup" style="width:200px !important; height:30px;"><option value="">Select Status</option>';for(let t=0;t<n.length;t++){const e=n[t];r+='<option value="'+e.value+'">'+e.value+"</option>"}r+='</select></td></tr><tr><td><textarea class="form-control" name="followupRemarks-'+m.leadId+'" id="followupRemarks-'+m.leadId+'" rows="2" style="height: 50px !important;"></textarea></td></tr><tr><td><button class="ml-2 mr-1 btn btn-sm btn-info float-right" id="updateFollowup" onclick="submitFollowupSaveFromLeadList(\'followupSaveForm\', \''+m.leadId+"', '"+e.leadType+"', '"+e.moduleId+"','new-lead');\">Follow-up</button></td></tr></tbody></table></td></tr>"}r+='</tbody></table></td><td class="p-0 '+i+"-"+(""!=m.callBadge?m.callBadge+"-bg":"")+'" style="vertical-align:top;">',""!=m.leadLastCallList&&m.leadLastCallList.length>0?r+='<ul class="follow-up-accordian m-0 p-0 overflow-auto followup-remark-'+m.leadNo+'" style="max-height: 325px;">':r+='<ul class="follow-up-accordian m-0 p-0 overflow-auto followup-remark-'+m.leadNo+'" style="max-height: 325px;"><li class="follow-up-accordian-active text-center mt-2"><span class="border p-2  d-inline-block rounded-10 font-weight-bold text-primary" style="font-size:14px; min-width: 150px;">No follow ups yet</span></li>';for(var b=0;b<m.leadLastCallList.length>0;b++)leadCall=m.leadLastCallList[b],console.log(leadCall.leadFollowStatus),r+='<li class=" '+(0==b?"follow-up-accordian-active":"")+'"><span class="cursor follow-up-no text-primary p-2 text-center border-primary full bold">'+leadCall.leadFollowStatus+' <i class="fa '+(0==b?"fa-angle-up":"fa-angle-down")+' float-right" style="line-height: 20px;"></i></span><div class="follow-up-content text-center" style="'+(0==b?"display: block":"")+'"><div class="dropdown d-inline-block text-center my-2" style="position: inherit;"><button type="button" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" class="dropdown-toggle btn btn-sm btn-primary">View Follow Up</button><div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu-md dropdown-menu p-2" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 32px, 0px);font-size:11px;"><table class="w-100"><tr><th class="p-1 border-0">Last Followup Date:</th><td class="p-1 border-0" id="connectedTh">'+leadCall.callscheduleDateString+'</td></tr><tr><th class="p-1 border-0">Connected Through:</th><td class="p-1 border-0" id="connectedTh">'+leadCall.followupBy+'</td></tr><tr><th class="p-1 border-0">Connected With:</th><td class="p-1 border-0" id="connectWith">'+leadCall.toCall+'</td></tr><tr><th class="p-1 border-0">Lead Status & Category:</th><td class="p-1 border-0" id="leadFollowStatusCategory">'+leadCall.leadFollowStatus+'</td></tr><tr><th class="p-1 border-0">Next Follow-up:</th><td class="p-1 border-0" id="nextFollowStatus">'+(""!=leadCall.callStatus?leadCall.callStatus:"")+(""!=leadCall.nextCallscheduleDateString?leadCall.nextCallscheduleDateString:"")+'</td></tr><tr><th class="p-1 border-0">Remarks:</th><td class="p-1 border-0 text-justify" id="callRemark" style="max-width: 250px;">'+(""!=leadCall.followRemarks?leadCall.followRemarks:"N/A")+"</td></tr></table></div></div></div></li>";if(r+='</ul></td><td class="rounded-bottom-right-10 text-center pt-3 '+i+"-"+(""!=m.callBadge?m.callBadge+"-bg":"")+'" style="vertical-align:top;">',e.discardPermission||USER_ID==m.assignTo||USER_ID==m.demoAssignTo)if("Unassigned"==m.leadStatus){if(r+='<a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="Update" onclick="callGetOpenFollowup(\'followupSaveForm\',\''+m.leadId+"','"+USER_ID+"','edit','"+e.currentPage+"','leadFollowupForm','B2C','Y');\" ><img src=\""+PATH_FOLDER_IMAGE2+"leadlist_icons/Update.svg"+SCRIPT_VERSION+'" style="width:26px; margin-bottom: 4px;padding:4px;" /></a><br/>',e.discardPermission&&"ARCHIVEDLEAD"==e.leadFrom&&"Y"==l.updated)r+='<a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="Discard" onclick="'+("return showNewDiscardLeadModelFunction('"+("discardLeadsData('"+m.leadId+"','"+e.moduleId+"', '"+e.leadFrom+"','"+m.LeadSourceName+"','"+USER_ID+"',true,'"+t.currentPage+"','B2C','new-leads')")+"','"+m.LeadSourceName+"','"+m.fname+"','"+m.email+"', '"+m.phone+"','"+m.addedDateTime+"','"+m.leadNo+"')")+'"><img src="'+PATH_FOLDER_IMAGE2+"leadlist_icons/discard.svg"+SCRIPT_VERSION+'" style="width:26px; margin-bottom: 4px;padding:4px;" /></a><br/>'}else{if("Y"==l.updated&&(r+='<a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="Update" onclick="callGetOpenFollowup(\'followupSaveForm\',\''+m.leadId+"','"+USER_ID+"','edit','"+e.currentPage+"','leadFollowupForm','B2C','Y');\" ><img src=\""+PATH_FOLDER_IMAGE2+"leadlist_icons/Update.svg"+SCRIPT_VERSION+'" style="width:26px; margin-bottom: 4px;padding:4px;" /></a><br/>'),"Y"==l.updated&&(r+='<a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="Clone" onclick="callLeadsByLeadId(\'leadDataPopupForm\',\''+m.leadId+"','"+USER_ID+"','addLeadClone','leadPopupForm','B2C',"+e.discardPermission+');" ><img src="'+PATH_FOLDER_IMAGE2+"leadlist_icons/Clone.svg"+SCRIPT_VERSION+'" style="width:26px; margin-bottom: 4px;padding:4px;" /></a><br/>'),"Y"==l.updated&&(r+='<a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="Partner with B2B" onclick="callLeadsByLeadId(\'leadDataPopupB2BForm\',\''+m.leadId+"','"+USER_ID+"','addLeadClone','leadPopupB2BForm','B2C-B2B',"+e.discardPermission+');" ><img src="'+PATH_FOLDER_IMAGE2+"leadlist_icons/Partner.svg"+SCRIPT_VERSION+'" style="width:26px; margin-bottom: 4px;padding:4px;" /></a><br/>'),r+='<a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="Activity logs" onclick="getAsPost(\'/dashboard/lead-followup-log-data?moduleId=moduleId='+e.moduleId+"&leadNo="+m.leadNo+'&leadType=B2C\')"><img src="'+PATH_FOLDER_IMAGE2+"leadlist_icons/Activity-logs.svg"+SCRIPT_VERSION+'" style="width:26px; margin-bottom: 4px;padding:4px;" /></a><br/>',r+='<a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="Update chat support" onclick="renderChatContent(\''+e.discardPermission+"','"+USER_ID+"','"+m.leadId+'\')"><img src="'+PATH_FOLDER_IMAGE2+"leadlist_icons/chat-support.svg"+SCRIPT_VERSION+'" style="width:26px; margin-bottom: 4px;padding:4px;" /></a><br/>',e.discardPermission&&"ARCHIVEDLEAD"==e.leadFrom&&"Y"==roleAndModule.updated)r+='<a href="javascript:void(0);" onclick="'+("return showNewDiscardLeadModelFunction('"+("discardLeadsData(\\'"+m.leadId+"\\',\\'"+e.moduleId+"\\',\\'"+e.leadFrom+"\\',\\'"+m.LeadSourceName+"\\',\\'"+USER_ID+"\\', \\'true\\', \\'"+t.currentPage+"\\',\\'B2C\\',\\'new-leads\\')")+"','"+m.LeadSourceName+"','"+m.fname+"','"+m.email+"', '"+m.phone+"','"+m.addedDateTime+"','"+m.leadNo+"')")+'"><i class="fa fa-trash text-danger"></i>&nbsp;Discard</a><br/>';if("Converted"!=m.leadStatus&&e.discardPermission,r+='<a href="'+m.demoSendUrl+'" data-toggle="tooltip" data-placement="top" data-original-title="Book School Demo with '+(""!=m.demoAssignName?m.demoAssignName:m.assignName)+'" target="_blank"><img src="'+PATH_FOLDER_IMAGE2+"leadlist_icons/book.svg"+SCRIPT_VERSION+'" style="width:26px; margin-bottom: 4px;padding:4px;" /></a><br/>',r+='<a href="'+m.demoSendUrlForAll+'" data-toggle="tooltip" data-placement="top" data-original-title="Book School Demo for other counselor" target="_blank"><img src="'+PATH_FOLDER_IMAGE2+"leadlist_icons/book.svg"+SCRIPT_VERSION+'" style="width:26px; margin-bottom: 4px;padding:4px;" /></a><br/>',r+='<a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="WhatsApp chat log" onclick="callOpenWatsAppMessage(\'watsAppMsgModal\',\''+m.leadId+'\');"><img src="'+PATH_FOLDER_IMAGE2+"leadlist_icons/WhatsApp.svg"+SCRIPT_VERSION+'" style="width:26px; margin-bottom: 4px;padding:4px;" /></a><br/>',"NA"==m.whatsAppVerifiedStatus);else{var u="none";m.watiLogsCount>0&&(u="block"),r+='<a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="Wati Logs" style="display:'+u+';" id="wati_logs_link_'+m.leadId+'" onclick="getWatiLogs(\''+m.leadId+'\')"><img src="'+PATH_FOLDER_IMAGE2+"leadlist_icons/Wati.svg"+SCRIPT_VERSION+'" style="width:26px; margin-bottom: 4px;padding:4px;" /></a>'}m.zadarmaCount>0&&(r+='<a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="Zadarma Logs" onclick="getZadarmaLogs(\''+m.phoneIsd+'\')"><img src="'+PATH_FOLDER_IMAGE2+"leadlist_icons/Zadarma.svg"+SCRIPT_VERSION+'" style="width:26px; margin-bottom: 4px;padding:4px;" /></a>')}else r+="N/A";r+="</td></tr></tbody></table></div>"}return r+=b2cleadsPagging(t,o)}function b2cleadsPagging(t,e){t.recordsPerPage;var l=t.noOfPages,a=t.currentPage,o=a-2,d=a+2+1,s=e.leadType,i="";if(l>1){i+='<div><ul class="pagination">',1!=a&&(i+='<li class="page-item"><a class="page-link" href="javascript:void(0);" onclick="clickTotalLeads(\''+e.clickFrom+"-"+e.clickUserid+"', '"+(a-1)+"','"+e.clickByLead+"','"+s+"');\">Previous</a></li>");for(let t=1;t<=l;t++)(t<5||t>l-1||t>=o&&t<d)&&((t>l-1||t<o&&t>d)&&(i+="..."),i+='<li class="page-item"><a class="page-link"  href="javascript:void(0);" onclick="clickTotalLeads(\''+e.clickFrom+"-"+e.clickUserid+"' ,'"+t+"','"+e.clickByLead+"','"+s+'\');" style="'+(t==a?"background-color: #cdeedd !important;":"")+'">'+t+"</a></li>");if(a<l){var c=parseInt(a)+1;i+='<li class="page-item"><a class="page-link" href="javascript:void(0);" onclick="clickTotalLeads(\''+e.clickFrom+"-"+e.clickUserid+"', '"+c+"','"+e.clickByLead+"','"+s+"');\">Next</a></li>"}i+="</ul>",i+="</div>"}return i}