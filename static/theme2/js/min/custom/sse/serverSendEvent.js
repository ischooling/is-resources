$(document).ready((function(){if("STUDENT"==USER_ROLE||"TEACHER"==USER_ROLE);else{var e=USER_ID,s=new EventSource(BASE_URL+CONTEXT_PATH+"sse/subscribe?key="+e);s.addEventListener("push-event-first",(function(e){var s=JSON.parse(e.data);console.log("sendEvents "+JSON.stringify(s))})),s.addEventListener("live-class-status",(function(e){var s=JSON.parse(e.data);if(console.log("liveClassStatus "+JSON.stringify(s)),""!=s.meetingId){var t="Class with meeting id "+s.meetingId+" just "+s.classStatus;showMessageTheme2(1,t,"",!0),getCurrentClassLive(),getClassMeetingRunning(s.meetingId),getClassOfflineMeeting(s.meetingId,s.classStatus)}})),s.addEventListener("live-attendance-status",(function(e){var s=JSON.parse(e.data);console.log("liveAttendance "+JSON.stringify(s)),""!=s.meetingId&&$("#classroomStatus_"+liveClassStatus.meetingId).html(getLiveClassroomStatus(s.classStatus))}))}}));