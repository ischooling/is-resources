var form;function closeSubmitSlotModel(){$("#submitInterviewSlotModal").modal("hide")}function setSteps(e){var t=$(".step").length;$("body .content .step:nth-child("+e+")").siblings().removeClass("active-step"),$("body .content .step:nth-child("+e+")").addClass("active-step"),(e>t||e<1)&&console.log("Invalid Step"),1===e?($(".steps ul li:first-child a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-1.png"),$(".actions > ul > li:first-child").attr("style","opacity:0"),$(".step1, .step2, .step3, .step4").removeClass("done-step")):($(".steps ul li:first-child a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-1.png"),$(".steps ul li:nth-child(2) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-2-deactive.png"),$(".steps ul li:nth-child(3) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-3-deactive.png"),$(".steps ul li:nth-child(4) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-4-deactive.png"),$(".steps ul li:nth-child(5) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-5-deactive.png"),$(".actions > ul > li:first-child").attr("style","opacity:0"),$(".step1, .step2, .step3, .step4").removeClass("done-step")),2===e?($(".steps ul li:first-child a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/complete-step.png"),$(".steps ul li:nth-child(2) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-2.png"),$(".steps ul li:nth-child(3) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-3-deactive.png"),$(".steps ul li:nth-child(4) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-4-deactive.png"),$(".steps ul li:nth-child(5) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-5-deactive.png"),$(".actions > ul > li:first-child").attr("style","opacity:1"),$(".step1").addClass("done-step"),$(".step2, .step3, .step4").removeClass("done-step")):$(".steps ul li:nth-child(2) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-2-deactive.png"),3===e?($(".steps ul li:first-child a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/complete-step.png"),$(".steps ul li:nth-child(2) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/complete-step.png"),$(".steps ul li:nth-child(3) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-3.png"),$(".steps ul li:nth-child(4) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-4-deactive.png"),$(".steps ul li:nth-child(5) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-5-deactive.png"),$(".actions > ul > li:first-child").attr("style","opacity:1"),$(".step1, .step2").addClass("done-step"),$(".step3, .step4").removeClass("done-step")):$(".steps ul li:nth-child(3) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-3-deactive.png"),4===e?($(".steps ul li:first-child a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/complete-step.png"),$(".steps ul li:nth-child(2) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/complete-step.png"),$(".steps ul li:nth-child(3) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/complete-step.png"),$(".steps ul li:nth-child(4) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-4.png"),$(".steps ul li:nth-child(5) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-5-deactive.png"),$(".actions > ul > li:first-child").attr("style","opacity:0"),$(".step1, .step2, .step3").addClass("done-step"),$(".step4").removeClass("done-step"),$(".dropdown-toggle").hover((function(e){var t=$(this).offset().top+$(this).outerHeight()-$(window).scrollTop(),a=$(window).outerHeight()-$(this).outerHeight()-$(this).offset().top+$(window).scrollTop(),i=$(".tooltip-content").outerHeight();a>i&&t<i?($(this).parent().find(".tooltip-content").css({top:"100%",bottom:"inherit"}),$(this).parent().find(".tooltip-content").css({display:"inline-block"})):($(this).parent().find(".tooltip-content").css({bottom:"100%",top:"inherit"}),$(this).parent().find(".tooltip-content").css({display:"inline-block"}))}),(function(){$(this).parent().find(".tooltip-content").css({display:"none"})})),$(".prev-btn").hide(),$(".next-btn").css("margin-left","auto")):$(".steps ul li:nth-child(4) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-4-deactive.png"),t==e?($(".steps ul li:first-child a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/complete-step.png"),$(".steps ul li:nth-child(2) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/complete-step.png"),$(".steps ul li:nth-child(3) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/complete-step.png"),$(".steps ul li:nth-child(4) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/complete-step.png"),$(".steps ul li:nth-child(5) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-5.png"),$(".actions > ul > li:first-child").attr("style","opacity:1"),$(".step1, .step2, .step3, .step4").addClass("done-step"),$(".next-btn").hide(),$(".finish-btn").show()):($(".next-btn").show(),$(".finish-btn").hide(),$(".steps ul li:nth-child(5) a img").attr("src",PATH_FOLDER_IMAGE2+"/teacherSignup/step-5-deactive.png"))}function base64ImageFileAsURL(e,t,a,i){var s=new FileReader,r=$(a).attr("elem-id");s.onload=function(a){var n=s.result.substr(s.result.indexOf(",")+1),p=!0;if(!e.type.length||!/^image\/(png|jpe?g)$/i.test(e.type)&&!/^application\/pdf$/i.test(e.type))return showMessage(!1,"Please upload files in following formats (jpg, jpeg, pdf or png)."),p=!1,!1;if(e.size>10276044.8)return showMessage(!1,MAX_SIZE_LIMIT_FOR_TEACHER),p=!1,!1;if(p){var l={fileName:e.name,fileType:t,fileContent:n};"academic"==i&&(academicUploadDocsObj.filter((function(e){if(e.fileType==t){var a=getObjectIndex(academicUploadDocsObj,t);-1!=a&&academicUploadDocsObj.splice(a,1)}})),academicUploadDocsObj.push(l)),"bank"==i&&(bankUploadDocsObj.filter((function(e){if(e.fileType==t){var a=getObjectIndex(bankUploadDocsObj,t);-1!=a&&bankUploadDocsObj.splice(a,1)}})),bankUploadDocsObj.push(l)),$("#fileupload"+r+"Span").text(e.name),validEndInvalidField(!0,"fileupload"+r+"Span")}},s.readAsDataURL(e)}function getObjectIndex(e,t){return e.findIndex((function(e){return e.fileType==t}))}function uploadDocsFun(e,t){var a=$(e).attr("fileType"),i=e.files[0];i&&base64ImageFileAsURL(i,a,e,t)}async function moveStep(e,t){var a=$(".step").length,i=$(".step.active-step").index()+1,s=$("#teacherSignupStage2"),r=$("#teacherSignupStage3"),n=$("#teacherSignupStage5"),p=$("#teacherSignupStage6");if(getSession()){if("prev"==e)if(i>1)var l=i-1;else l=i;else l=i;if(a==i)var o=i;else o=i+1;if(i>o&&!0,isReload&&(i>o&&!0,0==i&&3==o&&!0,isReload=!1),"next"==e)if(1===o)setSteps(1),getStage2Data();else if(2==o){if(!s.valid())return!1;if(!t)return!!await callForSignupTeacherBasicDetailsForm("teacherSignupStage2")&&(setSteps(2),!0);if(await getStage2Data(),signupPage<3)return!1;setSteps(2)}else{if(3==o)return 0!==GRADES_TAUGHT.length?!!r.valid()&&(1==submitted?(setSteps(2),!0):!!callForSignupTeacherUpdateProfile("teacherSignupStage3",elementary_subjects,middleSchool_subjects,highSchool_subjects)&&(setSteps(3),showSkeleton(!0,"step3"),!0)):(showMessage(2,"Please choose grades taught","",!0),!1);if(4==o)return 0==reviewDone?($("#submitInterviewSlotModal").modal({backdrop:"static",keyboard:!1}),!1):(setSteps(4),getStage5Data(),!0);if(5==o)return!!n.valid()&&(!!callForSignupTeacherAgreement("teacherSignupStage5","","","")&&(setSteps(5),!0))}if("next"==e?($("body .content .step:nth-child("+o+")").addClass("active-step"),$("body .content .step:nth-child("+i+")").removeClass("active-step"),o>1?$(".prev-btn").css({visibility:"visible",opacity:"1"}):$(".prev-btn").css({visibility:"hidden",opacity:"0"}),o==a&&($(".next-btn").hide(),$(".finish-btn").show())):"prev"==e&&(setSteps(l),$("body .content .step:nth-child("+l+")").addClass("active-step"),$("body .content .step:nth-child("+i+")").removeClass("active-step"),1==l?($(".prev-btn").css({visibility:"hidden",opacity:"0"}),GRADES_TAUGHT=[],$("#e2_2").val(GRADES_TAUGHT).trigger("change"),SUBJECTS_TAUGHT=[],$(".elementary-0").val([]).trigger("change"),$(".middle-school-0").val([]).trigger("change"),$(".high-school-0").val([]).trigger("change"),applySubejctflag=!1):3==l||$(".prev-btn").css({visibility:"visible",opacity:"1"}),o==a&&($(".next-btn").show(),$(".finish-btn").hide())),"finish"==e)return!!p.valid()&&!!await callForSignupTeacherAccountAndContact("teacherSignupStage6")}else redirectLoginPage()}function getFormsValidation(){var e=$("#teacherSignupStage2"),t=$("#teacherSignupStage3"),a=$("#teacherSignupStage5"),i=$("#teacherSignupStage6");e.validate({rules:{teacherFirstName:{required:!0},teacherMiddleName:{},teacherLastName:{required:!0},teacherDob:{required:!0},teacherGender:{required:!0},teacherEmailId:{required:!0},phone_no:{required:!0}},messages:{teacherFirstName:{required:"Please enter first name"},teacherLastName:{required:"Please enter last name"},teacherDob:{required:"Please enter date of birth"},teacherGender:{required:"Please select gender"},teacherEmailId:{required:"Please enter email"},phone_no:{required:"Please enter phone number\t"}}}),t.validate({rules:{highestQualificationId:{required:!0},teacherSubjectSpecialization:{required:!0},totalExperianceFromYYYY:{required:!0},totalExperianceFromMM:{required:!0},lastOrganizationName:{required:!0},lastJobTitle:{required:!0},lastJobFromYYYY:{required:!0},lastJobFromMM:{required:!0},lastJobToYYYY:{required:!0},lastJobToMM:{required:!0},lastJobDesc:{required:!0},declConfirmation:{required:!0},demoVedioLink:{required:!0}},messages:{highestQualificationId:{required:"Please select highest education degree"},teacherSubjectSpecialization:{required:"Enter the degree specialization"},totalExperianceFromYYYY:{required:"Select the experience in years"},totalExperianceFromMM:{required:"Select the experience in months"},lastOrganizationName:{required:"Enter the name of last organisation"},lastJobTitle:{required:"Enter the title of last job."},lastJobFromYYYY:{required:"Select the Last/Current job year"},lastJobFromMM:{required:"Select the Last/Current job month"},lastJobToYYYY:{required:"Select the last working year"},lastJobToMM:{required:"Select the last working month"},lastJobDesc:{required:"Enter why should we hire you?"},declConfirmation:{required:"Please accept the declaration"},demoVedioLink:{required:"Please provide a link of your demo video"}}}),a.validate({rules:{accountPersonName:{required:!0},bankName:{required:!0},bankBranchName:{required:!0},bankBranchAddress:{required:!0},accountNumber:{required:!0},swiftCode:{required:!0},paypalEmailId:{required:!0}},messages:{accountPersonName:{required:"Please Enter Account Holder Name"},bankName:{required:"Please Enter Bank Name"},bankBranchName:{required:"Please Enter Bank Branch Name"},bankBranchAddress:{required:"Please Enter Bank Branch Address"},accountNumber:{required:"Please Enter the Account Number/IBAN/CLABE"},swiftCode:{required:"Please Enter Swift Code"},paypalEmailId:{required:"PayPal Email"}}}),i.validate({rules:{agreementDeclarationConfirm:{required:!0}},messages:{agreementDeclarationConfirm:{required:"Please accept the declaration"}}})}function createStepsImage(){$(".steps ul li:first-child").append('<span class="step-arrow step1"/>').find("a").append('<img src="'+PATH_FOLDER_IMAGE2+'/teacherSignup/step-1.png" alt=""> ').append('<span class="step-order">Step 01</span>'),$(".steps ul li:nth-child(2").append('<span class="step-arrow step2"/>').find("a").append('<img src="'+PATH_FOLDER_IMAGE2+'/teacherSignup/step-2-deactive.png" alt="">').append('<span class="step-order">Step 02</span>'),$(".steps ul li:nth-child(3)").append('<span class="step-arrow step3"/>').find("a").append('<img src="'+PATH_FOLDER_IMAGE2+'/teacherSignup/step-3-deactive.png" alt="">').append('<span class="step-order">Step 03</span>'),$(".steps ul li:nth-child(4)").append('<span class="step-arrow step4"/>').find("a").append('<img src="'+PATH_FOLDER_IMAGE2+'/teacherSignup/step-4-deactive.png" alt="">').append('<span class="step-order">Step 04</span>'),$(".steps ul li:last-child a").append('<img src="'+PATH_FOLDER_IMAGE2+'/teacherSignup/step-5-deactive.png" alt="">').append('<span class="step-order">Step 05</span>')}function buildDropdownCountry(e,t,a){t.html(""),""!=e?(t.append("<option value>"+a+"</option>"),$.each(e,(function(e,a){null!=a.extra&&null!=a.extra1?t.append('<option dailCode="'+a.extra1+'" dail-country-code="'+a.extra+'" value="'+a.key+'"> '+a.value+"</option>"):null!=a.extra?"selected"==a.extra?t.append('<option disabled selected value="'+a.key+'">'+a.value+"</option>"):(a.extra,t.append('<option dailCode="'+a.extra1+'" dail-country-code="'+a.extra+'" value="'+a.key+'"> '+a.value+"</option>")):t.append('<option value="'+a.key+'">'+a.value+"</option>")}))):t.append('<option value="0">'+a+"</option>")}function showLoader(e){e?$("#commonloaderId").show():$("#commonloaderId").hide()}$((function(){$("#formvalidation"),$("[href='#previous']");$.validator.addMethod("letterRegex",(function(e,t){return this.optional(t)||/^[A-Z-a-z\s]+$/.test(e)}),"Field must contain only letters"),$.validator.addMethod("numberRegex",(function(e,t){return this.optional(t)||/^[0-9-]+$/.test(e)}),"Field must contain only Numerical and without space"),$.validator.addMethod("mobileRegex",(function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||e.length>9&&e.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)}),"Please enter a valid phone number"),$.validator.addMethod("dateFormat",(function(e,t){var a=e.split("/");return!!(e.match(/^\d\d?\/\d\d?\/\d\d\d\d$/)&&parseInt(a[2])<=2002&&parseInt(a[2])>=1970&&parseInt(a[1])<=12)}),"Please enter a date in the format dd/mm/yyyy"),(form=$("#teacherSignupStage2")).validate({}),$(".separate-user input").click((function(){var e=$(this).val();1==$(this).is(":checked")&&"yes"==e?($(".password-field").css({transform:"scale(1)",opacity:"1",visibility:"visible"}),$(".password-field2").find(".parent-password").attr("name","parentPassword"),$(".password-field").find(".parent-confirm-password").attr("name","parentConfirPassword"),$(".wish_SameParent").find(".wishSameParent").attr("name","wishSameParent"),$(".confirmation_email").addClass("show")):($(".password-field").css({transform:"scale(0.5)",opacity:"0",visibility:"hidden"}),$(".password-field").find(".parent-password").attr("name",""),$(".password-field").find(".parent-confirm-password").attr("name",""),$(".wish_SameParent").find(".wishSameParent").attr("name",""),$(".confirmation_email").removeClass("show"))})),$(".forward").click((function(){$("#formSteps").steps("next")})),$(".backward").click((function(){$("#formSteps").steps("previous")})),$(".password i").click((function(){"password"===$(".password input").attr("type")?$(this).next().attr("type","text"):$(".password input").attr("type","password")})),$(".quantity span").on("click",(function(){var e=$(this),t=e.parent().find("input").val();if(e.hasClass("plus"))var a=parseFloat(t)+1;else if(t>0)a=parseFloat(t)-1;else a=0;e.parent().find("input").val(a)})),$(".grade_list li").click((function(){$(this).attr("value")>5?($(".course-img-wrapper").hide(),$(".course-selection-wrapper").show()):($(".course-img-wrapper").show(),$(".course-selection-wrapper").hide())})),$(document).mouseup((function(e){var t=$(".select-option-wrapper");t.is(e.target)||t.removeClass("show")})),$(".select-option-input").keyup((function(){var e=$(this).val().toLowerCase();$(this).parent().find(".select-option-wrapper li").filter((function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)}))})),$(".select-option-input").on("click",(function(e){$(this).parent().find(".select-option-wrapper li").show(),$(this).parent().find(".select-option-wrapper").addClass("show").promise().done((function(){if($(".select-option-wrapper").length){var e=$(window).scrollTop(),t=$(this).parent(),a=$(this).parent().find(".select-option-wrapper").height(),i=t.offset().top;$(window).height()-(i-e)-t.height()>a?$(this).parent().find(".select-option-wrapper").removeClass("edge"):$(this).parent().find(".select-option-wrapper").addClass("edge")}}))})),$(window).scroll((function(){var e=$(window).scrollTop(),t=$(".show").parent();if(t.length){var a=$(".show").height(),i=t.offset().top;$(window).height()-(i-e)-t.height()>a?$(".show").removeClass("edge"):$(".show").addClass("edge")}}))})),$(document).ajaxStart((function(){showLoader(!0)})),$(document).ajaxStop((function(){showLoader(!1)}));