function addRecommendation(e){customLoader(!1);var a={};a.evaluationId=e;var s=JSON.stringify(a);s=encode(s),urlSend=BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/dashboard/cti-recommendation-add/"+UNIQUEUUID+"?payload="+s,window.open(urlSend,"_blank")}function getCTIDetails(e,a){var s={},r={};r.evaluationId=a,r.userId=e,r.download="false";var n=JSON.stringify(r);return n=encode(n),$.ajax({type:"GET",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/dashboard/cti-recommendation-details/"+UNIQUEUUID+"?payload="+n,dataType:"json",async:!1,success:function(e){s=e}}),s}function confirmCTIRecommendation(e,a){if(null==$("#remarks1").val()||null==$("#remarks1").val()||""==$("#remarks1").val())return showMessageTheme2(0,"Language Arts Remarks is required","",!0),!1;if(null==$("#remarks2").val()||null==$("#remarks2").val()||""==$("#remarks2").val())return showMessageTheme2(0,"Mathematics Remarks is required","",!0),!1;if(null==$("#remarks3").val()||null==$("#remarks3").val()||""==$("#remarks3").val())return showMessageTheme2(0,"Science Remarks is required","",!0),!1;if(null==$("#finalRemarks").val()||null==$("#finalRemarks").val()||""==$("#finalRemarks").val())return showMessageTheme2(0,"Final Remarks is required","",!0),!1;if(null==$("#recommendedBy").val()||null==$("#recommendedBy").val()||"0"==$("#recommendedBy").val())return showMessageTheme2(0,"Academic Expert is required","",!0),!1;var s={};s.evaluationId=a,s.userId=e,s.download="false";var r=JSON.stringify(s);r=encode(r),$.ajax({type:"POST",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/dashboard/cti-recommendation-save/"+UNIQUEUUID+"?payload="+r,data:JSON.stringify(getRequestForConfirmCTIRecommendation(a)),dataType:"json",success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():showMessageTheme2(!1,e.message):showMessageTheme2(1,"Recommendations saved successfully","",!0)}})}function getRequestForConfirmCTIRecommendation(e){for(var a={},s=[],r=1;r<=3;r++){var n={};n.courseName=$("#courseName"+r).text(),n.score=$("#score"+r).val(),n.remarks=$("#remarks"+r).val(),s.push(n)}return a.evaluationId=e,a.coursesRecommendations=s,a.finalRemarks=$("#finalRemarks").val(),a.recommendedGradeId=$("#recommendedGradeId").val(),a.recommendedBy=$("#recommendedBy").val(),a}function publishCtiRecommendationLetter(e){$("#publishCtiRL").attr("disabled",!0),$.ajax({type:"POST",contentType:"application/json",url:e,dataType:"json",success:function(e){return"0"==e.status||"2"==e.status?($("#msgTheme2").text(e.message),alert(e.message)):($("#msgTheme2").text(e.message),alert(e.message),$("#resendMailCtiRLDiv").attr("style","display:inline-block"),$("#publishCtiRL").attr("disabled",!1),$("#publishCtiRL").hide()),!1},error:function(e){return $("#sendSWPR").removeAttr("disabled","disabled"),!1}})}function resendCtiInvitaionMail(e){customLoader(!1);var a={};a.evaluationId=e;var s=JSON.stringify(a);s=encode(s),urlSend=BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/dashboard/cti-invitaion-mail-resend/"+UNIQUEUUID+"?payload="+s,$.ajax({type:"POST",contentType:"application/json",url:urlSend,dataType:"json",success:function(e){return"0"==e.status||"2"==e.status?showMessageTheme2(!1,e.message):showMessageTheme2(!0,e.message),!1},error:function(e){return $("#sendSWPR").removeAttr("disabled","disabled"),!1}})}