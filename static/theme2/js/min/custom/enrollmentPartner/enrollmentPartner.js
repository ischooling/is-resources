function getRequestForEnrollmentPartnerTrackerDetails(e){var a={};return a.payload=e,a.timezone=getSystemTimezone(),a}function getEnrollmentPartnerTracker(e){var a={};return $.ajax({type:"POST",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/enrollment-partner/tracker",data:JSON.stringify(getRequestForEnrollmentPartnerTrackerDetails(e)),dataType:"json",async:!1,global:!1,success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():showMessage(!1,e.message):a=e},error:function(e){checkonlineOfflineStatus()}}),a}function getEnrollmentPartnerDetails(e){var a={};return $.ajax({type:"GET",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/enrollment-partner/details?payload="+e,dataType:"json",async:!1,global:!1,success:function(e){console.log(e),"0"==e.status||"2"==e.status||"3"==e.status?(showMessage(!1,e.message),a=e):a=e},error:function(e){checkonlineOfflineStatus()}}),a}function getRequestForEnrollmentPartnerDetails(e){var a={};return a.b2bAssignTo=$("#"+e+" #b2bAssignTo").val(),a.b2bleadId=$("#"+e+" #b2bleadId").val(),a.partnerType=$('input[name="partner_type"]:checked').val(),a.firstName=$("#"+e+" #firstName").val(),a.middleName=$("#"+e+" #middleName").val(),a.lastName=$("#"+e+" #lastName").val(),a.email=$("#"+e+" #email").val(),a.countryId=$("#"+e+" #countryId").val(),a.stateId=$("#"+e+" #stateId").val(),a.cityId=$("#"+e+" #cityId").val(),a.phoneIsdCode=$("#"+e+" #phoneIsdCode").val(),a.phoneNumber=getPlaneFormattedPhone($("#"+e+" #phoneNumber").val()),a.phoneIsoCode=$("#"+e+" #phoneIsoCode").val(),a.whatsappIsdCode=$("#"+e+" #whatsappIsdCode").val(),a.whatsappNumber=getPlaneFormattedPhone($("#"+e+" #whatsappNumber").val()),a.whatsappIsoCode=$("#"+e+" #whatsappIsoCode").val(),"I"==$('input[name="partner_type"]:checked').val()?(a.workingCountries=$("#"+e+" #workingCountries").val(),a.industryId=$("#"+e+" #industryId").val(),99==$("#"+e+" #industryId").val()&&(a.otherIndustry=$("#"+e+" #otherIndustry").val()),a.experienceId=$("#"+e+" #experienceId").val()):"O"==$('input[name="partner_type"]:checked').val()&&(a.organizationName=$("#"+e+" #organizationName").val(),a.designation=$("#"+e+" #designation").val(),a.operatingCountries=$("#"+e+" #operatingCountries").val(),a.establishmentYear=$("#"+e+" #establishmentYear").val(),a.noOfEmployee=$("#"+e+" #noOfEmployee").val(),a.organizationType=$('input[name="organizationType"]:checked').val(),a.companyRegistration=$('input[name="companyRegistration"]:checked').val()),a.additionalInfo=$("#"+e+" #additionalInfo").val(),a}function saveEnrollmentPartnerDetails(e){if(!enrollmentPartnerFormVaidation(e))return!1;$.ajax({type:"POST",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/enrollment-partner/save",data:JSON.stringify(getRequestForEnrollmentPartnerDetails(e)),dataType:"json",async:!1,global:!1,success:function(a){"0"==a.status||"2"==a.status||"3"==a.status?"3"==a.status?redirectLoginPage():showMessageTheme2(0,a.message):$("#"+e+" #b2bAssignTo").val()>0?showMessageTheme2(1,a.message):window.location.href=BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/enrollment-partner-thankyou?payload="+a.payload},error:function(e){checkonlineOfflineStatus()}})}function chooseTypeOfPartner(e){"I"==$(e).val()?($(".individual-field").show(),$(".organization-field").hide(),$(".additional-information-wrapper").toggleClass("col-xl-6 col-lg-6 col-md-6 col-xl-12 col-lg-12 col-md-12 ")):($(".organization-field").show(),$(".individual-field").hide(),$(".additional-information-wrapper").toggleClass("col-xl-12 col-lg-12 col-md-12 col-xl-6 col-lg-6 col-md-6 "))}function sameAsWhatsApp(e,a){var n=$("#whatsappNumber").val(),l=$("#whatsappNumber").attr("data-ISO-code"),t=$("#phoneNumber").attr("data-ISO-code");$(e).is(":checked")?($("#phoneNumber").val(n),$("#whatsappNumber").prop("disabled")||$("#whatsappNumber").attr("disabled",!0).css({background:"#e3e3e3"}),$("#phoneNumber").length>0&&($("#phoneNumber").prop("disabled")||$("#phoneNumber").attr("disabled",!0).css({background:"#e3e3e3"}),itiContcat1.setCountry(""),itiContcat1.setCountry(l))):$("#phoneNumber").length>0&&($("#phoneNumber").val(a),$("#phoneNumber").attr("disabled",!1).css({background:"#fff"}),itiContcat1.setCountry(""),itiContcat1.setCountry(t))}function setDefaultFormValues(e){var a=[],n=[];$.each(e.details.workInCountries,(function(e,n){a.push(n.key)})),$.each(e.details.operatingCountries,(function(e,a){n.push(a.key)})),itiContcat.setCountry(e.details.whatsappIsoCode),itiContcat1.setCountry(e.details.phoneIsoCode),$("#countryId").val(e.details.countryId).trigger("change"),$("#stateId").val(e.details.stateId).trigger("change"),$("#cityId").val(e.details.cityId).trigger("change"),$("#noOfEmployee").val(e.details.noOfEmployees).trigger("change"),$("#operatingCountries").val(n).trigger("change"),$("#workingCountries").val(a).trigger("change"),$("#establishmentYear").val(e.details.establishmentYear).trigger("change"),$("#experienceId").val(e.details.experienceId).trigger("change"),$("#industryId").val(e.details.industryId).trigger("change")}function enrollmentPartnerFormVaidation(e){var a=!0;return null!=$("#"+e+" #firstName").val()&&null!=$("#"+e+" #firstName").val()&&""!=$("#"+e+" #firstName").val()||(formvalidationMsg(!1,"First Name is required","firstNameError"),a=!1),null!=$("#"+e+" #lastName").val()&&null!=$("#"+e+" #lastName").val()&&""!=$("#"+e+" #lastName").val()||(formvalidationMsg(!1,"Last Name is required","lastNameError"),a=!1),null!=$("#"+e+" #whatsappNumber").val()&&null!=$("#"+e+" #whatsappNumber").val()&&""!=$("#"+e+" #whatsappNumber").val()||(formvalidationMsg(!1,"WhatsApp Number is required","whatsappNumberError"),a=!1),null!=$("#"+e+" #email").val()&&null!=$("#"+e+" #email").val()&&""!=$("#"+e+" #email").val()||(formvalidationMsg(!1,"Email is required","emailError"),a=!1),null!=$("#"+e+" #countryId").val()&&null!=$("#"+e+" #countryId").val()&&""!=$("#"+e+" #countryId").val()||(formvalidationMsg(!1,"Country is required","countryIdError"),a=!1),null!=$("#"+e+" #stateId").val()&&null!=$("#"+e+" #stateId").val()&&""!=$("#"+e+" #stateId").val()||(formvalidationMsg(!1,"State/Province is required","stateIdError"),a=!1),null!=$("#"+e+" #cityId").val()&&null!=$("#"+e+" #cityId").val()&&""!=$("#"+e+" #cityId").val()||(formvalidationMsg(!1,"City is required","cityIdError"),a=!1),"I"==$('input[name="partner_type"]:checked').val()?(null!=$("#"+e+" #workingCountries").val()&&null!=$("#"+e+" #workingCountries").val()&&"0"!=$("#"+e+" #workingCountries").val().length||(formvalidationMsg(!1,"Actively Working Countries are required","workingCountriesError"),a=!1),null!=$("#"+e+" #industryId").val()&&null!=$("#"+e+" #industryId").val()&&""!=$("#"+e+" #industryId").val()||(formvalidationMsg(!1,"Industry is required","industryIdError"),a=!1),99==$("#"+e+" #industryId").val()&&(null!=$("#"+e+" #otherIndustry").val()&&null!=$("#"+e+" #otherIndustry").val()&&""!=$("#"+e+" #otherIndustry").val()||(formvalidationMsg(!1,"Years of Experience is required","otherIndustryError"),a=!1)),null!=$("#"+e+" #experienceId").val()&&null!=$("#"+e+" #experienceId").val()&&""!=$("#"+e+" #experienceId").val()||(formvalidationMsg(!1,"Years of Experience is required","experienceIdError"),a=!1)):"O"==$('input[name="partner_type"]:checked').val()&&(null!=$("#"+e+" #organizationName").val()&&null!=$("#"+e+" #organizationName").val()&&""!=$("#"+e+" #organizationName").val()||(formvalidationMsg(!1,"Name of Organization/Company is required","organizationNameError"),a=!1),null!=$("#"+e+" #designation").val()&&null!=$("#"+e+" #designation").val()&&""!=$("#"+e+" #designation").val()||(formvalidationMsg(!1,"Designation is required","designationError"),a=!1),null!=$("#"+e+" #operatingCountries").val()&&null!=$("#"+e+" #operatingCountries").val()&&"0"!=$("#"+e+" #operatingCountries").val().length||(formvalidationMsg(!1,"Actively Operating Countries are required","operatingCountriesError"),a=!1),null!=$("#"+e+" #establishmentYear").val()&&null!=$("#"+e+" #establishmentYear").val()&&""!=$("#"+e+" #establishmentYear").val()||(formvalidationMsg(!1,"Year of Establishment is required","establishmentYearError"),a=!1),null!=$("#"+e+" #noOfEmployee").val()&&null!=$("#"+e+" #noOfEmployee").val()&&""!=$("#"+e+" #noOfEmployee").val()||(formvalidationMsg(!1,"Total No. of Employees is required","noOfEmployeeError"),a=!1),(null==$('input[name="organizationType"]:checked').val()||null==$('input[name="organizationType"]:checked').val()||$('input[name="organizationType"]:checked').length<1)&&(formvalidationMsg(!1,"Type of Organization/Company is required","organizationTypeError"),a=!1),(null==$('input[name="companyRegistration"]:checked').val()||null==$('input[name="companyRegistration"]:checked').val()||$('input[name="companyRegistration"]:checked').length<1)&&(formvalidationMsg(!1,"Registration Type of Organization/Company is required","companyRegistrationError"),a=!1)),a}function checkSameAsIsDasble(e,a){$(e).val().length>5?$("#"+a).attr("disabled",!1):$("#"+a).attr("disabled",!0)}function formvalidationMsg(e,a,n){e?($("#"+n).show(),$("#"+n).text(a),$("#"+n).addClass("valid-element"),$("#"+n).removeClass("invalid-element")):($("#"+n).show(),$("#"+n).text(a),$("#"+n).addClass("invalid-element"),$("#"+n).removeClass("valid-element"))}function formElementDisabled(e,a){null!=$("#"+a+" #firstName").val()&&null!=$("#"+a+" #firstName").val()&&""!=$("#"+a+" #firstName").val()&&(e.edit||$("#"+a+" #firstName").attr("disabled",!0)),null!=$("#"+a+" #middleName").val()&&null!=$("#"+a+" #middleName").val()&&$("#"+a+" #middleName").val(),null!=$("#"+a+" #lastName").val()&&null!=$("#"+a+" #lastName").val()&&""!=$("#"+a+" #lastName").val()&&(e.edit||$("#"+a+" #lastName").attr("disabled",!0)),null!=$("#"+a+" #whatsappNumber").val()&&null!=$("#"+a+" #whatsappNumber").val()&&""!=$("#"+a+" #whatsappNumber").val()&&(e.edit?$("#"+a+" #whatsappNumber").attr("disabled",!1):$("#"+a+" #whatsappNumber").attr("disabled",!0)),null!=$("#"+a+" #phoneNumber").val()&&null!=$("#"+a+" #phoneNumber").val()&&$("#"+a+" #phoneNumber").val(),null!=$("#"+a+" #phoneNumber").val()&&null!=$("#"+a+" #phoneNumber").val()&&""!=$("#"+a+" #phoneNumber").val()&&null!=$("#"+a+" #whatsappNumber").val()&&null!=$("#"+a+" #whatsappNumber").val()&&$("#"+a+" #whatsappNumber").val(),null!=$("#"+a+" #email").val()&&null!=$("#"+a+" #email").val()&&""!=$("#"+a+" #email").val()&&(e.edit?$("#"+a+" #email").attr("disabled",!1):$("#"+a+" #email").attr("disabled",!0)),null!=$("#"+a+" #countryId").val()&&null!=$("#"+a+" #countryId").val()&&""!=$("#"+a+" #countryId").val()&&(e.edit||$("#"+a+" #countryId").attr("disabled",!0)),null!=$("#"+a+" #stateId").val()&&null!=$("#"+a+" #stateId").val()&&""!=$("#"+a+" #stateId").val()&&(e.edit||$("#"+a+" #stateId").attr("disabled",!0)),null!=$("#"+a+" #cityId").val()&&null!=$("#"+a+" #cityId").val()&&""!=$("#"+a+" #cityId").val()&&(e.edit||$("#"+a+" #cityId").attr("disabled",!0)),null!=$("#"+a+" #workingCountries").val()&&null!=$("#"+a+" #workingCountries").val()&&$("#"+a+" #workingCountries").val().length,null!=$("#"+a+" #industryId").val()&&null!=$("#"+a+" #industryId").val()&&$("#"+a+" #industryId").val(),99==$("#"+a+" #industryId").val()&&null!=$("#"+a+" #otherIndustry").val()&&null!=$("#"+a+" #otherIndustry").val()&&$("#"+a+" #otherIndustry").val(),null!=$("#"+a+" #experienceId").val()&&null!=$("#"+a+" #experienceId").val()&&$("#"+a+" #experienceId").val(),null!=$("#"+a+" #organizationName").val()&&null!=$("#"+a+" #organizationName").val()&&$("#"+a+" #organizationName").val(),null==$("#"+a+" #designation").val()||null==$("#"+a+" #designation").val()||$("#"+a+" #designation").val(),null!=$("#"+a+" #operatingCountries").val()&&null!=$("#"+a+" #operatingCountries").val()&&$("#"+a+" #operatingCountries").val().length,null!=$("#"+a+" #establishmentYear").val()&&null!=$("#"+a+" #establishmentYear").val()&&$("#"+a+" #establishmentYear").val(),null!=$("#"+a+" #noOfEmployee").val()&&null!=$("#"+a+" #noOfEmployee").val()&&$("#"+a+" #noOfEmployee").val(),null!=$('input[name="organizationType"]:checked').val()&&null!=$('input[name="organizationType"]:checked').val()&&$('input[name="organizationType"]:checked').length,null!=$('input[name="companyRegistration"]:checked').val()&&null!=$('input[name="companyRegistration"]:checked').val()&&$('input[name="companyRegistration"]:checked').length,null!=$("#"+a+" #additionalInfo").val()&&null!=$("#"+a+" #additionalInfo").val()&&$("#"+a+" #additionalInfo").val()}function showServerError(e,a,n,l){$("#"+a+" #"+n).html(l),e?($("#"+a+" #"+n).removeClass("server-success"),$("#"+a+" #"+n).addClass("server-error")):($("#"+a+" #"+n).addClass("server-success"),$("#"+a+" #"+n).removeClass("server-error"))}