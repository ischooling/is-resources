function showWarningMessageForNTAA(e,t){""==t?($("#noTeacherAssistanceAvailableYes").hide(),$("#noTeacherAssistanceAvailableNo").hide()):($("#noTeacherAssistanceAvailableYes").show(),$("#noTeacherAssistanceAvailableNo").show()),t="$('#noTeacherAssistanceAvailable').modal('hide');window.setTimeout(function(){"+t+";},1000);",""!=e&&$("#noTeacherAssistanceAvailableMessage").html(e),$("#noTeacherAssistanceAvailableYes").attr("onclick",t),$("#noTeacherAssistanceAvailable").modal("show"),$("#creditsLimitsOverModal, #creditsLimitsModal").modal("hide")}function showWarningMessageForAPCourses(e,t){""==t?$("#apCourseSelectionWarningClose").hide():$("#apCourseSelectionWarningClose").show(),t="$('#apCourseSelectionWarning').modal('hide');window.setTimeout(function(){"+t+";},1000);",""!=e&&$("#statusMessage-2").html(e),$("#apCourseSelectionWarningClose").attr("onclick",t);$("#apCourseSelectionWarningNo").attr("onclick","$('#apCourseSelectionWarning').modal('hide');apCourseSelectionFlag=false;"),$("#apCourseSelectionWarning").modal("show")}function creditLimitOver(e,t){$("#standardId").attr("min_limit");var a=$("#standardId").attr("max_limit");$("#standardId").attr("upper_band");return parseFloat(t)>parseFloat(a)}function assignEvent(e,t,a,s,o,n,d,l,i,r,c,u,m,h){if(""==t)return showMessage(2,"Please select a course then click on the add button."),!1;var p=!1,g=!1;if("add"==c){if(parseFloat($("#totalCreditInput").val())>=parseFloat($("#standardId").attr("upper_band")))return showMessage(2,"You can select a maximum of "+$("#standardId").attr("upper_band")+" credits."),!1;parseFloat($("#totalCreditInput").val())>=parseFloat($("#standardId").attr("max_limit"))&&(g=!0)}if("add"==c&&"false"==$("#oneTimeModal").val()&&g&&(p=!0),p){$("#addCourseLimitBtn").attr("onclick","updateCourseLimit();");var f=$("#totalCredit").text()+". Now extra fee will be charged for choosing extra courses.";$("#creditsLimitsModalMessage").html(f),$("#creditsLimitsModal").modal("show")}if(g)if("Y"==SHOW_PAYMENT_OPTION){var C="Extra fee of "+h+" will be charged for selecting "+$("#course_name_"+t).text()+". Kindly confirm this selection.";$("#creditsLimitsOverModalMessage").html(C),p||$("#creditsLimitsOverModal").modal("show");var y="addCourseLimits('"+e+"','"+t+"','"+a+"','"+s+"','"+o+"','"+n+"','"+d+"','"+l+"','"+i+"','"+r+"','"+h+"');";$("#addCourseOverLimitBtn").attr("onclick",y)}else{y="addCourseLimits('"+e+"','"+t+"','"+a+"','"+s+"','"+o+"','"+n+"','"+d+"','"+l+"','"+i+"','"+r+"','"+h+"');";$("#addCourseOverLimitBtn").attr("onclick",y),$("#addCourseOverLimitBtn").trigger("click")}else{y="addCourse('"+t+"','"+a+"','"+s+"','"+o+"','"+n+"','"+d+"','"+l+"','"+i+"','"+r+"','"+h+"');";$("#add_course_"+a+"_"+e).attr("onclick",y),addCourse(t,a,s,o,n,d,l,i,r,h)}}function addCourseLimits(e,t,a,s,o,n,d,l,i,r,c){var u="addCourse('"+t+"','"+a+"','"+s+"','"+o+"','"+n+"','"+d+"','"+l+"','"+i+"','"+r+"','"+c+"');";$("#add_course_"+a+"_"+e).attr("onclick",u),$("#creditsLimitsOverModal").modal("hide"),addCourse(t,a,s,o,n,d,l,i,r,c)}function addCourse(e,t,a,s,o,n,d,l,i,r){if(""==e)return showMessage(2,"Please select a course then click on the add button."),!1;if(1==SCHOOL_ID&&"Advanced Placement"==i&&!apCourseSelectionFlag)return apCourseSelectionFlag=!0,functionName="addCourse('"+e+"','"+t+"','"+a+"','"+s+"','"+o+"','"+n+"','"+d+"','"+l+"','"+i+"','"+r+"');",showWarningMessageForAPCourses("",functionName),!1;if(0==l)return functionName="addCourse('"+e+"','"+t+"','"+a+"','"+s+"','"+o+"','"+n+"','"+d+"','1','"+i+"','"+r+"');",showWarningMessageForNTAA("",functionName),!1;var c=$("#selectedSubjects").val()+","+e;$("#selectedSubjects").val(c),$(".modal-backdrop").length>0&&$(".modal-backdrop").remove(),$("#controlType").val("add"),getAllCourseDetails("N",t)}function removeCourse(e,t,a){var s=$("#selectedSubjects").val().trim();s=(s=(s=s.split(",")).filter((t=>t!==e))).join(","),$("#selectedSubjects").val(s),$(".course-category").find("div[seletedsubject='"+e+"']").addClass("slideout-animation").removeClass("slide-animation"),setTimeout((function(){$(".course-category").find("div[seletedsubject='"+e+"']").hide()}),800),$("#controlType").val("remove"),getAllCourseDetails("N",t)}function removeAllCourseWarning(){if(!($(".course-category > div.course-item").length>0))return!1;$("#removeAllCoruses").modal("show")}function removeAllCourse(){$("#selectedSubjects").val(""),$("#removeAllCoruses").modal("hide"),$("body").find(".modal-backdrop.fade").remove(),$("body").removeClass("modal-open"),$("#controlType").val("remove"),getAllCourseDetails("N",""),apCourseSelectionFlag=!1}function showPaymentTermCondMode(){hideModalMessage(""),"Y"==SHOW_PAYMENT_OPTION?(callLocationForPayment(),"registration"==$("#payMode").val()?$("#bookAnEnrollmentTNC").length>0?($("#courseFeeModalTNC").modal("hide"),$("#bookAnEnrollmentTNC").modal("show")):showMessage(0,"No payment gateway enabled, please contact administrator!"):$("#callPaymentStudentModal").length>0?$("#callPaymentStudentModal").modal({backdrop:"static",keyboard:!1}):showMessage(0,"No payment gateway enabled, please contact administrator!")):($("#submitApplicationWarning").modal({backdrop:"static",keyboard:!1}),$("#goToDashboardWarningMessage").hide())}function getAllCourseDetails(e,t){$("#commonloaderId").show();var a=$("#standardId").val();"Y"==e&&$("#selectedSubjects").val(""),""!=a&&0!=a||$("#courseSubjectDetails").html(""),$.ajax({type:"POST",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/student/enrollment/course-details-by-standard-id",data:JSON.stringify(getRequestForCourseSelection(t)),dataType:"json",async:!0,global:!1,success:function(e){if("0"==e.status||"2"==e.status||"3"==e.status)"3"==e.status?redirectLoginPage():"ELIGIBLE_CUSTOME_PLAN"==e.statusCode||"REDIRECT_TO_DASHBOOARD"==e.statusCode?window.location.reload():showMessage(!1,e.message);else if($("#creditsLimitsModal, #creditsLimitsOverModal").modal("hide"),showMessage(!0,e.message),$(".step-3-skeleton").html(""),$(".step-3-skeleton").hide(""),$("#signupStage3").show(),renderCourseSelectionContent(e),null!=t&&null!=t&&""!=t||$.each(e.availableCourses,(function(e,a){if(a.subjects.length>0)return t=a.courseId,!1})),showSpecificContentNew("ft_courses",t),$("#courseFirstListOpen").val(1),$("#addAndRemoveLoader").css({display:"none"}),"ONE_TO_ONE_FLEX"==$("#learingProgramHeader").attr("val")){var a=$("#dob").val();$("#applyStandardId").val($("#gradeId").val()).trigger("change"),$("#dob").val(a)}$(".prev-btn, .next-btn").removeClass("disabled"),$("#commonloaderId, #commonloaderBody").hide()},error:function(e){checkonlineOfflineStatus()}})}function updateCourseLimit(){creditLimitOver($("#standardId").val(),$("#totalCreditInput").val())?$("#oneTimeModal").val(!0):$("#oneTimeModal").val(!1),$("#creditsLimitsModal").modal("hide"),$("#creditsLimitsOverModal").modal("show")}function getRequestForCourseSelection(e){var t={};if(t.userId=USER_ID,t.courseId=e,t.callFrom="signup",$("#standardId").length>0&&(t.standardId=$("#standardId").val()),$("#selectedSubjects").length>0?t.selectedSubjects=$("#selectedSubjects").val():t.selectedSubjects="",t.controlType=$("#controlType").val(),$("#courseCategory").length){var a=[];a.push($("#courseCategory").val()),t.preferredCourseId=a}return t}function activeTabList(e){$(".courseSelectId-"+e).parent().closest("li").find(".a-content").slideToggle(),$(".courseSelectId-"+e).parent().closest("li").siblings().find(".a-content").slideUp(),$(".courseSelectId-"+e).parent().closest("li").find(".plus-icon").toggleClass("fa-minus fa-plus"),$(".courseSelectId-"+e).parent().closest("li").siblings().find(".plus-icon").removeClass("fa-minus"),$(".courseSelectId-"+e).parent().closest("li").siblings().find(".plus-icon").removeClass("fa-plus"),$(".courseSelectId-"+e).parent().closest("li").siblings().find(".a-content").slideUp()}function showSpecificContentNew(e,t){$(".custom-tab-wrapper li a").addClass("inactive"),$("#"+e).removeClass("inactive"),$("#"+e).parent().addClass("active-tab").siblings().removeClass("active-tab"),"ft_courses"==e?($("#ft_coursesC").show(),$("#ap_coursesC").hide(),$("#cs_coursesC").hide(),$("#cte_coursesC").hide(),$("#hon_coursesC").hide(),$("#adv_coursesC").hide()):"ap_courses"==e?($("#ft_coursesC").hide(),$("#ap_coursesC").show(),$("#cs_coursesC").hide(),$("#cte_coursesC").hide(),$("#hon_coursesC").hide(),$("#adv_coursesC").hide()):"cs_courses"==e?($("#ft_coursesC").hide(),$("#ap_coursesC").hide(),$("#cs_coursesC").show(),$("#cte_coursesC").hide(),$("#hon_coursesC").hide(),$("#adv_coursesC").hide()):"cte_courses"==e?($("#ft_coursesC").hide(),$("#ap_coursesC").hide(),$("#cs_coursesC").hide(),$("#cte_coursesC").show(),$("#hon_coursesC").hide(),$("#adv_coursesC").hide()):"hon_courses"==e?($("#ft_coursesC").hide(),$("#ap_coursesC").hide(),$("#cs_coursesC").hide(),$("#cte_coursesC").hide(),$("#hon_coursesC").show(),$("#adv_coursesC").hide()):"adv_courses"==e&&($("#ft_coursesC").hide(),$("#ap_coursesC").hide(),$("#cs_coursesC").hide(),$("#cte_coursesC").hide(),$("#hon_coursesC").hide(),$("#adv_coursesC").show()),activeTabList(t)}function validateRequestForPaymentOption(e){return!0}function choosePaymentOption(){var e=!0;"Y"==SHOW_PAYMENT_OPTION&&(1==$("#pay-one").prop("checked")||1==$("#pay-three").prop("checked")||1==$("#pay-registration").prop("checked")||1==$("#pay-custom").prop("checked")?hideModalMessage(""):(showMessage(0,"Please choose payment mode"),e=!1)),e&&$.ajax({type:"POST",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/student/enrollment/choose-payment-plan",data:JSON.stringify(getRequestForChoosePaymentOption()),dataType:"json",global:!1,success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():"ELIGIBLE_CUSTOME_PLAN"==e.statusCode||"REDIRECT_TO_DASHBOOARD"==e.statusCode?window.location.reload():showMessage(!1,e.message):("Y"==SHOW_PAYMENT_OPTION&&$("#studentPaymentModal").modal("hide"),setActiveStep(4),callForReviewAndPaymentSelection("Y"),"Y"==SHOW_PAYMENT_OPTION?(showMessage(1,"Payment Mode Selected."),hideModalMessage()):showMessage(1,"Course Selected."))},error:function(e){checkonlineOfflineStatus()}})}function getRequestForChoosePaymentOption(){var e={};return e.userId=$("#userId").val(),e.paymentMode=$("#payMode").val(),e}function displayScholorshipDetails(e){var t="annually";"dtl-one"==e?(t="annually",$("#annual-course-fee-details").show(),$(".installment3-course-fee-details").hide(),$("#installment5-course-fee-details").hide(),$("#installment6-course-fee-details").hide(),$("#installment9-course-fee-details").hide(),$("#installment10-course-fee-details").hide(),$("#installment12-course-fee-details").hide(),$("#book-seat-fee-details, #BookEnrollmentSeat").hide()):"dtl-two"==e?(t="twoMonthly",$("#annual-course-fee-details").hide(),$(".installment3-course-fee-details").show(),$("#installment5-course-fee-details").hide(),$("#installment6-course-fee-details").hide(),$("#installment9-course-fee-details").hide(),$("#installment10-course-fee-details").hide(),$("#installment12-course-fee-details").hide(),$("#book-seat-fee-details, #BookEnrollmentSeat").hide(),$("#custom-course-fee-details").hide()):"dtl-three"==e?(t="threeMonthly",$("#annual-course-fee-details").hide(),$(".installment3-course-fee-details").show(),$("#installment5-course-fee-details").hide(),$("#installment6-course-fee-details").hide(),$("#installment9-course-fee-details").hide(),$("#installment10-course-fee-details").hide(),$("#installment12-course-fee-details").hide(),$("#book-seat-fee-details, #BookEnrollmentSeat").hide(),$("#custom-course-fee-details").hide()):"dtl-five"==e?(t="fiveMonthly",$("#annual-course-fee-details").hide(),$(".installment3-course-fee-details").hide(),$("#installment5-course-fee-details").show(),$("#installment6-course-fee-details").hide(),$("#installment9-course-fee-details").hide(),$("#installment10-course-fee-details").hide(),$("#installment12-course-fee-details").hide(),$("#book-seat-fee-details, #BookEnrollmentSeat").hide(),$("#custom-course-fee-details").hide()):"dtl-six"==e?(t="sixMonthly",$("#annual-course-fee-details").hide(),$(".installment3-course-fee-details").show(),$("#installment5-course-fee-details").hide(),$("#installment6-course-fee-details").hide(),$("#installment9-course-fee-details").hide(),$("#installment10-course-fee-details").hide(),$("#installment12-course-fee-details").hide(),$("#book-seat-fee-details, #BookEnrollmentSeat").hide(),$("#custom-course-fee-details").hide()):"dtl-nine"==e?(t="nineMonthlly",$("#annual-course-fee-details").hide(),$(".installment3-course-fee-details").hide(),$("#installment5-course-fee-details").hide(),$("#installment6-course-fee-details").hide(),$("#installment9-course-fee-details").show(),$("#installment10-course-fee-details").hide(),$("#installment12-course-fee-details").hide(),$("#book-seat-fee-details, #BookEnrollmentSeat").hide(),$("#custom-course-fee-details").hide()):"dtl-ten"==e?(t="tenMonthly",$("#annual-course-fee-details").hide(),$(".installment3-course-fee-details").hide(),$("#installment5-course-fee-details").hide(),$("#installment6-course-fee-details").hide(),$("#installment9-course-fee-details").hide(),$("#installment10-course-fee-details").show(),$("#installment12-course-fee-details").hide(),$("#custom-course-fee-details").hide(),$("#book-seat-fee-details, #BookEnrollmentSeat").hide()):"dtl-custom"==e?(t="c_annually",$("#annual-course-fee-details").hide(),$(".installment3-course-fee-details").hide(),$("#installment5-course-fee-details").hide(),$("#installment6-course-fee-details").hide(),$("#installment9-course-fee-details").hide(),$("#installment12-course-fee-details").hide(),$("#book-seat-fee-details, #BookEnrollmentSeat").hide(),$("#custom-course-fee-details").show()):"dtl-registration"==e&&(t="registration",$("#annual-course-fee-details").hide(),$(".installment3-course-fee-details").hide(),$("#installment5-course-fee-details").hide(),$("#installment6-course-fee-details").hide(),$("#installment9-course-fee-details").hide(),$("#installment12-course-fee-details").hide(),$("#custom-course-fee-details").hide(),$("#book-seat-fee-details, #BookEnrollmentSeat").show()),$("#payMode").val(t),$("#payMode").attr("data-paymode",t)}function callForProgressionToDashboard(){return hideModalMessage(""),$.ajax({type:"POST",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/student/proceed-to-dashboard",data:JSON.stringify(getRequestForProgressionToDashboard()),dataType:"json",async:!1,success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():reloadRequired&&("ELIGIBLE_ADVANCE_PLAN"==e.statusCode||("ELIGIBLE_CUSTOME_PLAN"==e.statusCode||"REDIRECT_TO_DASHBOOARD"==e.statusCode?window.location.reload():showMessage(!1,e.message))):goAhead(e.redirectUrl,"")}}),!1}function getRequestForProgressionToDashboard(){var e={};return e.userId=USER_ID,e}function proceedToChangeGrade(){$("#changeSelectedGrade").modal("hide"),displaySection(1)}function cancelToChangeGrade(){$("#changeSelectedGrade").modal("hide")}function changeSelectedGrade(){$("#changeSelectedGrade").modal("show")}function radioBtnChecked(){var e=$(".payment-item input:radio[name=payModeCheckboxes]:checked");$(e).parent().find("label").addClass("primary-bg"),$(e).parent().siblings().find("label").removeClass("primary-bg")}function upgradeCourse(e,t,a,s){$("#upgradeCoruses #upgradeCorusesMessage").html(s);var o="confirmUpgradeCourse("+e+","+t+","+a+")";$("#changeCourseYes").attr("onclick",o);$("#changeCourseNo").attr("onclick",'$("#upgradeCoruses").modal("hide")'),"Y"==SHOW_PAYMENT_OPTION?$("#upgradeCoruses").modal("show"):$("#changeCourseYes").trigger("click")}function confirmUpgradeCourse(e,t,a){var s=$("#selectedSubjects").val().trim();(s=(s=s.split(",")).filter((e=>parseInt(e)!=parseInt(t)))).push(a),s=s.join(","),$("#selectedSubjects").val(s),$("#upgradeCoruses").modal("hide"),$(".modal-backdrop").length>0&&($(".modal-backdrop").remove(),$("body").removeClass("modal-open"),$("body").css({"padding-right":"0"})),$("#controlType").val("add"),getAllCourseDetails("N",e)}function removeSlideAnimationClass(){$(".selected-course-list .course-category .course-item:last-child").removeClass("slide-animation")}function validateRequestForPaymentModeSelection(e,t){if($("#standardId").val()>=11&&$("#standardId").val()<=17||8==$("#standardId").val())return!0;var a=$("#standardId").attr("min_limit"),s=($("#standardId").attr("max_limit"),$("#standardId").attr("upper_band")),o=parseFloat($("#totalCredit").attr("totalCredit"));return parseFloat(o)<parseFloat(a)?(showMessage(0,"Please select a minimum of "+a+" credits."),!1):!(parseFloat(o)>parseFloat(s))||(showMessage(0,"You can select a maximum of "+s+" credits."),!1)}function getRequestForPaymentModeSelection(e,t){var a={};return a.userId=USER_ID,a.courseId=t,a.callFrom="signup",$("#standardId").length>0&&(a.standardId=$("#standardId").val()),$("#selectedSubjects").length>0?a.selectedSubjects=$("#selectedSubjects").val():a.selectedSubjects="",a.controlType=$("#controlType").val(),a}function callForPaymentModeSelection(e,t){if(hideMessage(""),!validateRequestForPaymentModeSelection(e,t))return!1;$.ajax({type:"POST",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/student/enrollment/get-payment-details",data:JSON.stringify(getRequestForPaymentModeSelection(e,t)),dataType:"json",async:!0,global:!1,success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():"ELIGIBLE_CUSTOME_PLAN"==e.statusCode||"REDIRECT_TO_DASHBOOARD"==e.statusCode?window.location.reload():(showMessage(!1,e.message),window.setTimeout((function(){$("#studentPaymentModal").modal("hide")}),1e3)):(renderPaymentMode(),showSkeleton(!0,"fee-details-modal"),paymentModalContentWithData(e),$(".step-feeDetails-skeleton").hide(),$(".feeDetailsContentDiv").show(),$("#payMode").val(e.paymentMode),$(".radio-payment-option input:radio[name=payModeCheckboxes]").unbind().bind("change",(function(){radioBtnChecked()})),selectPaymentmentMethod(!0))},error:function(e){checkonlineOfflineStatus()}})}function selectPaymentmentMethod(e){if(""==$("#payMode").val()&&$("#payMode").val("annually"),"annually"==$("#payMode").val().trim()){if($("#pay-one").trigger("click"),displayScholorshipDetails("dtl-one"),e){for(var t=$("#annually_extra .extra-course-ol li").length,a=1;a<=t;a++)$("#annually_extra_price .extra-course-price-ul li:nth-child("+a+")").css({"justify-content":"flex-end",display:"flex","align-items":"flex-end"});t=$("#annually_external .external-course-ol li").length;for(var s=1;s<=t;s++)$("#annually_external_price .external-course-price-ul li:nth-child("+s+")").css({"justify-content":"flex-end",height:$("#annually_external .external-course-ol li:nth-child("+s+")").css("height"),display:"flex","align-items":"flex-end"})}}else"twoMonthly"==$("#payMode").val().trim()?($("#pay-three").trigger("click"),displayScholorshipDetails("dtl-two")):"twoMonthly"==$("#payMode").val().trim()||"threeMonthly"==$("#payMode").val().trim()||"sixMonthly"==$("#payMode").val()?($("#pay-three").trigger("click"),displayScholorshipDetails("dtl-three")):"c_installment"==$("#payMode").val()||"c_annually"==$("#payMode").val()?($("#pay-custom").trigger("click"),displayScholorshipDetails("dtl-custom")):"registration"==$("#payMode").val().trim()&&($("#pay-registration").trigger("click"),displayScholorshipDetails("dtl-registration"))}function getRequestForReviewAndPaymentSelection(e){var t={};return t.userId=USER_ID,t.reloadRequired=e,t}function callForReviewAndPaymentSelection(e){hideMessage(""),$("#studentPaymentModal").modal("hide"),showSkeleton(!0,"step4"),$(".prev-btn, .next-btn, .finish-btn").addClass("disabled"),$.ajax({type:"POST",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/student/enrollment/get-student-review-details",data:JSON.stringify(getRequestForReviewAndPaymentSelection(e)),dataType:"json",async:!0,global:!1,success:function(t){"0"==t.status||"2"==t.status||"3"==t.status?"3"==t.status?redirectLoginPage():e&&("ELIGIBLE_CUSTOME_PLAN"==t.statusCode||"REDIRECT_TO_DASHBOOARD"==t.statusCode?window.location.reload():(showMessage(!1,t.message),setActiveStep(3),$("#studentPaymentModal").modal("show"))):($(".step-4-skeleton").html(""),$(".step-4-skeleton").hide(""),$("#signupStage4Content").show(),getReviewAndPayRendered(t)),$(".prev-btn, .next-btn, .finish-btn").removeClass("disabled")},error:function(e){checkonlineOfflineStatus()}})}function getSignupStatus(){signupStageStatusInitiated||"dev"!=ENVIRONMENT&&window.setInterval((function(){getSignupStatusFinal()}),18e4)}function getSignupStatusFinal(){try{$.ajax({type:"GET",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/student/enrollment-stage-status?uniqueId="+UNIQUEUUID,dataType:"json",global:!1,success:function(e){return"0"!=e.status&&"2"!=e.status&&"3"!=e.status?(window.location.replace(e.redirectUri),!0):"3"==e.status&&(redirectLoginPage(),!0)},error:function(e){checkonlineOfflineStatus()||console.log("Error while calling API : "+JSON.stringify(e))}})}catch(e){console.log("exception while calling API : "+JSON.stringify(e))}}function addRecommendedCourse(e){var t=!0,a=$(e),s=a.parent(),o=a.hasClass("add-recommended-course-already-selected");a.hasClass("add-recommended-course-not-mandatory");a.prop("checked")?(s.find("span").html('<span>Remove&nbsp;<i class="fa fa-trash"></i></span>'),s.addClass("btn-danger").removeClass("primary-bg"),a.attr("data-checked","true")):(o?(a.removeAttr("data-checked"),s.find("span").html('<span><i class="fa fa-plus"></i>&nbsp;Add Back</span>')):s.find("span").html('<span><i class="fa fa-plus"></i>&nbsp;Add</span>'),s.removeClass("btn-danger").addClass("primary-bg"),a.removeAttr("data-checked")),$(".add-recommended-course-not-mandatory, .add-recommended-course-already-selected").each((function(){$(this).prop("checked")||(t=!1)})),t?($("#addAllRecommendedCourse").hide(),$("#reomveAllRecommendedCourse").show()):($("#reomveAllRecommendedCourse").hide(),$("#addAllRecommendedCourse").show()),updateConfirmButtonState()}function addAllRecommendedCourse(){$("#addAllRecommendedCourse").hide(),$("#reomveAllRecommendedCourse").show(),$(".add-recommended-course-not-mandatory, .add-recommended-course-already-selected").each((function(){$(this).prop("checked")||($(this).prop("checked",!0),$(this).parent().find("span").html('<span>Remove&nbsp;<i class="fa fa-trash"></i></span>'),$(this).parent().addClass("btn-danger").removeClass("primary-bg"))})),updateConfirmButtonState()}function reomveAllRecommendedCourse(){$("#reomveAllRecommendedCourse").hide(),$("#addAllRecommendedCourse").show(),$(".add-recommended-course-not-mandatory, .add-recommended-course-already-selected").each((function(){$(this).prop("checked",!1);const e=$(this).parent();$(this).hasClass("add-recommended-course-already-selected")?e.find("span").html('<span><i class="fa fa-plus"></i>&nbsp;Add Back</span>'):e.find("span").html('<span><i class="fa fa-plus"></i>&nbsp;Add</span>'),e.addClass("primary-bg").removeClass("btn-danger"),$(this).removeAttr("data-checked")})),updateConfirmButtonState()}function confirmAndAddRecommendedCourse(){return $(".add-recommended-course:checked").map((function(){return this.value})).get().join(",")}function recommendedCourse(){hideMessage(""),$("#commonloaderId, #commonloaderBody").show(),$.ajax({type:"POST",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/student/recommended-courses",data:JSON.stringify(getRequestForReviewAndPaymentSelection("")),dataType:"json",async:!0,global:!1,success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status&&redirectLoginPage():renderCustomizedCourse(e),$("#commonloaderId, #commonloaderBody").hide()},error:function(e){checkonlineOfflineStatus()}})}function chooseRecomendedCourse(){var e=($("#selectedSubjects").val()||"").split(",").map((e=>e.trim())).filter((e=>""!==e)),t=confirmAndAddRecommendedCourse().split(",").map((e=>e.trim())).filter((e=>""!==e)),a=[...new Set([...e,...t])];$("#selectedSubjects").val(a.join(",")),$("#selectedSubjects").val(confirmAndAddRecommendedCourse()),$("#recommendedCourseModal").modal("hide"),$("#controlType").val("add"),getAllCourseDetails("N",""),apCourseSelectionFlag=!1}$(window).on("load",(function(){radioBtnChecked()})),$((function(){$('[data-toggle="tooltip"]').tooltip()})),$("#pay-registration").unbind("click").bind("click",(function(){$("#signupStage3 #payMode").val("registration"),$("#dtl-registration").show(350),$("#dtl-one, #dtl-three, #dtl-five, #dtl-six, #dtl-nine").hide(350)}));const getPathNameForUrl=e=>e.replace("https://internationalschooling.org/course-catalog/","").replaceAll("/","");function openCourseDetailModal(e,t){$("#courseDetailModal").length||$("body").append('\n          <div class="modal fade" id="courseDetailModal" tabindex="-1" aria-labelledby="courseDetailModalLabel" aria-hidden="true">\n            <div class="modal-dialog modal-lg">\n              <div class="modal-content">\n                <div class="modal-header" style="display: flex;width: 100%;justify-content: space-between;align-items: center;color: WHITE;background: #277fff;border-radius: 5px 5px 0px 0px;">\n                  <h5 class="modal-title" id="courseDetailModalLabel"></h5>\n                  <button onclick="closeCourseDetailModal()" type="button" class="btn-close" style="background: transparent;border: 0px;" data-bs-dismiss="modal" aria-label="Close"><i class="fa fa-times" style="color: #FFF;font-size: 16px;"></i></button>\n                </div>\n                <div class="modal-body">\n                  <div id="courseDetailContent" class="p-3">\n                    <p>Loading...</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        ');const a={url:getPathNameForUrl(e)},s=$("#courseDetailModal"),o=$("#courseDetailModalLabel"),n=$("#courseDetailContent");return o.text(t),n.html("<p>Loading...</p>"),s.modal("show"),$.ajax({url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/dashboard/get-course-summary",method:"POST",contentType:"application/json",data:JSON.stringify(a),success:function(e){const t=JSON.parse(e);n.html(`\n                <p>${t.data.OVERVIEW||"No overview available."}</p>\n            `)},error:function(e){console.error("Error fetching course details:",e)}}),!1}function closeCourseDetailModal(){$("#courseDetailModal").modal("hide")}function callForApplicationSubmit(){return hideModalMessage(""),$.ajax({type:"POST",contentType:"application/json",url:BASE_URL+CONTEXT_PATH+SCHOOL_UUID+"/student/submit-application",data:JSON.stringify(getRequestForApplicationSubmit()),dataType:"json",async:!1,success:function(e){"0"==e.status||"2"==e.status||"3"==e.status?"3"==e.status?redirectLoginPage():showMessage(!1,e.message):(showMessage(!0,"Thank you! Your application has been successfully submitted"),applicationSubmittedModal(e.details.contactEmail))}}),!1}function getRequestForApplicationSubmit(){var e={};return e.userId=USER_ID,e}function applicationSubmittedModal(e){$("#submitApplicationMsg").html('Your enrollment application is under review. For any further queries, reach out to <a class="priamry-txt-color" href="mailto:'+e+'">'+e+"</a>"),$("#goToDashboardWarningMessage").modal({backdrop:"static",keyboard:!1}),$("#submitApplicationWarning").modal("hide")}function switchGrade(){var e=$("#gradeId").val();$("#standardId").val().trim()==e?$("#standardId").val(e):""!=$("#selectedSubjects").val().trim()?($("#gradeChangeWarning").remove(),$("body").append(switchFlexyGradeWarningModal()),19==e?$("#gradeChangeWarningMessage").html("You are about to switch to Elementary School courses. Please note that your course selection will be lost. Do you wish to proceed?"):9==e?$("#gradeChangeWarningMessage").html("You are about to switch to Middle School courses. Please note that your course selection will be lost. Do you wish to proceed?"):10==e?$("#gradeChangeWarningMessage").html("You are about to switch to High School courses. Please note that your course selection will be lost. Do you wish to proceed?"):20==e?$("#gradeChangeWarningMessage").html("You are about to switch to Credit Recovery courses. Please note that your course selection will be lost. Do you wish to proceed?"):21==e&&$("#gradeChangeWarningMessage").html("You are about to switch to Advanced Placement courses. Please note that your course selection will be lost. Do you wish to proceed?"),$("#gradeChangeWarningYes").attr("onclick","switchGradeYes('"+e+"')"),$("#gradeChangeWarningNo").attr("onclick","switchGradeNo('"+e+"')"),$("#gradeChangeWarning").modal("show")):switchGradeYes()}function switchGradeYes(){$("#standardId").val($("#gradeId").val()),$("#gradeChangeWarning").modal("hide"),$("#selectedSubjects").val(""),$("#controlType").val("remove"),getAllCourseDetails("Y","")}function switchGradeNo(e){$("#gradeChangeWarning").modal("hide"),$("#gradeId").val($("#standardId").val()).trigger("change")}function signupLogout(){$("#logoutSignupModal").modal("show")}function logoutConfimation(e,t){e?window.location.href=t:$("#logoutSignupModal").modal("hide")}function toggleAddRemoveAllBtn(){let e=$(".add-recommended-course-not-mandatory, .add-recommended-course-already-selected"),t=$(".add-recommended-course-not-mandatory:checked, .add-recommended-course-already-selected:checked");e.length>0&&e.length===t.length?($("#addAllRecommendedCourse").hide(),$("#reomveAllRecommendedCourse").show()):($("#reomveAllRecommendedCourse").hide(),$("#addAllRecommendedCourse").show())}function updateConfirmButtonState(){let e=!1;$(".add-recommended-course-already-selected, .add-recommended-course-not-mandatory").each((function(){if(!0===$(this).data("checked")!=$(this).prop("checked"))return e=!0,!1})),e?$("#confirmAndAddRecommendedCourse").attr("disabled",!1).addClass("primary-bg").removeClass("btn-light"):$("#confirmAndAddRecommendedCourse").attr("disabled",!0).removeClass("primary-bg").addClass("btn-light")}